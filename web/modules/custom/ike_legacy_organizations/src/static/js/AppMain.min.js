/*! jQuery v2.1.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */

//# sourceMappingURL=jquery.min.map;
//     Underscore.js 1.6.0
//     http://underscorejs.org
//     (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

//     (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

// MarionetteJS (Backbone.Marionette)
// ----------------------------------
// v2.4.4
//
// Copyright (c)2015 Derick Bailey, Muted Solutions, LLC.
// Distributed under MIT license
//
// http://marionettejs.com

/*!
 * Includes BabySitter
 * https://github.com/marionettejs/backbone.babysitter/
 *
 * Includes Wreqr
 * https://github.com/marionettejs/backbone.wreqr/
 */

// Copyright (c)2015 Derick Bailey, Muted Solutions, LLC.

// Distributed under MIT license

/*!
 * jQuery Accordion 0.0.1
 * (c) 2014 Victor Fernandez <victor@vctrfrnndz.com>
 * MIT Licensed.
 */

/*!
 * fullPage 2.7.7
 * https://github.com/alvarotrigo/fullPage.js
 * @license MIT licensed
 *
 * Copyright (C) 2015 alvarotrigo.com - A project by Alvaro Trigo
 */

/*!
 * Masonry PACKAGED v3.3.2
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */

/**
 * Bridget makes jQuery widgets
 * v1.1.0
 * MIT license
 */

/*!
 * eventie v1.0.6
 * event binding helper
 *   eventie.bind( elem, 'click', myFn )
 *   eventie.unbind( elem, 'click', myFn )
 * MIT license
 */

/*!
 * EventEmitter v4.2.11 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - http://oli.me.uk/
 * @preserve
 */

/*!
 * getStyleProperty v1.0.4
 * original by kangax
 * http://perfectionkills.com/feature-testing-css-properties/
 * MIT license
 */

/*!
 * getSize v1.2.2
 * measure size of elements
 * MIT license
 */

/*!
 * docReady v1.0.4
 * Cross browser DOMContentLoaded event emitter
 * MIT license
 */

/**
 * matchesSelector v1.0.3
 * matchesSelector( element, '.selector' )
 * MIT license
 */

/**
 * Fizzy UI utils v1.0.1
 * MIT license
 */

/*!
 * Outlayer v1.4.2
 * the brains and guts of a layout library
 * MIT license
 */

/*!
 * Masonry v3.3.2
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */

/*!
 * jQuery Transit - CSS3 transitions and transformations
 * (c) 2011-2014 Rico Sta. Cruz
 * MIT Licensed.
 *
 * http://ricostacruz.com/jquery.transit
 * http://github.com/rstacruz/jquery.transit
 */

/**
 * cbpGridGallery.js v1.0.0
 * http://www.codrops.com
 *
 * Licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 *
 * Copyright 2014, Codrops
 * http://www.codrops.com
 */

/*! Hammer.JS - v2.0.4 - 2014-09-28
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2014 Jorik Tangelder;
 * Licensed under the MIT license */

/*
 *	jQuery dotdotdot 1.7.2
 *
 *	Copyright (c) Fred Heusschen
 *	www.frebsite.nl
 *
 *	Plugin website:
 *	dotdotdot.frebsite.nl
 *
 *	Licensed under the MIT license.
 *	http://en.wikipedia.org/wiki/MIT_License
 */

/*! wavesurfer.js 1.0.47
* https://github.com/katspaugh/wavesurfer.js
* @license CC-BY-3.0 */

/*!
Video.js - HTML5 Video Player
Version 3.2.0

LGPL v3 LICENSE INFO
This file is part of Video.js. Copyright 2011 Zencoder, Inc.

Video.js is free software: you can redistribute it and/or modify
it under the terms of the GNU Lesser General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

Video.js is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public License
along with Video.js.  If not, see <http://www.gnu.org/licenses/>.
*/

/**
 * @license RequireJS text 2.0.3 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

!function (e, t) {
  "object" == typeof module && "object" == typeof module.exports ? module.exports = e.document ? t(e, !0) : function (e) {
    if (!e.document) throw new Error("jQuery requires a window with a document");
    return t(e)
  } : t(e)
}("undefined" != typeof window ? window : this, function (a, b) {
  function s(e) {
    var t = e.length, r = n.type(e);
    return "function" === r || n.isWindow(e) ? !1 : 1 === e.nodeType && t ? !0 : "array" === r || 0 === t || "number" == typeof t && t > 0 && t - 1 in e
  }

  function x(e, t, r) {
    if (n.isFunction(t)) return n.grep(e, function (e, n) {
      return !!t.call(e, n, e) !== r
    });
    if (t.nodeType) return n.grep(e, function (e) {
      return e === t !== r
    });
    if ("string" == typeof t) {
      if (w.test(t)) return n.filter(t, e, r);
      t = n.filter(t, e)
    }
    return n.grep(e, function (e) {
      return g.call(t, e) >= 0 !== r
    })
  }

  function D(e, t) {
    while ((e = e[t]) && 1 !== e.nodeType) ;
    return e
  }

  function G(e) {
    var t = F[e] = {};
    return n.each(e.match(E) || [], function (e, n) {
      t[n] = !0
    }), t
  }

  function I() {
    l.removeEventListener("DOMContentLoaded", I, !1), a.removeEventListener("load", I, !1), n.ready()
  }

  function K() {
    Object.defineProperty(this.cache = {}, 0, {
      get: function () {
        return {}
      }
    }), this.expando = n.expando + Math.random()
  }

  function P(e, t, r) {
    var i;
    if (void 0 === r && 1 === e.nodeType) if (i = "data-" + t.replace(O, "-$1").toLowerCase(), r = e.getAttribute(i), "string" == typeof r) {
      try {
        r = "true" === r ? !0 : "false" === r ? !1 : "null" === r ? null : +r + "" === r ? +r : N.test(r) ? n.parseJSON(r) : r
      } catch (s) {
      }
      M.set(e, t, r)
    } else r = void 0;
    return r
  }

  function Z() {
    return !0
  }

  function $() {
    return !1
  }

  function _() {
    try {
      return l.activeElement
    } catch (e) {
    }
  }

  function jb(e, t) {
    return n.nodeName(e, "table") && n.nodeName(11 !== t.nodeType ? t : t.firstChild, "tr") ? e.getElementsByTagName("tbody")[0] || e.appendChild(e.ownerDocument.createElement("tbody")) : e
  }

  function kb(e) {
    return e.type = (null !== e.getAttribute("type")) + "/" + e.type, e
  }

  function lb(e) {
    var t = gb.exec(e.type);
    return t ? e.type = t[1] : e.removeAttribute("type"), e
  }

  function mb(e, t) {
    for (var n = 0, r = e.length; r > n; n++) L.set(e[n], "globalEval", !t || L.get(t[n], "globalEval"))
  }

  function nb(e, t) {
    var r, i, s, o, u, a, f, l;
    if (1 === t.nodeType) {
      if (L.hasData(e) && (o = L.access(e), u = L.set(t, o), l = o.events)) {
        delete u.handle, u.events = {};
        for (s in l) for (r = 0, i = l[s].length; i > r; r++) n.event.add(t, s, l[s][r])
      }
      M.hasData(e) && (a = M.access(e), f = n.extend({}, a), M.set(t, f))
    }
  }

  function ob(e, t) {
    var r = e.getElementsByTagName ? e.getElementsByTagName(t || "*") : e.querySelectorAll ? e.querySelectorAll(t || "*") : [];
    return void 0 === t || t && n.nodeName(e, t) ? n.merge([e], r) : r
  }

  function pb(e, t) {
    var n = t.nodeName.toLowerCase();
    "input" === n && T.test(e.type) ? t.checked = e.checked : ("input" === n || "textarea" === n) && (t.defaultValue = e.defaultValue)
  }

  function sb(e, t) {
    var r, i = n(t.createElement(e)).appendTo(t.body),
      s = a.getDefaultComputedStyle && (r = a.getDefaultComputedStyle(i[0])) ? r.display : n.css(i[0], "display");
    return i.detach(), s
  }

  function tb(e) {
    var t = l, r = rb[e];
    return r || (r = sb(e, t), "none" !== r && r || (qb = (qb || n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement), t = qb[0].contentDocument, t.write(), t.close(), r = sb(e, t), qb.detach()), rb[e] = r), r
  }

  function xb(e, t, r) {
    var i, s, o, u, a = e.style;
    return r = r || wb(e), r && (u = r.getPropertyValue(t) || r[t]), r && ("" !== u || n.contains(e.ownerDocument, e) || (u = n.style(e, t)), vb.test(u) && ub.test(t) && (i = a.width, s = a.minWidth, o = a.maxWidth, a.minWidth = a.maxWidth = a.width = u, u = r.width, a.width = i, a.minWidth = s, a.maxWidth = o)), void 0 !== u ? u + "" : u
  }

  function yb(e, t) {
    return {
      get: function () {
        return e() ? void delete this.get : (this.get = t).apply(this, arguments)
      }
    }
  }

  function Fb(e, t) {
    if (t in e) return t;
    var n = t[0].toUpperCase() + t.slice(1), r = t, i = Eb.length;
    while (i--) if (t = Eb[i] + n, t in e) return t;
    return r
  }

  function Gb(e, t, n) {
    var r = Ab.exec(t);
    return r ? Math.max(0, r[1] - (n || 0)) + (r[2] || "px") : t
  }

  function Hb(e, t, r, i, s) {
    for (var o = r === (i ? "border" : "content") ? 4 : "width" === t ? 1 : 0, u = 0; 4 > o; o += 2) "margin" === r && (u += n.css(e, r + R[o], !0, s)), i ? ("content" === r && (u -= n.css(e, "padding" + R[o], !0, s)), "margin" !== r && (u -= n.css(e, "border" + R[o] + "Width", !0, s))) : (u += n.css(e, "padding" + R[o], !0, s), "padding" !== r && (u += n.css(e, "border" + R[o] + "Width", !0, s)));
    return u
  }

  function Ib(e, t, r) {
    var i = !0, s = "width" === t ? e.offsetWidth : e.offsetHeight, o = wb(e),
      u = "border-box" === n.css(e, "boxSizing", !1, o);
    if (0 >= s || null == s) {
      if (s = xb(e, t, o), (0 > s || null == s) && (s = e.style[t]), vb.test(s)) return s;
      i = u && (k.boxSizingReliable() || s === e.style[t]), s = parseFloat(s) || 0
    }
    return s + Hb(e, t, r || (u ? "border" : "content"), i, o) + "px"
  }

  function Jb(e, t) {
    for (var r, i, s, o = [], u = 0, a = e.length; a > u; u++) i = e[u], i.style && (o[u] = L.get(i, "olddisplay"), r = i.style.display, t ? (o[u] || "none" !== r || (i.style.display = ""), "" === i.style.display && S(i) && (o[u] = L.access(i, "olddisplay", tb(i.nodeName)))) : (s = S(i), "none" === r && s || L.set(i, "olddisplay", s ? r : n.css(i, "display"))));
    for (u = 0; a > u; u++) i = e[u], i.style && (t && "none" !== i.style.display && "" !== i.style.display || (i.style.display = t ? o[u] || "" : "none"));
    return e
  }

  function Kb(e, t, n, r, i) {
    return new Kb.prototype.init(e, t, n, r, i)
  }

  function Sb() {
    return setTimeout(function () {
      Lb = void 0
    }), Lb = n.now()
  }

  function Tb(e, t) {
    var n, r = 0, i = {height: e};
    for (t = t ? 1 : 0; 4 > r; r += 2 - t) n = R[r], i["margin" + n] = i["padding" + n] = e;
    return t && (i.opacity = i.width = e), i
  }

  function Ub(e, t, n) {
    for (var r, i = (Rb[t] || []).concat(Rb["*"]), s = 0, o = i.length; o > s; s++) if (r = i[s].call(n, t, e)) return r
  }

  function Vb(e, t, r) {
    var i, s, o, u, a, f, l, c, h = this, p = {}, d = e.style, v = e.nodeType && S(e), m = L.get(e, "fxshow");
    r.queue || (a = n._queueHooks(e, "fx"), null == a.unqueued && (a.unqueued = 0, f = a.empty.fire, a.empty.fire = function () {
      a.unqueued || f()
    }), a.unqueued++, h.always(function () {
      h.always(function () {
        a.unqueued--, n.queue(e, "fx").length || a.empty.fire()
      })
    })), 1 === e.nodeType && ("height" in t || "width" in t) && (r.overflow = [d.overflow, d.overflowX, d.overflowY], l = n.css(e, "display"), c = "none" === l ? L.get(e, "olddisplay") || tb(e.nodeName) : l, "inline" === c && "none" === n.css(e, "float") && (d.display = "inline-block")), r.overflow && (d.overflow = "hidden", h.always(function () {
      d.overflow = r.overflow[0], d.overflowX = r.overflow[1], d.overflowY = r.overflow[2]
    }));
    for (i in t) if (s = t[i], Nb.exec(s)) {
      if (delete t[i], o = o || "toggle" === s, s === (v ? "hide" : "show")) {
        if ("show" !== s || !m || void 0 === m[i]) continue;
        v = !0
      }
      p[i] = m && m[i] || n.style(e, i)
    } else l = void 0;
    if (n.isEmptyObject(p)) "inline" === ("none" === l ? tb(e.nodeName) : l) && (d.display = l); else {
      m ? "hidden" in m && (v = m.hidden) : m = L.access(e, "fxshow", {}), o && (m.hidden = !v), v ? n(e).show() : h.done(function () {
        n(e).hide()
      }), h.done(function () {
        var t;
        L.remove(e, "fxshow");
        for (t in p) n.style(e, t, p[t])
      });
      for (i in p) u = Ub(v ? m[i] : 0, i, h), i in m || (m[i] = u.start, v && (u.end = u.start, u.start = "width" === i || "height" === i ? 1 : 0))
    }
  }

  function Wb(e, t) {
    var r, i, s, o, u;
    for (r in e) if (i = n.camelCase(r), s = t[i], o = e[r], n.isArray(o) && (s = o[1], o = e[r] = o[0]), r !== i && (e[i] = o, delete e[r]), u = n.cssHooks[i], u && "expand" in u) {
      o = u.expand(o), delete e[i];
      for (r in o) r in e || (e[r] = o[r], t[r] = s)
    } else t[i] = s
  }

  function Xb(e, t, r) {
    var i, s, o = 0, u = Qb.length, a = n.Deferred().always(function () {
      delete f.elem
    }), f = function () {
      if (s) return !1;
      for (var t = Lb || Sb(), n = Math.max(0, l.startTime + l.duration - t), r = n / l.duration || 0, i = 1 - r, o = 0, u = l.tweens.length; u > o; o++) l.tweens[o].run(i);
      return a.notifyWith(e, [l, i, n]), 1 > i && u ? n : (a.resolveWith(e, [l]), !1)
    }, l = a.promise({
      elem: e,
      props: n.extend({}, t),
      opts: n.extend(!0, {specialEasing: {}}, r),
      originalProperties: t,
      originalOptions: r,
      startTime: Lb || Sb(),
      duration: r.duration,
      tweens: [],
      createTween: function (t, r) {
        var i = n.Tween(e, l.opts, t, r, l.opts.specialEasing[t] || l.opts.easing);
        return l.tweens.push(i), i
      },
      stop: function (t) {
        var n = 0, r = t ? l.tweens.length : 0;
        if (s) return this;
        for (s = !0; r > n; n++) l.tweens[n].run(1);
        return t ? a.resolveWith(e, [l, t]) : a.rejectWith(e, [l, t]), this
      }
    }), c = l.props;
    for (Wb(c, l.opts.specialEasing); u > o; o++) if (i = Qb[o].call(l, e, c, l.opts)) return i;
    return n.map(c, Ub, l), n.isFunction(l.opts.start) && l.opts.start.call(e, l), n.fx.timer(n.extend(f, {
      elem: e,
      anim: l,
      queue: l.opts.queue
    })), l.progress(l.opts.progress).done(l.opts.done, l.opts.complete).fail(l.opts.fail).always(l.opts.always)
  }

  function rc(e) {
    return function (t, r) {
      "string" != typeof t && (r = t, t = "*");
      var i, s = 0, o = t.toLowerCase().match(E) || [];
      if (n.isFunction(r)) while (i = o[s++]) "+" === i[0] ? (i = i.slice(1) || "*", (e[i] = e[i] || []).unshift(r)) : (e[i] = e[i] || []).push(r)
    }
  }

  function sc(e, t, r, i) {
    function u(l) {
      var h;
      return s[l] = !0, n.each(e[l] || [], function (e, n) {
        var a = n(t, r, i);
        return "string" != typeof a || o || s[a] ? o ? !(h = a) : void 0 : (t.dataTypes.unshift(a), u(a), !1)
      }), h
    }

    var s = {}, o = e === oc;
    return u(t.dataTypes[0]) || !s["*"] && u("*")
  }

  function tc(e, t) {
    var r, i, s = n.ajaxSettings.flatOptions || {};
    for (r in t) void 0 !== t[r] && ((s[r] ? e : i || (i = {}))[r] = t[r]);
    return i && n.extend(!0, e, i), e
  }

  function uc(e, t, n) {
    var r, i, s, o, u = e.contents, a = e.dataTypes;
    while ("*" === a[0]) a.shift(), void 0 === r && (r = e.mimeType || t.getResponseHeader("Content-Type"));
    if (r) for (i in u) if (u[i] && u[i].test(r)) {
      a.unshift(i);
      break
    }
    if (a[0] in n) s = a[0]; else {
      for (i in n) {
        if (!a[0] || e.converters[i + " " + a[0]]) {
          s = i;
          break
        }
        o || (o = i)
      }
      s = s || o
    }
    return s ? (s !== a[0] && a.unshift(s), n[s]) : void 0
  }

  function vc(e, t, n, r) {
    var i, s, o, u, a, f = {}, l = e.dataTypes.slice();
    if (l[1]) for (o in e.converters) f[o.toLowerCase()] = e.converters[o];
    s = l.shift();
    while (s) if (e.responseFields[s] && (n[e.responseFields[s]] = t), !a && r && e.dataFilter && (t = e.dataFilter(t, e.dataType)), a = s, s = l.shift()) if ("*" === s) s = a; else if ("*" !== a && a !== s) {
      if (o = f[a + " " + s] || f["* " + s], !o) for (i in f) if (u = i.split(" "), u[1] === s && (o = f[a + " " + u[0]] || f["* " + u[0]])) {
        o === !0 ? o = f[i] : f[i] !== !0 && (s = u[0], l.unshift(u[1]));
        break
      }
      if (o !== !0) if (o && e["throws"]) t = o(t); else try {
        t = o(t)
      } catch (c) {
        return {state: "parsererror", error: o ? c : "No conversion from " + a + " to " + s}
      }
    }
    return {state: "success", data: t}
  }

  function Bc(e, t, r, i) {
    var s;
    if (n.isArray(t)) n.each(t, function (t, n) {
      r || xc.test(e) ? i(e, n) : Bc(e + "[" + ("object" == typeof n ? t : "") + "]", n, r, i)
    }); else if (r || "object" !== n.type(t)) i(e, t); else for (s in t) Bc(e + "[" + s + "]", t[s], r, i)
  }

  function Kc(e) {
    return n.isWindow(e) ? e : 9 === e.nodeType && e.defaultView
  }

  var c = [], d = c.slice, e = c.concat, f = c.push, g = c.indexOf, h = {}, i = h.toString, j = h.hasOwnProperty,
    k = {}, l = a.document, m = "2.1.1", n = function (e, t) {
      return new n.fn.init(e, t)
    }, o = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, p = /^-ms-/, q = /-([\da-z])/gi, r = function (e, t) {
      return t.toUpperCase()
    };
  n.fn = n.prototype = {
    jquery: m, constructor: n, selector: "", length: 0, toArray: function () {
      return d.call(this)
    }, get: function (e) {
      return null != e ? 0 > e ? this[e + this.length] : this[e] : d.call(this)
    }, pushStack: function (e) {
      var t = n.merge(this.constructor(), e);
      return t.prevObject = this, t.context = this.context, t
    }, each: function (e, t) {
      return n.each(this, e, t)
    }, map: function (e) {
      return this.pushStack(n.map(this, function (t, n) {
        return e.call(t, n, t)
      }))
    }, slice: function () {
      return this.pushStack(d.apply(this, arguments))
    }, first: function () {
      return this.eq(0)
    }, last: function () {
      return this.eq(-1)
    }, eq: function (e) {
      var t = this.length, n = +e + (0 > e ? t : 0);
      return this.pushStack(n >= 0 && t > n ? [this[n]] : [])
    }, end: function () {
      return this.prevObject || this.constructor(null)
    }, push: f, sort: c.sort, splice: c.splice
  }, n.extend = n.fn.extend = function () {
    var e, t, r, i, s, o, u = arguments[0] || {}, a = 1, f = arguments.length, l = !1;
    for ("boolean" == typeof u && (l = u, u = arguments[a] || {}, a++), "object" == typeof u || n.isFunction(u) || (u = {}), a === f && (u = this, a--); f > a; a++) if (null != (e = arguments[a])) for (t in e) r = u[t], i = e[t], u !== i && (l && i && (n.isPlainObject(i) || (s = n.isArray(i))) ? (s ? (s = !1, o = r && n.isArray(r) ? r : []) : o = r && n.isPlainObject(r) ? r : {}, u[t] = n.extend(l, o, i)) : void 0 !== i && (u[t] = i));
    return u
  }, n.extend({
    expando: "jQuery" + (m + Math.random()).replace(/\D/g, ""), isReady: !0, error: function (e) {
      throw new Error(e)
    }, noop: function () {
    }, isFunction: function (e) {
      return "function" === n.type(e)
    }, isArray: Array.isArray, isWindow: function (e) {
      return null != e && e === e.window
    }, isNumeric: function (e) {
      return !n.isArray(e) && e - parseFloat(e) >= 0
    }, isPlainObject: function (e) {
      return "object" !== n.type(e) || e.nodeType || n.isWindow(e) ? !1 : e.constructor && !j.call(e.constructor.prototype, "isPrototypeOf") ? !1 : !0
    }, isEmptyObject: function (e) {
      var t;
      for (t in e) return !1;
      return !0
    }, type: function (e) {
      return null == e ? e + "" : "object" == typeof e || "function" == typeof e ? h[i.call(e)] || "object" : typeof e
    }, globalEval: function (a) {
      var b, c = eval;
      a = n.trim(a), a && (1 === a.indexOf("use strict") ? (b = l.createElement("script"), b.text = a, l.head.appendChild(b).parentNode.removeChild(b)) : c(a))
    }, camelCase: function (e) {
      return e.replace(p, "ms-").replace(q, r)
    }, nodeName: function (e, t) {
      return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase()
    }, each: function (e, t, n) {
      var r, i = 0, o = e.length, u = s(e);
      if (n) {
        if (u) {
          for (; o > i; i++) if (r = t.apply(e[i], n), r === !1) break
        } else for (i in e) if (r = t.apply(e[i], n), r === !1) break
      } else if (u) {
        for (; o > i; i++) if (r = t.call(e[i], i, e[i]), r === !1) break
      } else for (i in e) if (r = t.call(e[i], i, e[i]), r === !1) break;
      return e
    }, trim: function (e) {
      return null == e ? "" : (e + "").replace(o, "")
    }, makeArray: function (e, t) {
      var r = t || [];
      return null != e && (s(Object(e)) ? n.merge(r, "string" == typeof e ? [e] : e) : f.call(r, e)), r
    }, inArray: function (e, t, n) {
      return null == t ? -1 : g.call(t, e, n)
    }, merge: function (e, t) {
      for (var n = +t.length, r = 0, i = e.length; n > r; r++) e[i++] = t[r];
      return e.length = i, e
    }, grep: function (e, t, n) {
      for (var r, i = [], s = 0, o = e.length, u = !n; o > s; s++) r = !t(e[s], s), r !== u && i.push(e[s]);
      return i
    }, map: function (t, n, r) {
      var i, o = 0, u = t.length, a = s(t), f = [];
      if (a) for (; u > o; o++) i = n(t[o], o, r), null != i && f.push(i); else for (o in t) i = n(t[o], o, r), null != i && f.push(i);
      return e.apply([], f)
    }, guid: 1, proxy: function (e, t) {
      var r, i, s;
      return "string" == typeof t && (r = e[t], t = e, e = r), n.isFunction(e) ? (i = d.call(arguments, 2), s = function () {
        return e.apply(t || this, i.concat(d.call(arguments)))
      }, s.guid = e.guid = e.guid || n.guid++, s) : void 0
    }, now: Date.now, support: k
  }), n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function (e, t) {
    h["[object " + t + "]"] = t.toLowerCase()
  });
  var t = function (e) {
    function st(e, t, r, i) {
      var s, u, f, l, c, d, g, y, S, x;
      if ((t ? t.ownerDocument || t : E) !== p && h(t), t = t || p, r = r || [], !e || "string" != typeof e) return r;
      if (1 !== (l = t.nodeType) && 9 !== l) return [];
      if (v && !i) {
        if (s = Z.exec(e)) if (f = s[1]) {
          if (9 === l) {
            if (u = t.getElementById(f), !u || !u.parentNode) return r;
            if (u.id === f) return r.push(u), r
          } else if (t.ownerDocument && (u = t.ownerDocument.getElementById(f)) && b(t, u) && u.id === f) return r.push(u), r
        } else {
          if (s[2]) return P.apply(r, t.getElementsByTagName(e)), r;
          if ((f = s[3]) && n.getElementsByClassName && t.getElementsByClassName) return P.apply(r, t.getElementsByClassName(f)), r
        }
        if (n.qsa && (!m || !m.test(e))) {
          if (y = g = w, S = t, x = 9 === l && e, 1 === l && "object" !== t.nodeName.toLowerCase()) {
            d = o(e), (g = t.getAttribute("id")) ? y = g.replace(tt, "\\$&") : t.setAttribute("id", y), y = "[id='" + y + "'] ", c = d.length;
            while (c--) d[c] = y + mt(d[c]);
            S = et.test(e) && dt(t.parentNode) || t, x = d.join(",")
          }
          if (x) try {
            return P.apply(r, S.querySelectorAll(x)), r
          } catch (T) {
          } finally {
            g || t.removeAttribute("id")
          }
        }
      }
      return a(e.replace(z, "$1"), t, r, i)
    }

    function ot() {
      function t(n, i) {
        return e.push(n + " ") > r.cacheLength && delete t[e.shift()], t[n + " "] = i
      }

      var e = [];
      return t
    }

    function ut(e) {
      return e[w] = !0, e
    }

    function at(e) {
      var t = p.createElement("div");
      try {
        return !!e(t)
      } catch (n) {
        return !1
      } finally {
        t.parentNode && t.parentNode.removeChild(t), t = null
      }
    }

    function ft(e, t) {
      var n = e.split("|"), i = e.length;
      while (i--) r.attrHandle[n[i]] = t
    }

    function lt(e, t) {
      var n = t && e, r = n && 1 === e.nodeType && 1 === t.nodeType && (~t.sourceIndex || A) - (~e.sourceIndex || A);
      if (r) return r;
      if (n) while (n = n.nextSibling) if (n === t) return -1;
      return e ? 1 : -1
    }

    function ct(e) {
      return function (t) {
        var n = t.nodeName.toLowerCase();
        return "input" === n && t.type === e
      }
    }

    function ht(e) {
      return function (t) {
        var n = t.nodeName.toLowerCase();
        return ("input" === n || "button" === n) && t.type === e
      }
    }

    function pt(e) {
      return ut(function (t) {
        return t = +t, ut(function (n, r) {
          var i, s = e([], n.length, t), o = s.length;
          while (o--) n[i = s[o]] && (n[i] = !(r[i] = n[i]))
        })
      })
    }

    function dt(e) {
      return e && typeof e.getElementsByTagName !== L && e
    }

    function vt() {
    }

    function mt(e) {
      for (var t = 0, n = e.length, r = ""; n > t; t++) r += e[t].value;
      return r
    }

    function gt(e, t, n) {
      var r = t.dir, i = n && "parentNode" === r, s = x++;
      return t.first ? function (t, n, s) {
        while (t = t[r]) if (1 === t.nodeType || i) return e(t, n, s)
      } : function (t, n, o) {
        var u, a, f = [S, s];
        if (o) {
          while (t = t[r]) if ((1 === t.nodeType || i) && e(t, n, o)) return !0
        } else while (t = t[r]) if (1 === t.nodeType || i) {
          if (a = t[w] || (t[w] = {}), (u = a[r]) && u[0] === S && u[1] === s) return f[2] = u[2];
          if (a[r] = f, f[2] = e(t, n, o)) return !0
        }
      }
    }

    function yt(e) {
      return e.length > 1 ? function (t, n, r) {
        var i = e.length;
        while (i--) if (!e[i](t, n, r)) return !1;
        return !0
      } : e[0]
    }

    function bt(e, t, n) {
      for (var r = 0, i = t.length; i > r; r++) st(e, t[r], n);
      return n
    }

    function wt(e, t, n, r, i) {
      for (var s, o = [], u = 0, a = e.length, f = null != t; a > u; u++) (s = e[u]) && (!n || n(s, r, i)) && (o.push(s), f && t.push(u));
      return o
    }

    function Et(e, t, n, r, i, s) {
      return r && !r[w] && (r = Et(r)), i && !i[w] && (i = Et(i, s)), ut(function (s, o, u, a) {
        var f, l, c, h = [], p = [], d = o.length, v = s || bt(t || "*", u.nodeType ? [u] : u, []),
          m = !e || !s && t ? v : wt(v, h, e, u, a), g = n ? i || (s ? e : d || r) ? [] : o : m;
        if (n && n(m, g, u, a), r) {
          f = wt(g, p), r(f, [], u, a), l = f.length;
          while (l--) (c = f[l]) && (g[p[l]] = !(m[p[l]] = c))
        }
        if (s) {
          if (i || e) {
            if (i) {
              f = [], l = g.length;
              while (l--) (c = g[l]) && f.push(m[l] = c);
              i(null, g = [], f, a)
            }
            l = g.length;
            while (l--) (c = g[l]) && (f = i ? B.call(s, c) : h[l]) > -1 && (s[f] = !(o[f] = c))
          }
        } else g = wt(g === o ? g.splice(d, g.length) : g), i ? i(null, o, g, a) : P.apply(o, g)
      })
    }

    function St(e) {
      for (var t, n, i, s = e.length, o = r.relative[e[0].type], u = o || r.relative[" "], a = o ? 1 : 0, l = gt(function (e) {
        return e === t
      }, u, !0), c = gt(function (e) {
        return B.call(t, e) > -1
      }, u, !0), h = [function (e, n, r) {
        return !o && (r || n !== f) || ((t = n).nodeType ? l(e, n, r) : c(e, n, r))
      }]; s > a; a++) if (n = r.relative[e[a].type]) h = [gt(yt(h), n)]; else {
        if (n = r.filter[e[a].type].apply(null, e[a].matches), n[w]) {
          for (i = ++a; s > i; i++) if (r.relative[e[i].type]) break;
          return Et(a > 1 && yt(h), a > 1 && mt(e.slice(0, a - 1).concat({value: " " === e[a - 2].type ? "*" : ""})).replace(z, "$1"), n, i > a && St(e.slice(a, i)), s > i && St(e = e.slice(i)), s > i && mt(e))
        }
        h.push(n)
      }
      return yt(h)
    }

    function xt(e, t) {
      var n = t.length > 0, i = e.length > 0, s = function (s, o, u, a, l) {
        var c, h, d, v = 0, m = "0", g = s && [], y = [], b = f, w = s || i && r.find.TAG("*", l),
          E = S += null == b ? 1 : Math.random() || .1, x = w.length;
        for (l && (f = o !== p && o); m !== x && null != (c = w[m]); m++) {
          if (i && c) {
            h = 0;
            while (d = e[h++]) if (d(c, o, u)) {
              a.push(c);
              break
            }
            l && (S = E)
          }
          n && ((c = !d && c) && v--, s && g.push(c))
        }
        if (v += m, n && m !== v) {
          h = 0;
          while (d = t[h++]) d(g, y, o, u);
          if (s) {
            if (v > 0) while (m--) g[m] || y[m] || (y[m] = _.call(a));
            y = wt(y)
          }
          P.apply(a, y), l && !s && y.length > 0 && v + t.length > 1 && st.uniqueSort(a)
        }
        return l && (S = E, f = b), g
      };
      return n ? ut(s) : s
    }

    var t, n, r, i, s, o, u, a, f, l, c, h, p, d, v, m, g, y, b, w = "sizzle" + -(new Date), E = e.document, S = 0,
      x = 0, T = ot(), N = ot(), C = ot(), k = function (e, t) {
        return e === t && (c = !0), 0
      }, L = "undefined", A = 1 << 31, O = {}.hasOwnProperty, M = [], _ = M.pop, D = M.push, P = M.push, H = M.slice,
      B = M.indexOf || function (e) {
        for (var t = 0, n = this.length; n > t; t++) if (this[t] === e) return t;
        return -1
      },
      j = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
      F = "[\\x20\\t\\r\\n\\f]", I = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+", q = I.replace("w", "w#"),
      R = "\\[" + F + "*(" + I + ")(?:" + F + "*([*^$|!~]?=)" + F + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + q + "))|)" + F + "*\\]",
      U = ":(" + I + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + R + ")*)|.*)\\)|)",
      z = new RegExp("^" + F + "+|((?:^|[^\\\\])(?:\\\\.)*)" + F + "+$", "g"), W = new RegExp("^" + F + "*," + F + "*"),
      X = new RegExp("^" + F + "*([>+~]|" + F + ")" + F + "*"),
      V = new RegExp("=" + F + "*([^\\]'\"]*?)" + F + "*\\]", "g"), $ = new RegExp(U), J = new RegExp("^" + q + "$"),
      K = {
        ID: new RegExp("^#(" + I + ")"),
        CLASS: new RegExp("^\\.(" + I + ")"),
        TAG: new RegExp("^(" + I.replace("w", "w*") + ")"),
        ATTR: new RegExp("^" + R),
        PSEUDO: new RegExp("^" + U),
        CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + F + "*(even|odd|(([+-]|)(\\d*)n|)" + F + "*(?:([+-]|)" + F + "*(\\d+)|))" + F + "*\\)|)", "i"),
        bool: new RegExp("^(?:" + j + ")$", "i"),
        needsContext: new RegExp("^" + F + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + F + "*((?:-\\d)?\\d*)" + F + "*\\)|)(?=[^-]|$)", "i")
      }, Q = /^(?:input|select|textarea|button)$/i, G = /^h\d$/i, Y = /^[^{]+\{\s*\[native \w/,
      Z = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, et = /[+~]/, tt = /'|\\/g,
      nt = new RegExp("\\\\([\\da-f]{1,6}" + F + "?|(" + F + ")|.)", "ig"), rt = function (e, t, n) {
        var r = "0x" + t - 65536;
        return r !== r || n ? t : 0 > r ? String.fromCharCode(r + 65536) : String.fromCharCode(r >> 10 | 55296, 1023 & r | 56320)
      };
    try {
      P.apply(M = H.call(E.childNodes), E.childNodes), M[E.childNodes.length].nodeType
    } catch (it) {
      P = {
        apply: M.length ? function (e, t) {
          D.apply(e, H.call(t))
        } : function (e, t) {
          var n = e.length, r = 0;
          while (e[n++] = t[r++]) ;
          e.length = n - 1
        }
      }
    }
    n = st.support = {}, s = st.isXML = function (e) {
      var t = e && (e.ownerDocument || e).documentElement;
      return t ? "HTML" !== t.nodeName : !1
    }, h = st.setDocument = function (e) {
      var t, i = e ? e.ownerDocument || e : E, o = i.defaultView;
      return i !== p && 9 === i.nodeType && i.documentElement ? (p = i, d = i.documentElement, v = !s(i), o && o !== o.top && (o.addEventListener ? o.addEventListener("unload", function () {
        h()
      }, !1) : o.attachEvent && o.attachEvent("onunload", function () {
        h()
      })), n.attributes = at(function (e) {
        return e.className = "i", !e.getAttribute("className")
      }), n.getElementsByTagName = at(function (e) {
        return e.appendChild(i.createComment("")), !e.getElementsByTagName("*").length
      }), n.getElementsByClassName = Y.test(i.getElementsByClassName) && at(function (e) {
        return e.innerHTML = "<div class='a'></div><div class='a i'></div>", e.firstChild.className = "i", 2 === e.getElementsByClassName("i").length
      }), n.getById = at(function (e) {
        return d.appendChild(e).id = w, !i.getElementsByName || !i.getElementsByName(w).length
      }), n.getById ? (r.find.ID = function (e, t) {
        if (typeof t.getElementById !== L && v) {
          var n = t.getElementById(e);
          return n && n.parentNode ? [n] : []
        }
      }, r.filter.ID = function (e) {
        var t = e.replace(nt, rt);
        return function (e) {
          return e.getAttribute("id") === t
        }
      }) : (delete r.find.ID, r.filter.ID = function (e) {
        var t = e.replace(nt, rt);
        return function (e) {
          var n = typeof e.getAttributeNode !== L && e.getAttributeNode("id");
          return n && n.value === t
        }
      }), r.find.TAG = n.getElementsByTagName ? function (e, t) {
        return typeof t.getElementsByTagName !== L ? t.getElementsByTagName(e) : void 0
      } : function (e, t) {
        var n, r = [], i = 0, s = t.getElementsByTagName(e);
        if ("*" === e) {
          while (n = s[i++]) 1 === n.nodeType && r.push(n);
          return r
        }
        return s
      }, r.find.CLASS = n.getElementsByClassName && function (e, t) {
        return typeof t.getElementsByClassName !== L && v ? t.getElementsByClassName(e) : void 0
      }, g = [], m = [], (n.qsa = Y.test(i.querySelectorAll)) && (at(function (e) {
        e.innerHTML = "<select msallowclip=''><option selected=''></option></select>", e.querySelectorAll("[msallowclip^='']").length && m.push("[*^$]=" + F + "*(?:''|\"\")"), e.querySelectorAll("[selected]").length || m.push("\\[" + F + "*(?:value|" + j + ")"), e.querySelectorAll(":checked").length || m.push(":checked")
      }), at(function (e) {
        var t = i.createElement("input");
        t.setAttribute("type", "hidden"), e.appendChild(t).setAttribute("name", "D"), e.querySelectorAll("[name=d]").length && m.push("name" + F + "*[*^$|!~]?="), e.querySelectorAll(":enabled").length || m.push(":enabled", ":disabled"), e.querySelectorAll("*,:x"), m.push(",.*:")
      })), (n.matchesSelector = Y.test(y = d.matches || d.webkitMatchesSelector || d.mozMatchesSelector || d.oMatchesSelector || d.msMatchesSelector)) && at(function (e) {
        n.disconnectedMatch = y.call(e, "div"), y.call(e, "[s!='']:x"), g.push("!=", U)
      }), m = m.length && new RegExp(m.join("|")), g = g.length && new RegExp(g.join("|")), t = Y.test(d.compareDocumentPosition), b = t || Y.test(d.contains) ? function (e, t) {
        var n = 9 === e.nodeType ? e.documentElement : e, r = t && t.parentNode;
        return e === r || !!r && 1 === r.nodeType && !!(n.contains ? n.contains(r) : e.compareDocumentPosition && 16 & e.compareDocumentPosition(r))
      } : function (e, t) {
        if (t) while (t = t.parentNode) if (t === e) return !0;
        return !1
      }, k = t ? function (e, t) {
        if (e === t) return c = !0, 0;
        var r = !e.compareDocumentPosition - !t.compareDocumentPosition;
        return r ? r : (r = (e.ownerDocument || e) === (t.ownerDocument || t) ? e.compareDocumentPosition(t) : 1, 1 & r || !n.sortDetached && t.compareDocumentPosition(e) === r ? e === i || e.ownerDocument === E && b(E, e) ? -1 : t === i || t.ownerDocument === E && b(E, t) ? 1 : l ? B.call(l, e) - B.call(l, t) : 0 : 4 & r ? -1 : 1)
      } : function (e, t) {
        if (e === t) return c = !0, 0;
        var n, r = 0, s = e.parentNode, o = t.parentNode, u = [e], a = [t];
        if (!s || !o) return e === i ? -1 : t === i ? 1 : s ? -1 : o ? 1 : l ? B.call(l, e) - B.call(l, t) : 0;
        if (s === o) return lt(e, t);
        n = e;
        while (n = n.parentNode) u.unshift(n);
        n = t;
        while (n = n.parentNode) a.unshift(n);
        while (u[r] === a[r]) r++;
        return r ? lt(u[r], a[r]) : u[r] === E ? -1 : a[r] === E ? 1 : 0
      }, i) : p
    }, st.matches = function (e, t) {
      return st(e, null, null, t)
    }, st.matchesSelector = function (e, t) {
      if ((e.ownerDocument || e) !== p && h(e), t = t.replace(V, "='$1']"), !(!n.matchesSelector || !v || g && g.test(t) || m && m.test(t))) try {
        var r = y.call(e, t);
        if (r || n.disconnectedMatch || e.document && 11 !== e.document.nodeType) return r
      } catch (i) {
      }
      return st(t, p, null, [e]).length > 0
    }, st.contains = function (e, t) {
      return (e.ownerDocument || e) !== p && h(e), b(e, t)
    }, st.attr = function (e, t) {
      (e.ownerDocument || e) !== p && h(e);
      var i = r.attrHandle[t.toLowerCase()], s = i && O.call(r.attrHandle, t.toLowerCase()) ? i(e, t, !v) : void 0;
      return void 0 !== s ? s : n.attributes || !v ? e.getAttribute(t) : (s = e.getAttributeNode(t)) && s.specified ? s.value : null
    }, st.error = function (e) {
      throw new Error("Syntax error, unrecognized expression: " + e)
    }, st.uniqueSort = function (e) {
      var t, r = [], i = 0, s = 0;
      if (c = !n.detectDuplicates, l = !n.sortStable && e.slice(0), e.sort(k), c) {
        while (t = e[s++]) t === e[s] && (i = r.push(s));
        while (i--) e.splice(r[i], 1)
      }
      return l = null, e
    }, i = st.getText = function (e) {
      var t, n = "", r = 0, s = e.nodeType;
      if (s) {
        if (1 === s || 9 === s || 11 === s) {
          if ("string" == typeof e.textContent) return e.textContent;
          for (e = e.firstChild; e; e = e.nextSibling) n += i(e)
        } else if (3 === s || 4 === s) return e.nodeValue
      } else while (t = e[r++]) n += i(t);
      return n
    }, r = st.selectors = {
      cacheLength: 50,
      createPseudo: ut,
      match: K,
      attrHandle: {},
      find: {},
      relative: {
        ">": {dir: "parentNode", first: !0},
        " ": {dir: "parentNode"},
        "+": {dir: "previousSibling", first: !0},
        "~": {dir: "previousSibling"}
      },
      preFilter: {
        ATTR: function (e) {
          return e[1] = e[1].replace(nt, rt), e[3] = (e[3] || e[4] || e[5] || "").replace(nt, rt), "~=" === e[2] && (e[3] = " " + e[3] + " "), e.slice(0, 4)
        }, CHILD: function (e) {
          return e[1] = e[1].toLowerCase(), "nth" === e[1].slice(0, 3) ? (e[3] || st.error(e[0]), e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * ("even" === e[3] || "odd" === e[3])), e[5] = +(e[7] + e[8] || "odd" === e[3])) : e[3] && st.error(e[0]), e
        }, PSEUDO: function (e) {
          var t, n = !e[6] && e[2];
          return K.CHILD.test(e[0]) ? null : (e[3] ? e[2] = e[4] || e[5] || "" : n && $.test(n) && (t = o(n, !0)) && (t = n.indexOf(")", n.length - t) - n.length) && (e[0] = e[0].slice(0, t), e[2] = n.slice(0, t)), e.slice(0, 3))
        }
      },
      filter: {
        TAG: function (e) {
          var t = e.replace(nt, rt).toLowerCase();
          return "*" === e ? function () {
            return !0
          } : function (e) {
            return e.nodeName && e.nodeName.toLowerCase() === t
          }
        }, CLASS: function (e) {
          var t = T[e + " "];
          return t || (t = new RegExp("(^|" + F + ")" + e + "(" + F + "|$)")) && T(e, function (e) {
            return t.test("string" == typeof e.className && e.className || typeof e.getAttribute !== L && e.getAttribute("class") || "")
          })
        }, ATTR: function (e, t, n) {
          return function (r) {
            var i = st.attr(r, e);
            return null == i ? "!=" === t : t ? (i += "", "=" === t ? i === n : "!=" === t ? i !== n : "^=" === t ? n && 0 === i.indexOf(n) : "*=" === t ? n && i.indexOf(n) > -1 : "$=" === t ? n && i.slice(-n.length) === n : "~=" === t ? (" " + i + " ").indexOf(n) > -1 : "|=" === t ? i === n || i.slice(0, n.length + 1) === n + "-" : !1) : !0
          }
        }, CHILD: function (e, t, n, r, i) {
          var s = "nth" !== e.slice(0, 3), o = "last" !== e.slice(-4), u = "of-type" === t;
          return 1 === r && 0 === i ? function (e) {
            return !!e.parentNode
          } : function (t, n, a) {
            var f, l, c, h, p, d, v = s !== o ? "nextSibling" : "previousSibling", m = t.parentNode,
              g = u && t.nodeName.toLowerCase(), y = !a && !u;
            if (m) {
              if (s) {
                while (v) {
                  c = t;
                  while (c = c[v]) if (u ? c.nodeName.toLowerCase() === g : 1 === c.nodeType) return !1;
                  d = v = "only" === e && !d && "nextSibling"
                }
                return !0
              }
              if (d = [o ? m.firstChild : m.lastChild], o && y) {
                l = m[w] || (m[w] = {}), f = l[e] || [], p = f[0] === S && f[1], h = f[0] === S && f[2], c = p && m.childNodes[p];
                while (c = ++p && c && c[v] || (h = p = 0) || d.pop()) if (1 === c.nodeType && ++h && c === t) {
                  l[e] = [S, p, h];
                  break
                }
              } else if (y && (f = (t[w] || (t[w] = {}))[e]) && f[0] === S) h = f[1]; else while (c = ++p && c && c[v] || (h = p = 0) || d.pop()) if ((u ? c.nodeName.toLowerCase() === g : 1 === c.nodeType) && ++h && (y && ((c[w] || (c[w] = {}))[e] = [S, h]), c === t)) break;
              return h -= i, h === r || h % r === 0 && h / r >= 0
            }
          }
        }, PSEUDO: function (e, t) {
          var n, i = r.pseudos[e] || r.setFilters[e.toLowerCase()] || st.error("unsupported pseudo: " + e);
          return i[w] ? i(t) : i.length > 1 ? (n = [e, e, "", t], r.setFilters.hasOwnProperty(e.toLowerCase()) ? ut(function (e, n) {
            var r, s = i(e, t), o = s.length;
            while (o--) r = B.call(e, s[o]), e[r] = !(n[r] = s[o])
          }) : function (e) {
            return i(e, 0, n)
          }) : i
        }
      },
      pseudos: {
        not: ut(function (e) {
          var t = [], n = [], r = u(e.replace(z, "$1"));
          return r[w] ? ut(function (e, t, n, i) {
            var s, o = r(e, null, i, []), u = e.length;
            while (u--) (s = o[u]) && (e[u] = !(t[u] = s))
          }) : function (e, i, s) {
            return t[0] = e, r(t, null, s, n), !n.pop()
          }
        }), has: ut(function (e) {
          return function (t) {
            return st(e, t).length > 0
          }
        }), contains: ut(function (e) {
          return function (t) {
            return (t.textContent || t.innerText || i(t)).indexOf(e) > -1
          }
        }), lang: ut(function (e) {
          return J.test(e || "") || st.error("unsupported lang: " + e), e = e.replace(nt, rt).toLowerCase(), function (t) {
            var n;
            do if (n = v ? t.lang : t.getAttribute("xml:lang") || t.getAttribute("lang")) return n = n.toLowerCase(), n === e || 0 === n.indexOf(e + "-"); while ((t = t.parentNode) && 1 === t.nodeType);
            return !1
          }
        }), target: function (t) {
          var n = e.location && e.location.hash;
          return n && n.slice(1) === t.id
        }, root: function (e) {
          return e === d
        }, focus: function (e) {
          return e === p.activeElement && (!p.hasFocus || p.hasFocus()) && !!(e.type || e.href || ~e.tabIndex)
        }, enabled: function (e) {
          return e.disabled === !1
        }, disabled: function (e) {
          return e.disabled === !0
        }, checked: function (e) {
          var t = e.nodeName.toLowerCase();
          return "input" === t && !!e.checked || "option" === t && !!e.selected
        }, selected: function (e) {
          return e.parentNode && e.parentNode.selectedIndex, e.selected === !0
        }, empty: function (e) {
          for (e = e.firstChild; e; e = e.nextSibling) if (e.nodeType < 6) return !1;
          return !0
        }, parent: function (e) {
          return !r.pseudos.empty(e)
        }, header: function (e) {
          return G.test(e.nodeName)
        }, input: function (e) {
          return Q.test(e.nodeName)
        }, button: function (e) {
          var t = e.nodeName.toLowerCase();
          return "input" === t && "button" === e.type || "button" === t
        }, text: function (e) {
          var t;
          return "input" === e.nodeName.toLowerCase() && "text" === e.type && (null == (t = e.getAttribute("type")) || "text" === t.toLowerCase())
        }, first: pt(function () {
          return [0]
        }), last: pt(function (e, t) {
          return [t - 1]
        }), eq: pt(function (e, t, n) {
          return [0 > n ? n + t : n]
        }), even: pt(function (e, t) {
          for (var n = 0; t > n; n += 2) e.push(n);
          return e
        }), odd: pt(function (e, t) {
          for (var n = 1; t > n; n += 2) e.push(n);
          return e
        }), lt: pt(function (e, t, n) {
          for (var r = 0 > n ? n + t : n; --r >= 0;) e.push(r);
          return e
        }), gt: pt(function (e, t, n) {
          for (var r = 0 > n ? n + t : n; ++r < t;) e.push(r);
          return e
        })
      }
    }, r.pseudos.nth = r.pseudos.eq;
    for (t in {radio: !0, checkbox: !0, file: !0, password: !0, image: !0}) r.pseudos[t] = ct(t);
    for (t in {submit: !0, reset: !0}) r.pseudos[t] = ht(t);
    return vt.prototype = r.filters = r.pseudos, r.setFilters = new vt, o = st.tokenize = function (e, t) {
      var n, i, s, o, u, a, f, l = N[e + " "];
      if (l) return t ? 0 : l.slice(0);
      u = e, a = [], f = r.preFilter;
      while (u) {
        (!n || (i = W.exec(u))) && (i && (u = u.slice(i[0].length) || u), a.push(s = [])), n = !1, (i = X.exec(u)) && (n = i.shift(), s.push({
          value: n,
          type: i[0].replace(z, " ")
        }), u = u.slice(n.length));
        for (o in r.filter) !(i = K[o].exec(u)) || f[o] && !(i = f[o](i)) || (n = i.shift(), s.push({
          value: n,
          type: o,
          matches: i
        }), u = u.slice(n.length));
        if (!n) break
      }
      return t ? u.length : u ? st.error(e) : N(e, a).slice(0)
    }, u = st.compile = function (e, t) {
      var n, r = [], i = [], s = C[e + " "];
      if (!s) {
        t || (t = o(e)), n = t.length;
        while (n--) s = St(t[n]), s[w] ? r.push(s) : i.push(s);
        s = C(e, xt(i, r)), s.selector = e
      }
      return s
    }, a = st.select = function (e, t, i, s) {
      var a, f, l, c, h, p = "function" == typeof e && e, d = !s && o(e = p.selector || e);
      if (i = i || [], 1 === d.length) {
        if (f = d[0] = d[0].slice(0), f.length > 2 && "ID" === (l = f[0]).type && n.getById && 9 === t.nodeType && v && r.relative[f[1].type]) {
          if (t = (r.find.ID(l.matches[0].replace(nt, rt), t) || [])[0], !t) return i;
          p && (t = t.parentNode), e = e.slice(f.shift().value.length)
        }
        a = K.needsContext.test(e) ? 0 : f.length;
        while (a--) {
          if (l = f[a], r.relative[c = l.type]) break;
          if ((h = r.find[c]) && (s = h(l.matches[0].replace(nt, rt), et.test(f[0].type) && dt(t.parentNode) || t))) {
            if (f.splice(a, 1), e = s.length && mt(f), !e) return P.apply(i, s), i;
            break
          }
        }
      }
      return (p || u(e, d))(s, t, !v, i, et.test(e) && dt(t.parentNode) || t), i
    }, n.sortStable = w.split("").sort(k).join("") === w, n.detectDuplicates = !!c, h(), n.sortDetached = at(function (e) {
      return 1 & e.compareDocumentPosition(p.createElement("div"))
    }), at(function (e) {
      return e.innerHTML = "<a href='#'></a>", "#" === e.firstChild.getAttribute("href")
    }) || ft("type|href|height|width", function (e, t, n) {
      return n ? void 0 : e.getAttribute(t, "type" === t.toLowerCase() ? 1 : 2)
    }), n.attributes && at(function (e) {
      return e.innerHTML = "<input/>", e.firstChild.setAttribute("value", ""), "" === e.firstChild.getAttribute("value")
    }) || ft("value", function (e, t, n) {
      return n || "input" !== e.nodeName.toLowerCase() ? void 0 : e.defaultValue
    }), at(function (e) {
      return null == e.getAttribute("disabled")
    }) || ft(j, function (e, t, n) {
      var r;
      return n ? void 0 : e[t] === !0 ? t.toLowerCase() : (r = e.getAttributeNode(t)) && r.specified ? r.value : null
    }), st
  }(a);
  n.find = t, n.expr = t.selectors, n.expr[":"] = n.expr.pseudos, n.unique = t.uniqueSort, n.text = t.getText, n.isXMLDoc = t.isXML, n.contains = t.contains;
  var u = n.expr.match.needsContext, v = /^<(\w+)\s*\/?>(?:<\/\1>|)$/, w = /^.[^:#\[\.,]*$/;
  n.filter = function (e, t, r) {
    var i = t[0];
    return r && (e = ":not(" + e + ")"), 1 === t.length && 1 === i.nodeType ? n.find.matchesSelector(i, e) ? [i] : [] : n.find.matches(e, n.grep(t, function (e) {
      return 1 === e.nodeType
    }))
  }, n.fn.extend({
    find: function (e) {
      var t, r = this.length, i = [], s = this;
      if ("string" != typeof e) return this.pushStack(n(e).filter(function () {
        for (t = 0; r > t; t++) if (n.contains(s[t], this)) return !0
      }));
      for (t = 0; r > t; t++) n.find(e, s[t], i);
      return i = this.pushStack(r > 1 ? n.unique(i) : i), i.selector = this.selector ? this.selector + " " + e : e, i
    }, filter: function (e) {
      return this.pushStack(x(this, e || [], !1))
    }, not: function (e) {
      return this.pushStack(x(this, e || [], !0))
    }, is: function (e) {
      return !!x(this, "string" == typeof e && u.test(e) ? n(e) : e || [], !1).length
    }
  });
  var y, z = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/, A = n.fn.init = function (e, t) {
    var r, i;
    if (!e) return this;
    if ("string" == typeof e) {
      if (r = "<" === e[0] && ">" === e[e.length - 1] && e.length >= 3 ? [null, e, null] : z.exec(e), !r || !r[1] && t) return !t || t.jquery ? (t || y).find(e) : this.constructor(t).find(e);
      if (r[1]) {
        if (t = t instanceof n ? t[0] : t, n.merge(this, n.parseHTML(r[1], t && t.nodeType ? t.ownerDocument || t : l, !0)), v.test(r[1]) && n.isPlainObject(t)) for (r in t) n.isFunction(this[r]) ? this[r](t[r]) : this.attr(r, t[r]);
        return this
      }
      return i = l.getElementById(r[2]), i && i.parentNode && (this.length = 1, this[0] = i), this.context = l, this.selector = e, this
    }
    return e.nodeType ? (this.context = this[0] = e, this.length = 1, this) : n.isFunction(e) ? "undefined" != typeof y.ready ? y.ready(e) : e(n) : (void 0 !== e.selector && (this.selector = e.selector, this.context = e.context), n.makeArray(e, this))
  };
  A.prototype = n.fn, y = n(l);
  var B = /^(?:parents|prev(?:Until|All))/, C = {children: !0, contents: !0, next: !0, prev: !0};
  n.extend({
    dir: function (e, t, r) {
      var i = [], s = void 0 !== r;
      while ((e = e[t]) && 9 !== e.nodeType) if (1 === e.nodeType) {
        if (s && n(e).is(r)) break;
        i.push(e)
      }
      return i
    }, sibling: function (e, t) {
      for (var n = []; e; e = e.nextSibling) 1 === e.nodeType && e !== t && n.push(e);
      return n
    }
  }), n.fn.extend({
    has: function (e) {
      var t = n(e, this), r = t.length;
      return this.filter(function () {
        for (var e = 0; r > e; e++) if (n.contains(this, t[e])) return !0
      })
    }, closest: function (e, t) {
      for (var r, i = 0, s = this.length, o = [], a = u.test(e) || "string" != typeof e ? n(e, t || this.context) : 0; s > i; i++) for (r = this[i]; r && r !== t; r = r.parentNode) if (r.nodeType < 11 && (a ? a.index(r) > -1 : 1 === r.nodeType && n.find.matchesSelector(r, e))) {
        o.push(r);
        break
      }
      return this.pushStack(o.length > 1 ? n.unique(o) : o)
    }, index: function (e) {
      return e ? "string" == typeof e ? g.call(n(e), this[0]) : g.call(this, e.jquery ? e[0] : e) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
    }, add: function (e, t) {
      return this.pushStack(n.unique(n.merge(this.get(), n(e, t))))
    }, addBack: function (e) {
      return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
    }
  }), n.each({
    parent: function (e) {
      var t = e.parentNode;
      return t && 11 !== t.nodeType ? t : null
    }, parents: function (e) {
      return n.dir(e, "parentNode")
    }, parentsUntil: function (e, t, r) {
      return n.dir(e, "parentNode", r)
    }, next: function (e) {
      return D(e, "nextSibling")
    }, prev: function (e) {
      return D(e, "previousSibling")
    }, nextAll: function (e) {
      return n.dir(e, "nextSibling")
    }, prevAll: function (e) {
      return n.dir(e, "previousSibling")
    }, nextUntil: function (e, t, r) {
      return n.dir(e, "nextSibling", r)
    }, prevUntil: function (e, t, r) {
      return n.dir(e, "previousSibling", r)
    }, siblings: function (e) {
      return n.sibling((e.parentNode || {}).firstChild, e)
    }, children: function (e) {
      return n.sibling(e.firstChild)
    }, contents: function (e) {
      return e.contentDocument || n.merge([], e.childNodes)
    }
  }, function (e, t) {
    n.fn[e] = function (r, i) {
      var s = n.map(this, t, r);
      return "Until" !== e.slice(-5) && (i = r), i && "string" == typeof i && (s = n.filter(i, s)), this.length > 1 && (C[e] || n.unique(s), B.test(e) && s.reverse()), this.pushStack(s)
    }
  });
  var E = /\S+/g, F = {};
  n.Callbacks = function (e) {
    e = "string" == typeof e ? F[e] || G(e) : n.extend({}, e);
    var t, r, i, s, o, u, a = [], f = !e.once && [], l = function (n) {
      for (t = e.memory && n, r = !0, u = s || 0, s = 0, o = a.length, i = !0; a && o > u; u++) if (a[u].apply(n[0], n[1]) === !1 && e.stopOnFalse) {
        t = !1;
        break
      }
      i = !1, a && (f ? f.length && l(f.shift()) : t ? a = [] : c.disable())
    }, c = {
      add: function () {
        if (a) {
          var r = a.length;
          !function u(t) {
            n.each(t, function (t, r) {
              var i = n.type(r);
              "function" === i ? e.unique && c.has(r) || a.push(r) : r && r.length && "string" !== i && u(r)
            })
          }(arguments), i ? o = a.length : t && (s = r, l(t))
        }
        return this
      }, remove: function () {
        return a && n.each(arguments, function (e, t) {
          var r;
          while ((r = n.inArray(t, a, r)) > -1) a.splice(r, 1), i && (o >= r && o--, u >= r && u--)
        }), this
      }, has: function (e) {
        return e ? n.inArray(e, a) > -1 : !!a && !!a.length
      }, empty: function () {
        return a = [], o = 0, this
      }, disable: function () {
        return a = f = t = void 0, this
      }, disabled: function () {
        return !a
      }, lock: function () {
        return f = void 0, t || c.disable(), this
      }, locked: function () {
        return !f
      }, fireWith: function (e, t) {
        return !a || r && !f || (t = t || [], t = [e, t.slice ? t.slice() : t], i ? f.push(t) : l(t)), this
      }, fire: function () {
        return c.fireWith(this, arguments), this
      }, fired: function () {
        return !!r
      }
    };
    return c
  }, n.extend({
    Deferred: function (e) {
      var t = [["resolve", "done", n.Callbacks("once memory"), "resolved"], ["reject", "fail", n.Callbacks("once memory"), "rejected"], ["notify", "progress", n.Callbacks("memory")]],
        r = "pending", i = {
          state: function () {
            return r
          }, always: function () {
            return s.done(arguments).fail(arguments), this
          }, then: function () {
            var e = arguments;
            return n.Deferred(function (r) {
              n.each(t, function (t, o) {
                var u = n.isFunction(e[t]) && e[t];
                s[o[1]](function () {
                  var e = u && u.apply(this, arguments);
                  e && n.isFunction(e.promise) ? e.promise().done(r.resolve).fail(r.reject).progress(r.notify) : r[o[0] + "With"](this === i ? r.promise() : this, u ? [e] : arguments)
                })
              }), e = null
            }).promise()
          }, promise: function (e) {
            return null != e ? n.extend(e, i) : i
          }
        }, s = {};
      return i.pipe = i.then, n.each(t, function (e, n) {
        var o = n[2], u = n[3];
        i[n[1]] = o.add, u && o.add(function () {
          r = u
        }, t[1 ^ e][2].disable, t[2][2].lock), s[n[0]] = function () {
          return s[n[0] + "With"](this === s ? i : this, arguments), this
        }, s[n[0] + "With"] = o.fireWith
      }), i.promise(s), e && e.call(s, s), s
    }, when: function (e) {
      var t = 0, r = d.call(arguments), i = r.length, s = 1 !== i || e && n.isFunction(e.promise) ? i : 0,
        o = 1 === s ? e : n.Deferred(), u = function (e, t, n) {
          return function (r) {
            t[e] = this, n[e] = arguments.length > 1 ? d.call(arguments) : r, n === a ? o.notifyWith(t, n) : --s || o.resolveWith(t, n)
          }
        }, a, f, l;
      if (i > 1) for (a = new Array(i), f = new Array(i), l = new Array(i); i > t; t++) r[t] && n.isFunction(r[t].promise) ? r[t].promise().done(u(t, l, r)).fail(o.reject).progress(u(t, f, a)) : --s;
      return s || o.resolveWith(l, r), o.promise()
    }
  });
  var H;
  n.fn.ready = function (e) {
    return n.ready.promise().done(e), this
  }, n.extend({
    isReady: !1, readyWait: 1, holdReady: function (e) {
      e ? n.readyWait++ : n.ready(!0)
    }, ready: function (e) {
      (e === !0 ? --n.readyWait : n.isReady) || (n.isReady = !0, e !== !0 && --n.readyWait > 0 || (H.resolveWith(l, [n]), n.fn.triggerHandler && (n(l).triggerHandler("ready"), n(l).off("ready"))))
    }
  }), n.ready.promise = function (e) {
    return H || (H = n.Deferred(), "complete" === l.readyState ? setTimeout(n.ready) : (l.addEventListener("DOMContentLoaded", I, !1), a.addEventListener("load", I, !1))), H.promise(e)
  }, n.ready.promise();
  var J = n.access = function (e, t, r, i, s, o, u) {
    var a = 0, f = e.length, l = null == r;
    if ("object" === n.type(r)) {
      s = !0;
      for (a in r) n.access(e, t, a, r[a], !0, o, u)
    } else if (void 0 !== i && (s = !0, n.isFunction(i) || (u = !0), l && (u ? (t.call(e, i), t = null) : (l = t, t = function (e, t, r) {
      return l.call(n(e), r)
    })), t)) for (; f > a; a++) t(e[a], r, u ? i : i.call(e[a], a, t(e[a], r)));
    return s ? e : l ? t.call(e) : f ? t(e[0], r) : o
  };
  n.acceptData = function (e) {
    return 1 === e.nodeType || 9 === e.nodeType || !+e.nodeType
  }, K.uid = 1, K.accepts = n.acceptData, K.prototype = {
    key: function (e) {
      if (!K.accepts(e)) return 0;
      var t = {}, r = e[this.expando];
      if (!r) {
        r = K.uid++;
        try {
          t[this.expando] = {value: r}, Object.defineProperties(e, t)
        } catch (i) {
          t[this.expando] = r, n.extend(e, t)
        }
      }
      return this.cache[r] || (this.cache[r] = {}), r
    }, set: function (e, t, r) {
      var i, s = this.key(e), o = this.cache[s];
      if ("string" == typeof t) o[t] = r; else if (n.isEmptyObject(o)) n.extend(this.cache[s], t); else for (i in t) o[i] = t[i];
      return o
    }, get: function (e, t) {
      var n = this.cache[this.key(e)];
      return void 0 === t ? n : n[t]
    }, access: function (e, t, r) {
      var i;
      return void 0 === t || t && "string" == typeof t && void 0 === r ? (i = this.get(e, t), void 0 !== i ? i : this.get(e, n.camelCase(t))) : (this.set(e, t, r), void 0 !== r ? r : t)
    }, remove: function (e, t) {
      var r, i, s, o = this.key(e), u = this.cache[o];
      if (void 0 === t) this.cache[o] = {}; else {
        n.isArray(t) ? i = t.concat(t.map(n.camelCase)) : (s = n.camelCase(t), t in u ? i = [t, s] : (i = s, i = i in u ? [i] : i.match(E) || [])), r = i.length;
        while (r--) delete u[i[r]]
      }
    }, hasData: function (e) {
      return !n.isEmptyObject(this.cache[e[this.expando]] || {})
    }, discard: function (e) {
      e[this.expando] && delete this.cache[e[this.expando]]
    }
  };
  var L = new K, M = new K, N = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/, O = /([A-Z])/g;
  n.extend({
    hasData: function (e) {
      return M.hasData(e) || L.hasData(e)
    }, data: function (e, t, n) {
      return M.access(e, t, n)
    }, removeData: function (e, t) {
      M.remove(e, t)
    }, _data: function (e, t, n) {
      return L.access(e, t, n)
    }, _removeData: function (e, t) {
      L.remove(e, t)
    }
  }), n.fn.extend({
    data: function (e, t) {
      var r, i, s, o = this[0], u = o && o.attributes;
      if (void 0 === e) {
        if (this.length && (s = M.get(o), 1 === o.nodeType && !L.get(o, "hasDataAttrs"))) {
          r = u.length;
          while (r--) u[r] && (i = u[r].name, 0 === i.indexOf("data-") && (i = n.camelCase(i.slice(5)), P(o, i, s[i])));
          L.set(o, "hasDataAttrs", !0)
        }
        return s
      }
      return "object" == typeof e ? this.each(function () {
        M.set(this, e)
      }) : J(this, function (t) {
        var r, i = n.camelCase(e);
        if (o && void 0 === t) {
          if (r = M.get(o, e), void 0 !== r) return r;
          if (r = M.get(o, i), void 0 !== r) return r;
          if (r = P(o, i, void 0), void 0 !== r) return r
        } else this.each(function () {
          var n = M.get(this, i);
          M.set(this, i, t), -1 !== e.indexOf("-") && void 0 !== n && M.set(this, e, t)
        })
      }, null, t, arguments.length > 1, null, !0)
    }, removeData: function (e) {
      return this.each(function () {
        M.remove(this, e)
      })
    }
  }), n.extend({
    queue: function (e, t, r) {
      var i;
      return e ? (t = (t || "fx") + "queue", i = L.get(e, t), r && (!i || n.isArray(r) ? i = L.access(e, t, n.makeArray(r)) : i.push(r)), i || []) : void 0
    }, dequeue: function (e, t) {
      t = t || "fx";
      var r = n.queue(e, t), i = r.length, s = r.shift(), o = n._queueHooks(e, t), u = function () {
        n.dequeue(e, t)
      };
      "inprogress" === s && (s = r.shift(), i--), s && ("fx" === t && r.unshift("inprogress"), delete o.stop, s.call(e, u, o)), !i && o && o.empty.fire()
    }, _queueHooks: function (e, t) {
      var r = t + "queueHooks";
      return L.get(e, r) || L.access(e, r, {
        empty: n.Callbacks("once memory").add(function () {
          L.remove(e, [t + "queue", r])
        })
      })
    }
  }), n.fn.extend({
    queue: function (e, t) {
      var r = 2;
      return "string" != typeof e && (t = e, e = "fx", r--), arguments.length < r ? n.queue(this[0], e) : void 0 === t ? this : this.each(function () {
        var r = n.queue(this, e, t);
        n._queueHooks(this, e), "fx" === e && "inprogress" !== r[0] && n.dequeue(this, e)
      })
    }, dequeue: function (e) {
      return this.each(function () {
        n.dequeue(this, e)
      })
    }, clearQueue: function (e) {
      return this.queue(e || "fx", [])
    }, promise: function (e, t) {
      var r, i = 1, s = n.Deferred(), o = this, u = this.length, a = function () {
        --i || s.resolveWith(o, [o])
      };
      "string" != typeof e && (t = e, e = void 0), e = e || "fx";
      while (u--) r = L.get(o[u], e + "queueHooks"), r && r.empty && (i++, r.empty.add(a));
      return a(), s.promise(t)
    }
  });
  var Q = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source, R = ["Top", "Right", "Bottom", "Left"], S = function (e, t) {
    return e = t || e, "none" === n.css(e, "display") || !n.contains(e.ownerDocument, e)
  }, T = /^(?:checkbox|radio)$/i;
  !function () {
    var e = l.createDocumentFragment(), t = e.appendChild(l.createElement("div")), n = l.createElement("input");
    n.setAttribute("type", "radio"), n.setAttribute("checked", "checked"), n.setAttribute("name", "t"), t.appendChild(n), k.checkClone = t.cloneNode(!0).cloneNode(!0).lastChild.checked, t.innerHTML = "<textarea>x</textarea>", k.noCloneChecked = !!t.cloneNode(!0).lastChild.defaultValue
  }();
  var U = "undefined";
  k.focusinBubbles = "onfocusin" in a;
  var V = /^key/, W = /^(?:mouse|pointer|contextmenu)|click/, X = /^(?:focusinfocus|focusoutblur)$/,
    Y = /^([^.]*)(?:\.(.+)|)$/;
  n.event = {
    global: {},
    add: function (e, t, r, i, s) {
      var o, u, a, f, l, c, h, p, d, v, m, g = L.get(e);
      if (g) {
        r.handler && (o = r, r = o.handler, s = o.selector), r.guid || (r.guid = n.guid++), (f = g.events) || (f = g.events = {}), (u = g.handle) || (u = g.handle = function (t) {
          return typeof n !== U && n.event.triggered !== t.type ? n.event.dispatch.apply(e, arguments) : void 0
        }), t = (t || "").match(E) || [""], l = t.length;
        while (l--) a = Y.exec(t[l]) || [], d = m = a[1], v = (a[2] || "").split(".").sort(), d && (h = n.event.special[d] || {}, d = (s ? h.delegateType : h.bindType) || d, h = n.event.special[d] || {}, c = n.extend({
          type: d,
          origType: m,
          data: i,
          handler: r,
          guid: r.guid,
          selector: s,
          needsContext: s && n.expr.match.needsContext.test(s),
          namespace: v.join(".")
        }, o), (p = f[d]) || (p = f[d] = [], p.delegateCount = 0, h.setup && h.setup.call(e, i, v, u) !== !1 || e.addEventListener && e.addEventListener(d, u, !1)), h.add && (h.add.call(e, c), c.handler.guid || (c.handler.guid = r.guid)), s ? p.splice(p.delegateCount++, 0, c) : p.push(c), n.event.global[d] = !0)
      }
    },
    remove: function (e, t, r, i, s) {
      var o, u, a, f, l, c, h, p, d, v, m, g = L.hasData(e) && L.get(e);
      if (g && (f = g.events)) {
        t = (t || "").match(E) || [""], l = t.length;
        while (l--) if (a = Y.exec(t[l]) || [], d = m = a[1], v = (a[2] || "").split(".").sort(), d) {
          h = n.event.special[d] || {}, d = (i ? h.delegateType : h.bindType) || d, p = f[d] || [], a = a[2] && new RegExp("(^|\\.)" + v.join("\\.(?:.*\\.|)") + "(\\.|$)"), u = o = p.length;
          while (o--) c = p[o], !s && m !== c.origType || r && r.guid !== c.guid || a && !a.test(c.namespace) || i && i !== c.selector && ("**" !== i || !c.selector) || (p.splice(o, 1), c.selector && p.delegateCount--, h.remove && h.remove.call(e, c));
          u && !p.length && (h.teardown && h.teardown.call(e, v, g.handle) !== !1 || n.removeEvent(e, d, g.handle), delete f[d])
        } else for (d in f) n.event.remove(e, d + t[l], r, i, !0);
        n.isEmptyObject(f) && (delete g.handle, L.remove(e, "events"))
      }
    },
    trigger: function (e, t, r, i) {
      var s, o, u, f, c, h, p, d = [r || l], v = j.call(e, "type") ? e.type : e,
        m = j.call(e, "namespace") ? e.namespace.split(".") : [];
      if (o = u = r = r || l, 3 !== r.nodeType && 8 !== r.nodeType && !X.test(v + n.event.triggered) && (v.indexOf(".") >= 0 && (m = v.split("."), v = m.shift(), m.sort()), c = v.indexOf(":") < 0 && "on" + v, e = e[n.expando] ? e : new n.Event(v, "object" == typeof e && e), e.isTrigger = i ? 2 : 3, e.namespace = m.join("."), e.namespace_re = e.namespace ? new RegExp("(^|\\.)" + m.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, e.result = void 0, e.target || (e.target = r), t = null == t ? [e] : n.makeArray(t, [e]), p = n.event.special[v] || {}, i || !p.trigger || p.trigger.apply(r, t) !== !1)) {
        if (!i && !p.noBubble && !n.isWindow(r)) {
          for (f = p.delegateType || v, X.test(f + v) || (o = o.parentNode); o; o = o.parentNode) d.push(o), u = o;
          u === (r.ownerDocument || l) && d.push(u.defaultView || u.parentWindow || a)
        }
        s = 0;
        while ((o = d[s++]) && !e.isPropagationStopped()) e.type = s > 1 ? f : p.bindType || v, h = (L.get(o, "events") || {})[e.type] && L.get(o, "handle"), h && h.apply(o, t), h = c && o[c], h && h.apply && n.acceptData(o) && (e.result = h.apply(o, t), e.result === !1 && e.preventDefault());
        return e.type = v, i || e.isDefaultPrevented() || p._default && p._default.apply(d.pop(), t) !== !1 || !n.acceptData(r) || c && n.isFunction(r[v]) && !n.isWindow(r) && (u = r[c], u && (r[c] = null), n.event.triggered = v, r[v](), n.event.triggered = void 0, u && (r[c] = u)), e.result
      }
    },
    dispatch: function (e) {
      e = n.event.fix(e);
      var t, r, i, s, o, u = [], a = d.call(arguments), f = (L.get(this, "events") || {})[e.type] || [],
        l = n.event.special[e.type] || {};
      if (a[0] = e, e.delegateTarget = this, !l.preDispatch || l.preDispatch.call(this, e) !== !1) {
        u = n.event.handlers.call(this, e, f), t = 0;
        while ((s = u[t++]) && !e.isPropagationStopped()) {
          e.currentTarget = s.elem, r = 0;
          while ((o = s.handlers[r++]) && !e.isImmediatePropagationStopped()) (!e.namespace_re || e.namespace_re.test(o.namespace)) && (e.handleObj = o, e.data = o.data, i = ((n.event.special[o.origType] || {}).handle || o.handler).apply(s.elem, a), void 0 !== i && (e.result = i) === !1 && (e.preventDefault(), e.stopPropagation()))
        }
        return l.postDispatch && l.postDispatch.call(this, e), e.result
      }
    },
    handlers: function (e, t) {
      var r, i, s, o, u = [], a = t.delegateCount, f = e.target;
      if (a && f.nodeType && (!e.button || "click" !== e.type)) for (; f !== this; f = f.parentNode || this) if (f.disabled !== !0 || "click" !== e.type) {
        for (i = [], r = 0; a > r; r++) o = t[r], s = o.selector + " ", void 0 === i[s] && (i[s] = o.needsContext ? n(s, this).index(f) >= 0 : n.find(s, this, null, [f]).length), i[s] && i.push(o);
        i.length && u.push({elem: f, handlers: i})
      }
      return a < t.length && u.push({elem: this, handlers: t.slice(a)}), u
    },
    props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
    fixHooks: {},
    keyHooks: {
      props: "char charCode key keyCode".split(" "), filter: function (e, t) {
        return null == e.which && (e.which = null != t.charCode ? t.charCode : t.keyCode), e
      }
    },
    mouseHooks: {
      props: "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
      filter: function (e, t) {
        var n, r, i, s = t.button;
        return null == e.pageX && null != t.clientX && (n = e.target.ownerDocument || l, r = n.documentElement, i = n.body, e.pageX = t.clientX + (r && r.scrollLeft || i && i.scrollLeft || 0) - (r && r.clientLeft || i && i.clientLeft || 0), e.pageY = t.clientY + (r && r.scrollTop || i && i.scrollTop || 0) - (r && r.clientTop || i && i.clientTop || 0)), e.which || void 0 === s || (e.which = 1 & s ? 1 : 2 & s ? 3 : 4 & s ? 2 : 0), e
      }
    },
    fix: function (e) {
      if (e[n.expando]) return e;
      var t, r, i, s = e.type, o = e, u = this.fixHooks[s];
      u || (this.fixHooks[s] = u = W.test(s) ? this.mouseHooks : V.test(s) ? this.keyHooks : {}), i = u.props ? this.props.concat(u.props) : this.props, e = new n.Event(o), t = i.length;
      while (t--) r = i[t], e[r] = o[r];
      return e.target || (e.target = l), 3 === e.target.nodeType && (e.target = e.target.parentNode), u.filter ? u.filter(e, o) : e
    },
    special: {
      load: {noBubble: !0}, focus: {
        trigger: function () {
          return this !== _() && this.focus ? (this.focus(), !1) : void 0
        }, delegateType: "focusin"
      }, blur: {
        trigger: function () {
          return this === _() && this.blur ? (this.blur(), !1) : void 0
        }, delegateType: "focusout"
      }, click: {
        trigger: function () {
          return "checkbox" === this.type && this.click && n.nodeName(this, "input") ? (this.click(), !1) : void 0
        }, _default: function (e) {
          return n.nodeName(e.target, "a")
        }
      }, beforeunload: {
        postDispatch: function (e) {
          void 0 !== e.result && e.originalEvent && (e.originalEvent.returnValue = e.result)
        }
      }
    },
    simulate: function (e, t, r, i) {
      var s = n.extend(new n.Event, r, {type: e, isSimulated: !0, originalEvent: {}});
      i ? n.event.trigger(s, null, t) : n.event.dispatch.call(t, s), s.isDefaultPrevented() && r.preventDefault()
    }
  }, n.removeEvent = function (e, t, n) {
    e.removeEventListener && e.removeEventListener(t, n, !1)
  }, n.Event = function (e, t) {
    return this instanceof n.Event ? (e && e.type ? (this.originalEvent = e, this.type = e.type, this.isDefaultPrevented = e.defaultPrevented || void 0 === e.defaultPrevented && e.returnValue === !1 ? Z : $) : this.type = e, t && n.extend(this, t), this.timeStamp = e && e.timeStamp || n.now(), void (this[n.expando] = !0)) : new n.Event(e, t)
  }, n.Event.prototype = {
    isDefaultPrevented: $,
    isPropagationStopped: $,
    isImmediatePropagationStopped: $,
    preventDefault: function () {
      var e = this.originalEvent;
      this.isDefaultPrevented = Z, e && e.preventDefault && e.preventDefault()
    },
    stopPropagation: function () {
      var e = this.originalEvent;
      this.isPropagationStopped = Z, e && e.stopPropagation && e.stopPropagation()
    },
    stopImmediatePropagation: function () {
      var e = this.originalEvent;
      this.isImmediatePropagationStopped = Z, e && e.stopImmediatePropagation && e.stopImmediatePropagation(), this.stopPropagation()
    }
  }, n.each({
    mouseenter: "mouseover",
    mouseleave: "mouseout",
    pointerenter: "pointerover",
    pointerleave: "pointerout"
  }, function (e, t) {
    n.event.special[e] = {
      delegateType: t, bindType: t, handle: function (e) {
        var r, i = this, s = e.relatedTarget, o = e.handleObj;
        return (!s || s !== i && !n.contains(i, s)) && (e.type = o.origType, r = o.handler.apply(this, arguments), e.type = t), r
      }
    }
  }), k.focusinBubbles || n.each({focus: "focusin", blur: "focusout"}, function (e, t) {
    var r = function (e) {
      n.event.simulate(t, e.target, n.event.fix(e), !0)
    };
    n.event.special[t] = {
      setup: function () {
        var n = this.ownerDocument || this, i = L.access(n, t);
        i || n.addEventListener(e, r, !0), L.access(n, t, (i || 0) + 1)
      }, teardown: function () {
        var n = this.ownerDocument || this, i = L.access(n, t) - 1;
        i ? L.access(n, t, i) : (n.removeEventListener(e, r, !0), L.remove(n, t))
      }
    }
  }), n.fn.extend({
    on: function (e, t, r, i, s) {
      var o, u;
      if ("object" == typeof e) {
        "string" != typeof t && (r = r || t, t = void 0);
        for (u in e) this.on(u, t, r, e[u], s);
        return this
      }
      if (null == r && null == i ? (i = t, r = t = void 0) : null == i && ("string" == typeof t ? (i = r, r = void 0) : (i = r, r = t, t = void 0)), i === !1) i = $; else if (!i) return this;
      return 1 === s && (o = i, i = function (e) {
        return n().off(e), o.apply(this, arguments)
      }, i.guid = o.guid || (o.guid = n.guid++)), this.each(function () {
        n.event.add(this, e, i, r, t)
      })
    }, one: function (e, t, n, r) {
      return this.on(e, t, n, r, 1)
    }, off: function (e, t, r) {
      var i, s;
      if (e && e.preventDefault && e.handleObj) return i = e.handleObj, n(e.delegateTarget).off(i.namespace ? i.origType + "." + i.namespace : i.origType, i.selector, i.handler), this;
      if ("object" == typeof e) {
        for (s in e) this.off(s, t, e[s]);
        return this
      }
      return (t === !1 || "function" == typeof t) && (r = t, t = void 0), r === !1 && (r = $), this.each(function () {
        n.event.remove(this, e, r, t)
      })
    }, trigger: function (e, t) {
      return this.each(function () {
        n.event.trigger(e, t, this)
      })
    }, triggerHandler: function (e, t) {
      var r = this[0];
      return r ? n.event.trigger(e, t, r, !0) : void 0
    }
  });
  var ab = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi, bb = /<([\w:]+)/,
    cb = /<|&#?\w+;/, db = /<(?:script|style|link)/i, eb = /checked\s*(?:[^=]|=\s*.checked.)/i,
    fb = /^$|\/(?:java|ecma)script/i, gb = /^true\/(.*)/, hb = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g, ib = {
      option: [1, "<select multiple='multiple'>", "</select>"],
      thead: [1, "<table>", "</table>"],
      col: [2, "<table><colgroup>", "</colgroup></table>"],
      tr: [2, "<table><tbody>", "</tbody></table>"],
      td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
      _default: [0, "", ""]
    };
  ib.optgroup = ib.option, ib.tbody = ib.tfoot = ib.colgroup = ib.caption = ib.thead, ib.th = ib.td, n.extend({
    clone: function (e, t, r) {
      var i, s, o, u, a = e.cloneNode(!0), f = n.contains(e.ownerDocument, e);
      if (!(k.noCloneChecked || 1 !== e.nodeType && 11 !== e.nodeType || n.isXMLDoc(e))) for (u = ob(a), o = ob(e), i = 0, s = o.length; s > i; i++) pb(o[i], u[i]);
      if (t) if (r) for (o = o || ob(e), u = u || ob(a), i = 0, s = o.length; s > i; i++) nb(o[i], u[i]); else nb(e, a);
      return u = ob(a, "script"), u.length > 0 && mb(u, !f && ob(e, "script")), a
    }, buildFragment: function (e, t, r, i) {
      for (var s, o, u, a, f, l, c = t.createDocumentFragment(), h = [], p = 0, d = e.length; d > p; p++) if (s = e[p], s || 0 === s) if ("object" === n.type(s)) n.merge(h, s.nodeType ? [s] : s); else if (cb.test(s)) {
        o = o || c.appendChild(t.createElement("div")), u = (bb.exec(s) || ["", ""])[1].toLowerCase(), a = ib[u] || ib._default, o.innerHTML = a[1] + s.replace(ab, "<$1></$2>") + a[2], l = a[0];
        while (l--) o = o.lastChild;
        n.merge(h, o.childNodes), o = c.firstChild, o.textContent = ""
      } else h.push(t.createTextNode(s));
      c.textContent = "", p = 0;
      while (s = h[p++]) if ((!i || -1 === n.inArray(s, i)) && (f = n.contains(s.ownerDocument, s), o = ob(c.appendChild(s), "script"), f && mb(o), r)) {
        l = 0;
        while (s = o[l++]) fb.test(s.type || "") && r.push(s)
      }
      return c
    }, cleanData: function (e) {
      for (var t, r, i, s, o = n.event.special, u = 0; void 0 !== (r = e[u]); u++) {
        if (n.acceptData(r) && (s = r[L.expando], s && (t = L.cache[s]))) {
          if (t.events) for (i in t.events) o[i] ? n.event.remove(r, i) : n.removeEvent(r, i, t.handle);
          L.cache[s] && delete L.cache[s]
        }
        delete M.cache[r[M.expando]]
      }
    }
  }), n.fn.extend({
    text: function (e) {
      return J(this, function (e) {
        return void 0 === e ? n.text(this) : this.empty().each(function () {
          (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) && (this.textContent = e)
        })
      }, null, e, arguments.length)
    }, append: function () {
      return this.domManip(arguments, function (e) {
        if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
          var t = jb(this, e);
          t.appendChild(e)
        }
      })
    }, prepend: function () {
      return this.domManip(arguments, function (e) {
        if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
          var t = jb(this, e);
          t.insertBefore(e, t.firstChild)
        }
      })
    }, before: function () {
      return this.domManip(arguments, function (e) {
        this.parentNode && this.parentNode.insertBefore(e, this)
      })
    }, after: function () {
      return this.domManip(arguments, function (e) {
        this.parentNode && this.parentNode.insertBefore(e, this.nextSibling)
      })
    }, remove: function (e, t) {
      for (var r, i = e ? n.filter(e, this) : this, s = 0; null != (r = i[s]); s++) t || 1 !== r.nodeType || n.cleanData(ob(r)), r.parentNode && (t && n.contains(r.ownerDocument, r) && mb(ob(r, "script")), r.parentNode.removeChild(r));
      return this
    }, empty: function () {
      for (var e, t = 0; null != (e = this[t]); t++) 1 === e.nodeType && (n.cleanData(ob(e, !1)), e.textContent = "");
      return this
    }, clone: function (e, t) {
      return e = null == e ? !1 : e, t = null == t ? e : t, this.map(function () {
        return n.clone(this, e, t)
      })
    }, html: function (e) {
      return J(this, function (e) {
        var t = this[0] || {}, r = 0, i = this.length;
        if (void 0 === e && 1 === t.nodeType) return t.innerHTML;
        if ("string" == typeof e && !db.test(e) && !ib[(bb.exec(e) || ["", ""])[1].toLowerCase()]) {
          e = e.replace(ab, "<$1></$2>");
          try {
            for (; i > r; r++) t = this[r] || {}, 1 === t.nodeType && (n.cleanData(ob(t, !1)), t.innerHTML = e);
            t = 0
          } catch (s) {
          }
        }
        t && this.empty().append(e)
      }, null, e, arguments.length)
    }, replaceWith: function () {
      var e = arguments[0];
      return this.domManip(arguments, function (t) {
        e = this.parentNode, n.cleanData(ob(this)), e && e.replaceChild(t, this)
      }), e && (e.length || e.nodeType) ? this : this.remove()
    }, detach: function (e) {
      return this.remove(e, !0)
    }, domManip: function (t, r) {
      t = e.apply([], t);
      var i, s, o, u, a, f, l = 0, c = this.length, h = this, p = c - 1, d = t[0], v = n.isFunction(d);
      if (v || c > 1 && "string" == typeof d && !k.checkClone && eb.test(d)) return this.each(function (e) {
        var n = h.eq(e);
        v && (t[0] = d.call(this, e, n.html())), n.domManip(t, r)
      });
      if (c && (i = n.buildFragment(t, this[0].ownerDocument, !1, this), s = i.firstChild, 1 === i.childNodes.length && (i = s), s)) {
        for (o = n.map(ob(i, "script"), kb), u = o.length; c > l; l++) a = i, l !== p && (a = n.clone(a, !0, !0), u && n.merge(o, ob(a, "script"))), r.call(this[l], a, l);
        if (u) for (f = o[o.length - 1].ownerDocument, n.map(o, lb), l = 0; u > l; l++) a = o[l], fb.test(a.type || "") && !L.access(a, "globalEval") && n.contains(f, a) && (a.src ? n._evalUrl && n._evalUrl(a.src) : n.globalEval(a.textContent.replace(hb, "")))
      }
      return this
    }
  }), n.each({
    appendTo: "append",
    prependTo: "prepend",
    insertBefore: "before",
    insertAfter: "after",
    replaceAll: "replaceWith"
  }, function (e, t) {
    n.fn[e] = function (e) {
      for (var r, i = [], s = n(e), o = s.length - 1, u = 0; o >= u; u++) r = u === o ? this : this.clone(!0), n(s[u])[t](r), f.apply(i, r.get());
      return this.pushStack(i)
    }
  });
  var qb, rb = {}, ub = /^margin/, vb = new RegExp("^(" + Q + ")(?!px)[a-z%]+$", "i"), wb = function (e) {
    return e.ownerDocument.defaultView.getComputedStyle(e, null)
  };
  !function () {
    var e, t, r = l.documentElement, i = l.createElement("div"), s = l.createElement("div");
    if (s.style) {
      s.style.backgroundClip = "content-box", s.cloneNode(!0).style.backgroundClip = "", k.clearCloneStyle = "content-box" === s.style.backgroundClip, i.style.cssText = "border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute", i.appendChild(s);

      function o() {
        s.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute", s.innerHTML = "", r.appendChild(i);
        var n = a.getComputedStyle(s, null);
        e = "1%" !== n.top, t = "4px" === n.width, r.removeChild(i)
      }

      a.getComputedStyle && n.extend(k, {
        pixelPosition: function () {
          return o(), e
        }, boxSizingReliable: function () {
          return null == t && o(), t
        }, reliableMarginRight: function () {
          var e, t = s.appendChild(l.createElement("div"));
          return t.style.cssText = s.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0", t.style.marginRight = t.style.width = "0", s.style.width = "1px", r.appendChild(i), e = !parseFloat(a.getComputedStyle(t, null).marginRight), r.removeChild(i), e
        }
      })
    }
  }(), n.swap = function (e, t, n, r) {
    var i, s, o = {};
    for (s in t) o[s] = e.style[s], e.style[s] = t[s];
    i = n.apply(e, r || []);
    for (s in t) e.style[s] = o[s];
    return i
  };
  var zb = /^(none|table(?!-c[ea]).+)/, Ab = new RegExp("^(" + Q + ")(.*)$", "i"),
    Bb = new RegExp("^([+-])=(" + Q + ")", "i"), Cb = {position: "absolute", visibility: "hidden", display: "block"},
    Db = {letterSpacing: "0", fontWeight: "400"}, Eb = ["Webkit", "O", "Moz", "ms"];
  n.extend({
    cssHooks: {
      opacity: {
        get: function (e, t) {
          if (t) {
            var n = xb(e, "opacity");
            return "" === n ? "1" : n
          }
        }
      }
    },
    cssNumber: {
      columnCount: !0,
      fillOpacity: !0,
      flexGrow: !0,
      flexShrink: !0,
      fontWeight: !0,
      lineHeight: !0,
      opacity: !0,
      order: !0,
      orphans: !0,
      widows: !0,
      zIndex: !0,
      zoom: !0
    },
    cssProps: {"float": "cssFloat"},
    style: function (e, t, r, i) {
      if (e && 3 !== e.nodeType && 8 !== e.nodeType && e.style) {
        var s, o, u, a = n.camelCase(t), f = e.style;
        return t = n.cssProps[a] || (n.cssProps[a] = Fb(f, a)), u = n.cssHooks[t] || n.cssHooks[a], void 0 === r ? u && "get" in u && void 0 !== (s = u.get(e, !1, i)) ? s : f[t] : (o = typeof r, "string" === o && (s = Bb.exec(r)) && (r = (s[1] + 1) * s[2] + parseFloat(n.css(e, t)), o = "number"), null != r && r === r && ("number" !== o || n.cssNumber[a] || (r += "px"), k.clearCloneStyle || "" !== r || 0 !== t.indexOf("background") || (f[t] = "inherit"), u && "set" in u && void 0 === (r = u.set(e, r, i)) || (f[t] = r)), void 0)
      }
    },
    css: function (e, t, r, i) {
      var s, o, u, a = n.camelCase(t);
      return t = n.cssProps[a] || (n.cssProps[a] = Fb(e.style, a)), u = n.cssHooks[t] || n.cssHooks[a], u && "get" in u && (s = u.get(e, !0, r)), void 0 === s && (s = xb(e, t, i)), "normal" === s && t in Db && (s = Db[t]), "" === r || r ? (o = parseFloat(s), r === !0 || n.isNumeric(o) ? o || 0 : s) : s
    }
  }), n.each(["height", "width"], function (e, t) {
    n.cssHooks[t] = {
      get: function (e, r, i) {
        return r ? zb.test(n.css(e, "display")) && 0 === e.offsetWidth ? n.swap(e, Cb, function () {
          return Ib(e, t, i)
        }) : Ib(e, t, i) : void 0
      }, set: function (e, r, i) {
        var s = i && wb(e);
        return Gb(e, r, i ? Hb(e, t, i, "border-box" === n.css(e, "boxSizing", !1, s), s) : 0)
      }
    }
  }), n.cssHooks.marginRight = yb(k.reliableMarginRight, function (e, t) {
    return t ? n.swap(e, {display: "inline-block"}, xb, [e, "marginRight"]) : void 0
  }), n.each({margin: "", padding: "", border: "Width"}, function (e, t) {
    n.cssHooks[e + t] = {
      expand: function (n) {
        for (var r = 0, i = {}, s = "string" == typeof n ? n.split(" ") : [n]; 4 > r; r++) i[e + R[r] + t] = s[r] || s[r - 2] || s[0];
        return i
      }
    }, ub.test(e) || (n.cssHooks[e + t].set = Gb)
  }), n.fn.extend({
    css: function (e, t) {
      return J(this, function (e, t, r) {
        var i, s, o = {}, u = 0;
        if (n.isArray(t)) {
          for (i = wb(e), s = t.length; s > u; u++) o[t[u]] = n.css(e, t[u], !1, i);
          return o
        }
        return void 0 !== r ? n.style(e, t, r) : n.css(e, t)
      }, e, t, arguments.length > 1)
    }, show: function () {
      return Jb(this, !0)
    }, hide: function () {
      return Jb(this)
    }, toggle: function (e) {
      return "boolean" == typeof e ? e ? this.show() : this.hide() : this.each(function () {
        S(this) ? n(this).show() : n(this).hide()
      })
    }
  }), n.Tween = Kb, Kb.prototype = {
    constructor: Kb, init: function (e, t, r, i, s, o) {
      this.elem = e, this.prop = r, this.easing = s || "swing", this.options = t, this.start = this.now = this.cur(), this.end = i, this.unit = o || (n.cssNumber[r] ? "" : "px")
    }, cur: function () {
      var e = Kb.propHooks[this.prop];
      return e && e.get ? e.get(this) : Kb.propHooks._default.get(this)
    }, run: function (e) {
      var t, r = Kb.propHooks[this.prop];
      return this.pos = t = this.options.duration ? n.easing[this.easing](e, this.options.duration * e, 0, 1, this.options.duration) : e, this.now = (this.end - this.start) * t + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), r && r.set ? r.set(this) : Kb.propHooks._default.set(this), this
    }
  }, Kb.prototype.init.prototype = Kb.prototype, Kb.propHooks = {
    _default: {
      get: function (e) {
        var t;
        return null == e.elem[e.prop] || e.elem.style && null != e.elem.style[e.prop] ? (t = n.css(e.elem, e.prop, ""), t && "auto" !== t ? t : 0) : e.elem[e.prop]
      }, set: function (e) {
        n.fx.step[e.prop] ? n.fx.step[e.prop](e) : e.elem.style && (null != e.elem.style[n.cssProps[e.prop]] || n.cssHooks[e.prop]) ? n.style(e.elem, e.prop, e.now + e.unit) : e.elem[e.prop] = e.now
      }
    }
  }, Kb.propHooks.scrollTop = Kb.propHooks.scrollLeft = {
    set: function (e) {
      e.elem.nodeType && e.elem.parentNode && (e.elem[e.prop] = e.now)
    }
  }, n.easing = {
    linear: function (e) {
      return e
    }, swing: function (e) {
      return .5 - Math.cos(e * Math.PI) / 2
    }
  }, n.fx = Kb.prototype.init, n.fx.step = {};
  var Lb, Mb, Nb = /^(?:toggle|show|hide)$/, Ob = new RegExp("^(?:([+-])=|)(" + Q + ")([a-z%]*)$", "i"),
    Pb = /queueHooks$/, Qb = [Vb], Rb = {
      "*": [function (e, t) {
        var r = this.createTween(e, t), i = r.cur(), s = Ob.exec(t), o = s && s[3] || (n.cssNumber[e] ? "" : "px"),
          u = (n.cssNumber[e] || "px" !== o && +i) && Ob.exec(n.css(r.elem, e)), a = 1, f = 20;
        if (u && u[3] !== o) {
          o = o || u[3], s = s || [], u = +i || 1;
          do a = a || ".5", u /= a, n.style(r.elem, e, u + o); while (a !== (a = r.cur() / i) && 1 !== a && --f)
        }
        return s && (u = r.start = +u || +i || 0, r.unit = o, r.end = s[1] ? u + (s[1] + 1) * s[2] : +s[2]), r
      }]
    };
  n.Animation = n.extend(Xb, {
    tweener: function (e, t) {
      n.isFunction(e) ? (t = e, e = ["*"]) : e = e.split(" ");
      for (var r, i = 0, s = e.length; s > i; i++) r = e[i], Rb[r] = Rb[r] || [], Rb[r].unshift(t)
    }, prefilter: function (e, t) {
      t ? Qb.unshift(e) : Qb.push(e)
    }
  }), n.speed = function (e, t, r) {
    var i = e && "object" == typeof e ? n.extend({}, e) : {
      complete: r || !r && t || n.isFunction(e) && e,
      duration: e,
      easing: r && t || t && !n.isFunction(t) && t
    };
    return i.duration = n.fx.off ? 0 : "number" == typeof i.duration ? i.duration : i.duration in n.fx.speeds ? n.fx.speeds[i.duration] : n.fx.speeds._default, (null == i.queue || i.queue === !0) && (i.queue = "fx"), i.old = i.complete, i.complete = function () {
      n.isFunction(i.old) && i.old.call(this), i.queue && n.dequeue(this, i.queue)
    }, i
  }, n.fn.extend({
    fadeTo: function (e, t, n, r) {
      return this.filter(S).css("opacity", 0).show().end().animate({opacity: t}, e, n, r)
    }, animate: function (e, t, r, i) {
      var s = n.isEmptyObject(e), o = n.speed(t, r, i), u = function () {
        var t = Xb(this, n.extend({}, e), o);
        (s || L.get(this, "finish")) && t.stop(!0)
      };
      return u.finish = u, s || o.queue === !1 ? this.each(u) : this.queue(o.queue, u)
    }, stop: function (e, t, r) {
      var i = function (e) {
        var t = e.stop;
        delete e.stop, t(r)
      };
      return "string" != typeof e && (r = t, t = e, e = void 0), t && e !== !1 && this.queue(e || "fx", []), this.each(function () {
        var t = !0, s = null != e && e + "queueHooks", o = n.timers, u = L.get(this);
        if (s) u[s] && u[s].stop && i(u[s]); else for (s in u) u[s] && u[s].stop && Pb.test(s) && i(u[s]);
        for (s = o.length; s--;) o[s].elem !== this || null != e && o[s].queue !== e || (o[s].anim.stop(r), t = !1, o.splice(s, 1));
        (t || !r) && n.dequeue(this, e)
      })
    }, finish: function (e) {
      return e !== !1 && (e = e || "fx"), this.each(function () {
        var t, r = L.get(this), i = r[e + "queue"], s = r[e + "queueHooks"], o = n.timers, u = i ? i.length : 0;
        for (r.finish = !0, n.queue(this, e, []), s && s.stop && s.stop.call(this, !0), t = o.length; t--;) o[t].elem === this && o[t].queue === e && (o[t].anim.stop(!0), o.splice(t, 1));
        for (t = 0; u > t; t++) i[t] && i[t].finish && i[t].finish.call(this);
        delete r.finish
      })
    }
  }), n.each(["toggle", "show", "hide"], function (e, t) {
    var r = n.fn[t];
    n.fn[t] = function (e, n, i) {
      return null == e || "boolean" == typeof e ? r.apply(this, arguments) : this.animate(Tb(t, !0), e, n, i)
    }
  }), n.each({
    slideDown: Tb("show"),
    slideUp: Tb("hide"),
    slideToggle: Tb("toggle"),
    fadeIn: {opacity: "show"},
    fadeOut: {opacity: "hide"},
    fadeToggle: {opacity: "toggle"}
  }, function (e, t) {
    n.fn[e] = function (e, n, r) {
      return this.animate(t, e, n, r)
    }
  }), n.timers = [], n.fx.tick = function () {
    var e, t = 0, r = n.timers;
    for (Lb = n.now(); t < r.length; t++) e = r[t], e() || r[t] !== e || r.splice(t--, 1);
    r.length || n.fx.stop(), Lb = void 0
  }, n.fx.timer = function (e) {
    n.timers.push(e), e() ? n.fx.start() : n.timers.pop()
  }, n.fx.interval = 13, n.fx.start = function () {
    Mb || (Mb = setInterval(n.fx.tick, n.fx.interval))
  }, n.fx.stop = function () {
    clearInterval(Mb), Mb = null
  }, n.fx.speeds = {slow: 600, fast: 200, _default: 400}, n.fn.delay = function (e, t) {
    return e = n.fx ? n.fx.speeds[e] || e : e, t = t || "fx", this.queue(t, function (t, n) {
      var r = setTimeout(t, e);
      n.stop = function () {
        clearTimeout(r)
      }
    })
  }, function () {
    var e = l.createElement("input"), t = l.createElement("select"), n = t.appendChild(l.createElement("option"));
    e.type = "checkbox", k.checkOn = "" !== e.value, k.optSelected = n.selected, t.disabled = !0, k.optDisabled = !n.disabled, e = l.createElement("input"), e.value = "t", e.type = "radio", k.radioValue = "t" === e.value
  }();
  var Yb, Zb, $b = n.expr.attrHandle;
  n.fn.extend({
    attr: function (e, t) {
      return J(this, n.attr, e, t, arguments.length > 1)
    }, removeAttr: function (e) {
      return this.each(function () {
        n.removeAttr(this, e)
      })
    }
  }), n.extend({
    attr: function (e, t, r) {
      var i, s, o = e.nodeType;
      if (e && 3 !== o && 8 !== o && 2 !== o) return typeof e.getAttribute === U ? n.prop(e, t, r) : (1 === o && n.isXMLDoc(e) || (t = t.toLowerCase(), i = n.attrHooks[t] || (n.expr.match.bool.test(t) ? Zb : Yb)), void 0 === r ? i && "get" in i && null !== (s = i.get(e, t)) ? s : (s = n.find.attr(e, t), null == s ? void 0 : s) : null !== r ? i && "set" in i && void 0 !== (s = i.set(e, r, t)) ? s : (e.setAttribute(t, r + ""), r) : void n.removeAttr(e, t))
    }, removeAttr: function (e, t) {
      var r, i, s = 0, o = t && t.match(E);
      if (o && 1 === e.nodeType) while (r = o[s++]) i = n.propFix[r] || r, n.expr.match.bool.test(r) && (e[i] = !1), e.removeAttribute(r)
    }, attrHooks: {
      type: {
        set: function (e, t) {
          if (!k.radioValue && "radio" === t && n.nodeName(e, "input")) {
            var r = e.value;
            return e.setAttribute("type", t), r && (e.value = r), t
          }
        }
      }
    }
  }), Zb = {
    set: function (e, t, r) {
      return t === !1 ? n.removeAttr(e, r) : e.setAttribute(r, r), r
    }
  }, n.each(n.expr.match.bool.source.match(/\w+/g), function (e, t) {
    var r = $b[t] || n.find.attr;
    $b[t] = function (e, t, n) {
      var i, s;
      return n || (s = $b[t], $b[t] = i, i = null != r(e, t, n) ? t.toLowerCase() : null, $b[t] = s), i
    }
  });
  var _b = /^(?:input|select|textarea|button)$/i;
  n.fn.extend({
    prop: function (e, t) {
      return J(this, n.prop, e, t, arguments.length > 1)
    }, removeProp: function (e) {
      return this.each(function () {
        delete this[n.propFix[e] || e]
      })
    }
  }), n.extend({
    propFix: {"for": "htmlFor", "class": "className"}, prop: function (e, t, r) {
      var i, s, o, u = e.nodeType;
      if (e && 3 !== u && 8 !== u && 2 !== u) return o = 1 !== u || !n.isXMLDoc(e), o && (t = n.propFix[t] || t, s = n.propHooks[t]), void 0 !== r ? s && "set" in s && void 0 !== (i = s.set(e, r, t)) ? i : e[t] = r : s && "get" in s && null !== (i = s.get(e, t)) ? i : e[t]
    }, propHooks: {
      tabIndex: {
        get: function (e) {
          return e.hasAttribute("tabindex") || _b.test(e.nodeName) || e.href ? e.tabIndex : -1
        }
      }
    }
  }), k.optSelected || (n.propHooks.selected = {
    get: function (e) {
      var t = e.parentNode;
      return t && t.parentNode && t.parentNode.selectedIndex, null
    }
  }), n.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function () {
    n.propFix[this.toLowerCase()] = this
  });
  var ac = /[\t\r\n\f]/g;
  n.fn.extend({
    addClass: function (e) {
      var t, r, i, s, o, u, a = "string" == typeof e && e, f = 0, l = this.length;
      if (n.isFunction(e)) return this.each(function (t) {
        n(this).addClass(e.call(this, t, this.className))
      });
      if (a) for (t = (e || "").match(E) || []; l > f; f++) if (r = this[f], i = 1 === r.nodeType && (r.className ? (" " + r.className + " ").replace(ac, " ") : " ")) {
        o = 0;
        while (s = t[o++]) i.indexOf(" " + s + " ") < 0 && (i += s + " ");
        u = n.trim(i), r.className !== u && (r.className = u)
      }
      return this
    }, removeClass: function (e) {
      var t, r, i, s, o, u, a = 0 === arguments.length || "string" == typeof e && e, f = 0, l = this.length;
      if (n.isFunction(e)) return this.each(function (t) {
        n(this).removeClass(e.call(this, t, this.className))
      });
      if (a) for (t = (e || "").match(E) || []; l > f; f++) if (r = this[f], i = 1 === r.nodeType && (r.className ? (" " + r.className + " ").replace(ac, " ") : "")) {
        o = 0;
        while (s = t[o++]) while (i.indexOf(" " + s + " ") >= 0) i = i.replace(" " + s + " ", " ");
        u = e ? n.trim(i) : "", r.className !== u && (r.className = u)
      }
      return this
    }, toggleClass: function (e, t) {
      var r = typeof e;
      return "boolean" == typeof t && "string" === r ? t ? this.addClass(e) : this.removeClass(e) : this.each(n.isFunction(e) ? function (r) {
        n(this).toggleClass(e.call(this, r, this.className, t), t)
      } : function () {
        if ("string" === r) {
          var t, i = 0, s = n(this), o = e.match(E) || [];
          while (t = o[i++]) s.hasClass(t) ? s.removeClass(t) : s.addClass(t)
        } else (r === U || "boolean" === r) && (this.className && L.set(this, "__className__", this.className), this.className = this.className || e === !1 ? "" : L.get(this, "__className__") || "")
      })
    }, hasClass: function (e) {
      for (var t = " " + e + " ", n = 0, r = this.length; r > n; n++) if (1 === this[n].nodeType && (" " + this[n].className + " ").replace(ac, " ").indexOf(t) >= 0) return !0;
      return !1
    }
  });
  var bc = /\r/g;
  n.fn.extend({
    val: function (e) {
      var t, r, i, s = this[0];
      if (arguments.length) return i = n.isFunction(e), this.each(function (r) {
        var s;
        1 === this.nodeType && (s = i ? e.call(this, r, n(this).val()) : e, null == s ? s = "" : "number" == typeof s ? s += "" : n.isArray(s) && (s = n.map(s, function (e) {
          return null == e ? "" : e + ""
        })), t = n.valHooks[this.type] || n.valHooks[this.nodeName.toLowerCase()], t && "set" in t && void 0 !== t.set(this, s, "value") || (this.value = s))
      });
      if (s) return t = n.valHooks[s.type] || n.valHooks[s.nodeName.toLowerCase()], t && "get" in t && void 0 !== (r = t.get(s, "value")) ? r : (r = s.value, "string" == typeof r ? r.replace(bc, "") : null == r ? "" : r)
    }
  }), n.extend({
    valHooks: {
      option: {
        get: function (e) {
          var t = n.find.attr(e, "value");
          return null != t ? t : n.trim(n.text(e))
        }
      }, select: {
        get: function (e) {
          for (var t, r, i = e.options, s = e.selectedIndex, o = "select-one" === e.type || 0 > s, u = o ? null : [], a = o ? s + 1 : i.length, f = 0 > s ? a : o ? s : 0; a > f; f++) if (r = i[f], !(!r.selected && f !== s || (k.optDisabled ? r.disabled : null !== r.getAttribute("disabled")) || r.parentNode.disabled && n.nodeName(r.parentNode, "optgroup"))) {
            if (t = n(r).val(), o) return t;
            u.push(t)
          }
          return u
        }, set: function (e, t) {
          var r, i, s = e.options, o = n.makeArray(t), u = s.length;
          while (u--) i = s[u], (i.selected = n.inArray(i.value, o) >= 0) && (r = !0);
          return r || (e.selectedIndex = -1), o
        }
      }
    }
  }), n.each(["radio", "checkbox"], function () {
    n.valHooks[this] = {
      set: function (e, t) {
        return n.isArray(t) ? e.checked = n.inArray(n(e).val(), t) >= 0 : void 0
      }
    }, k.checkOn || (n.valHooks[this].get = function (e) {
      return null === e.getAttribute("value") ? "on" : e.value
    })
  }), n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function (e, t) {
    n.fn[t] = function (e, n) {
      return arguments.length > 0 ? this.on(t, null, e, n) : this.trigger(t)
    }
  }), n.fn.extend({
    hover: function (e, t) {
      return this.mouseenter(e).mouseleave(t || e)
    }, bind: function (e, t, n) {
      return this.on(e, null, t, n)
    }, unbind: function (e, t) {
      return this.off(e, null, t)
    }, delegate: function (e, t, n, r) {
      return this.on(t, e, n, r)
    }, undelegate: function (e, t, n) {
      return 1 === arguments.length ? this.off(e, "**") : this.off(t, e || "**", n)
    }
  });
  var cc = n.now(), dc = /\?/;
  n.parseJSON = function (e) {
    return JSON.parse(e + "")
  }, n.parseXML = function (e) {
    var t, r;
    if (!e || "string" != typeof e) return null;
    try {
      r = new DOMParser, t = r.parseFromString(e, "text/xml")
    } catch (i) {
      t = void 0
    }
    return (!t || t.getElementsByTagName("parsererror").length) && n.error("Invalid XML: " + e), t
  };
  var ec, fc, gc = /#.*$/, hc = /([?&])_=[^&]*/, ic = /^(.*?):[ \t]*([^\r\n]*)$/gm,
    jc = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/, kc = /^(?:GET|HEAD)$/, lc = /^\/\//,
    mc = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/, nc = {}, oc = {}, pc = "*/".concat("*");
  try {
    fc = location.href
  } catch (qc) {
    fc = l.createElement("a"), fc.href = "", fc = fc.href
  }
  ec = mc.exec(fc.toLowerCase()) || [], n.extend({
    active: 0,
    lastModified: {},
    etag: {},
    ajaxSettings: {
      url: fc,
      type: "GET",
      isLocal: jc.test(ec[1]),
      global: !0,
      processData: !0,
      async: !0,
      contentType: "application/x-www-form-urlencoded; charset=UTF-8",
      accepts: {
        "*": pc,
        text: "text/plain",
        html: "text/html",
        xml: "application/xml, text/xml",
        json: "application/json, text/javascript"
      },
      contents: {xml: /xml/, html: /html/, json: /json/},
      responseFields: {xml: "responseXML", text: "responseText", json: "responseJSON"},
      converters: {"* text": String, "text html": !0, "text json": n.parseJSON, "text xml": n.parseXML},
      flatOptions: {url: !0, context: !0}
    },
    ajaxSetup: function (e, t) {
      return t ? tc(tc(e, n.ajaxSettings), t) : tc(n.ajaxSettings, e)
    },
    ajaxPrefilter: rc(nc),
    ajaxTransport: rc(oc),
    ajax: function (e, t) {
      function T(e, t, o, a) {
        var l, g, y, w, E, x = t;
        2 !== b && (b = 2, u && clearTimeout(u), r = void 0, s = a || "", S.readyState = e > 0 ? 4 : 0, l = e >= 200 && 300 > e || 304 === e, o && (w = uc(c, S, o)), w = vc(c, w, S, l), l ? (c.ifModified && (E = S.getResponseHeader("Last-Modified"), E && (n.lastModified[i] = E), E = S.getResponseHeader("etag"), E && (n.etag[i] = E)), 204 === e || "HEAD" === c.type ? x = "nocontent" : 304 === e ? x = "notmodified" : (x = w.state, g = w.data, y = w.error, l = !y)) : (y = x, (e || !x) && (x = "error", 0 > e && (e = 0))), S.status = e, S.statusText = (t || x) + "", l ? d.resolveWith(h, [g, x, S]) : d.rejectWith(h, [S, x, y]), S.statusCode(m), m = void 0, f && p.trigger(l ? "ajaxSuccess" : "ajaxError", [S, c, l ? g : y]), v.fireWith(h, [S, x]), f && (p.trigger("ajaxComplete", [S, c]), --n.active || n.event.trigger("ajaxStop")))
      }

      "object" == typeof e && (t = e, e = void 0), t = t || {};
      var r, i, s, o, u, a, f, l, c = n.ajaxSetup({}, t), h = c.context || c,
        p = c.context && (h.nodeType || h.jquery) ? n(h) : n.event, d = n.Deferred(), v = n.Callbacks("once memory"),
        m = c.statusCode || {}, g = {}, y = {}, b = 0, w = "canceled", S = {
          readyState: 0, getResponseHeader: function (e) {
            var t;
            if (2 === b) {
              if (!o) {
                o = {};
                while (t = ic.exec(s)) o[t[1].toLowerCase()] = t[2]
              }
              t = o[e.toLowerCase()]
            }
            return null == t ? null : t
          }, getAllResponseHeaders: function () {
            return 2 === b ? s : null
          }, setRequestHeader: function (e, t) {
            var n = e.toLowerCase();
            return b || (e = y[n] = y[n] || e, g[e] = t), this
          }, overrideMimeType: function (e) {
            return b || (c.mimeType = e), this
          }, statusCode: function (e) {
            var t;
            if (e) if (2 > b) for (t in e) m[t] = [m[t], e[t]]; else S.always(e[S.status]);
            return this
          }, abort: function (e) {
            var t = e || w;
            return r && r.abort(t), T(0, t), this
          }
        };
      if (d.promise(S).complete = v.add, S.success = S.done, S.error = S.fail, c.url = ((e || c.url || fc) + "").replace(gc, "").replace(lc, ec[1] + "//"), c.type = t.method || t.type || c.method || c.type, c.dataTypes = n.trim(c.dataType || "*").toLowerCase().match(E) || [""], null == c.crossDomain && (a = mc.exec(c.url.toLowerCase()), c.crossDomain = !(!a || a[1] === ec[1] && a[2] === ec[2] && (a[3] || ("http:" === a[1] ? "80" : "443")) === (ec[3] || ("http:" === ec[1] ? "80" : "443")))), c.data && c.processData && "string" != typeof c.data && (c.data = n.param(c.data, c.traditional)), sc(nc, c, t, S), 2 === b) return S;
      f = c.global, f && 0 === n.active++ && n.event.trigger("ajaxStart"), c.type = c.type.toUpperCase(), c.hasContent = !kc.test(c.type), i = c.url, c.hasContent || (c.data && (i = c.url += (dc.test(i) ? "&" : "?") + c.data, delete c.data), c.cache === !1 && (c.url = hc.test(i) ? i.replace(hc, "$1_=" + cc++) : i + (dc.test(i) ? "&" : "?") + "_=" + cc++)), c.ifModified && (n.lastModified[i] && S.setRequestHeader("If-Modified-Since", n.lastModified[i]), n.etag[i] && S.setRequestHeader("If-None-Match", n.etag[i])), (c.data && c.hasContent && c.contentType !== !1 || t.contentType) && S.setRequestHeader("Content-Type", c.contentType), S.setRequestHeader("Accept", c.dataTypes[0] && c.accepts[c.dataTypes[0]] ? c.accepts[c.dataTypes[0]] + ("*" !== c.dataTypes[0] ? ", " + pc + "; q=0.01" : "") : c.accepts["*"]);
      for (l in c.headers) S.setRequestHeader(l, c.headers[l]);
      if (!c.beforeSend || c.beforeSend.call(h, S, c) !== !1 && 2 !== b) {
        w = "abort";
        for (l in {success: 1, error: 1, complete: 1}) S[l](c[l]);
        if (r = sc(oc, c, t, S)) {
          S.readyState = 1, f && p.trigger("ajaxSend", [S, c]), c.async && c.timeout > 0 && (u = setTimeout(function () {
            S.abort("timeout")
          }, c.timeout));
          try {
            b = 1, r.send(g, T)
          } catch (x) {
            if (!(2 > b)) throw x;
            T(-1, x)
          }
        } else T(-1, "No Transport");
        return S
      }
      return S.abort()
    },
    getJSON: function (e, t, r) {
      return n.get(e, t, r, "json")
    },
    getScript: function (e, t) {
      return n.get(e, void 0, t, "script")
    }
  }), n.each(["get", "post"], function (e, t) {
    n[t] = function (e, r, i, s) {
      return n.isFunction(r) && (s = s || i, i = r, r = void 0), n.ajax({
        url: e,
        type: t,
        dataType: s,
        data: r,
        success: i
      })
    }
  }), n.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function (e, t) {
    n.fn[t] = function (e) {
      return this.on(t, e)
    }
  }), n._evalUrl = function (e) {
    return n.ajax({url: e, type: "GET", dataType: "script", async: !1, global: !1, "throws": !0})
  }, n.fn.extend({
    wrapAll: function (e) {
      var t;
      return n.isFunction(e) ? this.each(function (t) {
        n(this).wrapAll(e.call(this, t))
      }) : (this[0] && (t = n(e, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && t.insertBefore(this[0]), t.map(function () {
        var e = this;
        while (e.firstElementChild) e = e.firstElementChild;
        return e
      }).append(this)), this)
    }, wrapInner: function (e) {
      return this.each(n.isFunction(e) ? function (t) {
        n(this).wrapInner(e.call(this, t))
      } : function () {
        var t = n(this), r = t.contents();
        r.length ? r.wrapAll(e) : t.append(e)
      })
    }, wrap: function (e) {
      var t = n.isFunction(e);
      return this.each(function (r) {
        n(this).wrapAll(t ? e.call(this, r) : e)
      })
    }, unwrap: function () {
      return this.parent().each(function () {
        n.nodeName(this, "body") || n(this).replaceWith(this.childNodes)
      }).end()
    }
  }), n.expr.filters.hidden = function (e) {
    return e.offsetWidth <= 0 && e.offsetHeight <= 0
  }, n.expr.filters.visible = function (e) {
    return !n.expr.filters.hidden(e)
  };
  var wc = /%20/g, xc = /\[\]$/, yc = /\r?\n/g, zc = /^(?:submit|button|image|reset|file)$/i,
    Ac = /^(?:input|select|textarea|keygen)/i;
  n.param = function (e, t) {
    var r, i = [], s = function (e, t) {
      t = n.isFunction(t) ? t() : null == t ? "" : t, i[i.length] = encodeURIComponent(e) + "=" + encodeURIComponent(t)
    };
    if (void 0 === t && (t = n.ajaxSettings && n.ajaxSettings.traditional), n.isArray(e) || e.jquery && !n.isPlainObject(e)) n.each(e, function () {
      s(this.name, this.value)
    }); else for (r in e) Bc(r, e[r], t, s);
    return i.join("&").replace(wc, "+")
  }, n.fn.extend({
    serialize: function () {
      return n.param(this.serializeArray())
    }, serializeArray: function () {
      return this.map(function () {
        var e = n.prop(this, "elements");
        return e ? n.makeArray(e) : this
      }).filter(function () {
        var e = this.type;
        return this.name && !n(this).is(":disabled") && Ac.test(this.nodeName) && !zc.test(e) && (this.checked || !T.test(e))
      }).map(function (e, t) {
        var r = n(this).val();
        return null == r ? null : n.isArray(r) ? n.map(r, function (e) {
          return {name: t.name, value: e.replace(yc, "\r\n")}
        }) : {name: t.name, value: r.replace(yc, "\r\n")}
      }).get()
    }
  }), n.ajaxSettings.xhr = function () {
    try {
      return new XMLHttpRequest
    } catch (e) {
    }
  };
  var Cc = 0, Dc = {}, Ec = {0: 200, 1223: 204}, Fc = n.ajaxSettings.xhr();
  a.ActiveXObject && n(a).on("unload", function () {
    for (var e in Dc) Dc[e]()
  }), k.cors = !!Fc && "withCredentials" in Fc, k.ajax = Fc = !!Fc, n.ajaxTransport(function (e) {
    var t;
    return k.cors || Fc && !e.crossDomain ? {
      send: function (n, r) {
        var i, s = e.xhr(), o = ++Cc;
        if (s.open(e.type, e.url, e.async, e.username, e.password), e.xhrFields) for (i in e.xhrFields) s[i] = e.xhrFields[i];
        e.mimeType && s.overrideMimeType && s.overrideMimeType(e.mimeType), e.crossDomain || n["X-Requested-With"] || (n["X-Requested-With"] = "XMLHttpRequest");
        for (i in n) s.setRequestHeader(i, n[i]);
        t = function (e) {
          return function () {
            t && (delete Dc[o], t = s.onload = s.onerror = null, "abort" === e ? s.abort() : "error" === e ? r(s.status, s.statusText) : r(Ec[s.status] || s.status, s.statusText, "string" == typeof s.responseText ? {text: s.responseText} : void 0, s.getAllResponseHeaders()))
          }
        }, s.onload = t(), s.onerror = t("error"), t = Dc[o] = t("abort");
        try {
          s.send(e.hasContent && e.data || null)
        } catch (u) {
          if (t) throw u
        }
      }, abort: function () {
        t && t()
      }
    } : void 0
  }), n.ajaxSetup({
    accepts: {script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
    contents: {script: /(?:java|ecma)script/},
    converters: {
      "text script": function (e) {
        return n.globalEval(e), e
      }
    }
  }), n.ajaxPrefilter("script", function (e) {
    void 0 === e.cache && (e.cache = !1), e.crossDomain && (e.type = "GET")
  }), n.ajaxTransport("script", function (e) {
    if (e.crossDomain) {
      var t, r;
      return {
        send: function (i, s) {
          t = n("<script>").prop({async: !0, charset: e.scriptCharset, src: e.url}).on("load error", r = function (e) {
            t.remove(), r = null, e && s("error" === e.type ? 404 : 200, e.type)
          }), l.head.appendChild(t[0])
        }, abort: function () {
          r && r()
        }
      }
    }
  });
  var Gc = [], Hc = /(=)\?(?=&|$)|\?\?/;
  n.ajaxSetup({
    jsonp: "callback", jsonpCallback: function () {
      var e = Gc.pop() || n.expando + "_" + cc++;
      return this[e] = !0, e
    }
  }), n.ajaxPrefilter("json jsonp", function (e, t, r) {
    var i, s, o,
      u = e.jsonp !== !1 && (Hc.test(e.url) ? "url" : "string" == typeof e.data && !(e.contentType || "").indexOf("application/x-www-form-urlencoded") && Hc.test(e.data) && "data");
    return u || "jsonp" === e.dataTypes[0] ? (i = e.jsonpCallback = n.isFunction(e.jsonpCallback) ? e.jsonpCallback() : e.jsonpCallback, u ? e[u] = e[u].replace(Hc, "$1" + i) : e.jsonp !== !1 && (e.url += (dc.test(e.url) ? "&" : "?") + e.jsonp + "=" + i), e.converters["script json"] = function () {
      return o || n.error(i + " was not called"), o[0]
    }, e.dataTypes[0] = "json", s = a[i], a[i] = function () {
      o = arguments
    }, r.always(function () {
      a[i] = s, e[i] && (e.jsonpCallback = t.jsonpCallback, Gc.push(i)), o && n.isFunction(s) && s(o[0]), o = s = void 0
    }), "script") : void 0
  }), n.parseHTML = function (e, t, r) {
    if (!e || "string" != typeof e) return null;
    "boolean" == typeof t && (r = t, t = !1), t = t || l;
    var i = v.exec(e), s = !r && [];
    return i ? [t.createElement(i[1])] : (i = n.buildFragment([e], t, s), s && s.length && n(s).remove(), n.merge([], i.childNodes))
  };
  var Ic = n.fn.load;
  n.fn.load = function (e, t, r) {
    if ("string" != typeof e && Ic) return Ic.apply(this, arguments);
    var i, s, o, u = this, a = e.indexOf(" ");
    return a >= 0 && (i = n.trim(e.slice(a)), e = e.slice(0, a)), n.isFunction(t) ? (r = t, t = void 0) : t && "object" == typeof t && (s = "POST"), u.length > 0 && n.ajax({
      url: e,
      type: s,
      dataType: "html",
      data: t
    }).done(function (e) {
      o = arguments, u.html(i ? n("<div>").append(n.parseHTML(e)).find(i) : e)
    }).complete(r && function (e, t) {
      u.each(r, o || [e.responseText, t, e])
    }), this
  }, n.expr.filters.animated = function (e) {
    return n.grep(n.timers, function (t) {
      return e === t.elem
    }).length
  };
  var Jc = a.document.documentElement;
  n.offset = {
    setOffset: function (e, t, r) {
      var i, s, o, u, a, f, l, c = n.css(e, "position"), h = n(e), p = {};
      "static" === c && (e.style.position = "relative"), a = h.offset(), o = n.css(e, "top"), f = n.css(e, "left"), l = ("absolute" === c || "fixed" === c) && (o + f).indexOf("auto") > -1, l ? (i = h.position(), u = i.top, s = i.left) : (u = parseFloat(o) || 0, s = parseFloat(f) || 0), n.isFunction(t) && (t = t.call(e, r, a)), null != t.top && (p.top = t.top - a.top + u), null != t.left && (p.left = t.left - a.left + s), "using" in t ? t.using.call(e, p) : h.css(p)
    }
  }, n.fn.extend({
    offset: function (e) {
      if (arguments.length) return void 0 === e ? this : this.each(function (t) {
        n.offset.setOffset(this, e, t)
      });
      var t, r, i = this[0], s = {top: 0, left: 0}, o = i && i.ownerDocument;
      if (o) return t = o.documentElement, n.contains(t, i) ? (typeof i.getBoundingClientRect !== U && (s = i.getBoundingClientRect()), r = Kc(o), {
        top: s.top + r.pageYOffset - t.clientTop,
        left: s.left + r.pageXOffset - t.clientLeft
      }) : s
    }, position: function () {
      if (this[0]) {
        var e, t, r = this[0], i = {top: 0, left: 0};
        return "fixed" === n.css(r, "position") ? t = r.getBoundingClientRect() : (e = this.offsetParent(), t = this.offset(), n.nodeName(e[0], "html") || (i = e.offset()), i.top += n.css(e[0], "borderTopWidth", !0), i.left += n.css(e[0], "borderLeftWidth", !0)), {
          top: t.top - i.top - n.css(r, "marginTop", !0),
          left: t.left - i.left - n.css(r, "marginLeft", !0)
        }
      }
    }, offsetParent: function () {
      return this.map(function () {
        var e = this.offsetParent || Jc;
        while (e && !n.nodeName(e, "html") && "static" === n.css(e, "position")) e = e.offsetParent;
        return e || Jc
      })
    }
  }), n.each({scrollLeft: "pageXOffset", scrollTop: "pageYOffset"}, function (e, t) {
    var r = "pageYOffset" === t;
    n.fn[e] = function (n) {
      return J(this, function (e, n, i) {
        var s = Kc(e);
        return void 0 === i ? s ? s[t] : e[n] : void (s ? s.scrollTo(r ? a.pageXOffset : i, r ? i : a.pageYOffset) : e[n] = i)
      }, e, n, arguments.length, null)
    }
  }), n.each(["top", "left"], function (e, t) {
    n.cssHooks[t] = yb(k.pixelPosition, function (e, r) {
      return r ? (r = xb(e, t), vb.test(r) ? n(e).position()[t] + "px" : r) : void 0
    })
  }), n.each({Height: "height", Width: "width"}, function (e, t) {
    n.each({padding: "inner" + e, content: t, "": "outer" + e}, function (r, i) {
      n.fn[i] = function (i, s) {
        var o = arguments.length && (r || "boolean" != typeof i), u = r || (i === !0 || s === !0 ? "margin" : "border");
        return J(this, function (t, r, i) {
          var s;
          return n.isWindow(t) ? t.document.documentElement["client" + e] : 9 === t.nodeType ? (s = t.documentElement, Math.max(t.body["scroll" + e], s["scroll" + e], t.body["offset" + e], s["offset" + e], s["client" + e])) : void 0 === i ? n.css(t, r, u) : n.style(t, r, i, u)
        }, t, o ? i : void 0, o, null)
      }
    })
  }), n.fn.size = function () {
    return this.length
  }, n.fn.andSelf = n.fn.addBack, "function" == typeof define && define.amd && define("jquery", [], function () {
    return n
  });
  var Lc = a.jQuery, Mc = a.$;
  return n.noConflict = function (e) {
    return a.$ === n && (a.$ = Mc), e && a.jQuery === n && (a.jQuery = Lc), n
  }, typeof b === U && (a.jQuery = a.$ = n), n
}), function () {
  var e = this, t = e._, n = {}, r = Array.prototype, i = Object.prototype, s = Function.prototype, o = r.push,
    u = r.slice, a = r.concat, f = i.toString, l = i.hasOwnProperty, c = r.forEach, h = r.map, p = r.reduce,
    d = r.reduceRight, v = r.filter, m = r.every, g = r.some, y = r.indexOf, b = r.lastIndexOf, w = Array.isArray,
    E = Object.keys, S = s.bind, x = function (e) {
      if (e instanceof x) return e;
      if (!(this instanceof x)) return new x(e);
      this._wrapped = e
    };
  typeof exports != "undefined" ? (typeof module != "undefined" && module.exports && (exports = module.exports = x), exports._ = x) : e._ = x, x.VERSION = "1.6.0";
  var T = x.each = x.forEach = function (e, t, r) {
    if (e == null) return e;
    if (c && e.forEach === c) e.forEach(t, r); else if (e.length === +e.length) {
      for (var i = 0, s = e.length; i < s; i++) if (t.call(r, e[i], i, e) === n) return
    } else {
      var o = x.keys(e);
      for (var i = 0, s = o.length; i < s; i++) if (t.call(r, e[o[i]], o[i], e) === n) return
    }
    return e
  };
  x.map = x.collect = function (e, t, n) {
    var r = [];
    return e == null ? r : h && e.map === h ? e.map(t, n) : (T(e, function (e, i, s) {
      r.push(t.call(n, e, i, s))
    }), r)
  };
  var N = "Reduce of empty array with no initial value";
  x.reduce = x.foldl = x.inject = function (e, t, n, r) {
    var i = arguments.length > 2;
    e == null && (e = []);
    if (p && e.reduce === p) return r && (t = x.bind(t, r)), i ? e.reduce(t, n) : e.reduce(t);
    T(e, function (e, s, o) {
      i ? n = t.call(r, n, e, s, o) : (n = e, i = !0)
    });
    if (!i) throw new TypeError(N);
    return n
  }, x.reduceRight = x.foldr = function (e, t, n, r) {
    var i = arguments.length > 2;
    e == null && (e = []);
    if (d && e.reduceRight === d) return r && (t = x.bind(t, r)), i ? e.reduceRight(t, n) : e.reduceRight(t);
    var s = e.length;
    if (s !== +s) {
      var o = x.keys(e);
      s = o.length
    }
    T(e, function (u, a, f) {
      a = o ? o[--s] : --s, i ? n = t.call(r, n, e[a], a, f) : (n = e[a], i = !0)
    });
    if (!i) throw new TypeError(N);
    return n
  }, x.find = x.detect = function (e, t, n) {
    var r;
    return C(e, function (e, i, s) {
      if (t.call(n, e, i, s)) return r = e, !0
    }), r
  }, x.filter = x.select = function (e, t, n) {
    var r = [];
    return e == null ? r : v && e.filter === v ? e.filter(t, n) : (T(e, function (e, i, s) {
      t.call(n, e, i, s) && r.push(e)
    }), r)
  }, x.reject = function (e, t, n) {
    return x.filter(e, function (e, r, i) {
      return !t.call(n, e, r, i)
    }, n)
  }, x.every = x.all = function (e, t, r) {
    t || (t = x.identity);
    var i = !0;
    return e == null ? i : m && e.every === m ? e.every(t, r) : (T(e, function (e, s, o) {
      if (!(i = i && t.call(r, e, s, o))) return n
    }), !!i)
  };
  var C = x.some = x.any = function (e, t, r) {
    t || (t = x.identity);
    var i = !1;
    return e == null ? i : g && e.some === g ? e.some(t, r) : (T(e, function (e, s, o) {
      if (i || (i = t.call(r, e, s, o))) return n
    }), !!i)
  };
  x.contains = x.include = function (e, t) {
    return e == null ? !1 : y && e.indexOf === y ? e.indexOf(t) != -1 : C(e, function (e) {
      return e === t
    })
  }, x.invoke = function (e, t) {
    var n = u.call(arguments, 2), r = x.isFunction(t);
    return x.map(e, function (e) {
      return (r ? t : e[t]).apply(e, n)
    })
  }, x.pluck = function (e, t) {
    return x.map(e, x.property(t))
  }, x.where = function (e, t) {
    return x.filter(e, x.matches(t))
  }, x.findWhere = function (e, t) {
    return x.find(e, x.matches(t))
  }, x.max = function (e, t, n) {
    if (!t && x.isArray(e) && e[0] === +e[0] && e.length < 65535) return Math.max.apply(Math, e);
    var r = -Infinity, i = -Infinity;
    return T(e, function (e, s, o) {
      var u = t ? t.call(n, e, s, o) : e;
      u > i && (r = e, i = u)
    }), r
  }, x.min = function (e, t, n) {
    if (!t && x.isArray(e) && e[0] === +e[0] && e.length < 65535) return Math.min.apply(Math, e);
    var r = Infinity, i = Infinity;
    return T(e, function (e, s, o) {
      var u = t ? t.call(n, e, s, o) : e;
      u < i && (r = e, i = u)
    }), r
  }, x.shuffle = function (e) {
    var t, n = 0, r = [];
    return T(e, function (e) {
      t = x.random(n++), r[n - 1] = r[t], r[t] = e
    }), r
  }, x.sample = function (e, t, n) {
    return t == null || n ? (e.length !== +e.length && (e = x.values(e)), e[x.random(e.length - 1)]) : x.shuffle(e).slice(0, Math.max(0, t))
  };
  var k = function (e) {
    return e == null ? x.identity : x.isFunction(e) ? e : x.property(e)
  };
  x.sortBy = function (e, t, n) {
    return t = k(t), x.pluck(x.map(e, function (e, r, i) {
      return {value: e, index: r, criteria: t.call(n, e, r, i)}
    }).sort(function (e, t) {
      var n = e.criteria, r = t.criteria;
      if (n !== r) {
        if (n > r || n === void 0) return 1;
        if (n < r || r === void 0) return -1
      }
      return e.index - t.index
    }), "value")
  };
  var L = function (e) {
    return function (t, n, r) {
      var i = {};
      return n = k(n), T(t, function (s, o) {
        var u = n.call(r, s, o, t);
        e(i, u, s)
      }), i
    }
  };
  x.groupBy = L(function (e, t, n) {
    x.has(e, t) ? e[t].push(n) : e[t] = [n]
  }), x.indexBy = L(function (e, t, n) {
    e[t] = n
  }), x.countBy = L(function (e, t) {
    x.has(e, t) ? e[t]++ : e[t] = 1
  }), x.sortedIndex = function (e, t, n, r) {
    n = k(n);
    var i = n.call(r, t), s = 0, o = e.length;
    while (s < o) {
      var u = s + o >>> 1;
      n.call(r, e[u]) < i ? s = u + 1 : o = u
    }
    return s
  }, x.toArray = function (e) {
    return e ? x.isArray(e) ? u.call(e) : e.length === +e.length ? x.map(e, x.identity) : x.values(e) : []
  }, x.size = function (e) {
    return e == null ? 0 : e.length === +e.length ? e.length : x.keys(e).length
  }, x.first = x.head = x.take = function (e, t, n) {
    return e == null ? void 0 : t == null || n ? e[0] : t < 0 ? [] : u.call(e, 0, t)
  }, x.initial = function (e, t, n) {
    return u.call(e, 0, e.length - (t == null || n ? 1 : t))
  }, x.last = function (e, t, n) {
    return e == null ? void 0 : t == null || n ? e[e.length - 1] : u.call(e, Math.max(e.length - t, 0))
  }, x.rest = x.tail = x.drop = function (e, t, n) {
    return u.call(e, t == null || n ? 1 : t)
  }, x.compact = function (e) {
    return x.filter(e, x.identity)
  };
  var A = function (e, t, n) {
    return t && x.every(e, x.isArray) ? a.apply(n, e) : (T(e, function (e) {
      x.isArray(e) || x.isArguments(e) ? t ? o.apply(n, e) : A(e, t, n) : n.push(e)
    }), n)
  };
  x.flatten = function (e, t) {
    return A(e, t, [])
  }, x.without = function (e) {
    return x.difference(e, u.call(arguments, 1))
  }, x.partition = function (e, t) {
    var n = [], r = [];
    return T(e, function (e) {
      (t(e) ? n : r).push(e)
    }), [n, r]
  }, x.uniq = x.unique = function (e, t, n, r) {
    x.isFunction(t) && (r = n, n = t, t = !1);
    var i = n ? x.map(e, n, r) : e, s = [], o = [];
    return T(i, function (n, r) {
      if (t ? !r || o[o.length - 1] !== n : !x.contains(o, n)) o.push(n), s.push(e[r])
    }), s
  }, x.union = function () {
    return x.uniq(x.flatten(arguments, !0))
  }, x.intersection = function (e) {
    var t = u.call(arguments, 1);
    return x.filter(x.uniq(e), function (e) {
      return x.every(t, function (t) {
        return x.contains(t, e)
      })
    })
  }, x.difference = function (e) {
    var t = a.apply(r, u.call(arguments, 1));
    return x.filter(e, function (e) {
      return !x.contains(t, e)
    })
  }, x.zip = function () {
    var e = x.max(x.pluck(arguments, "length").concat(0)), t = new Array(e);
    for (var n = 0; n < e; n++) t[n] = x.pluck(arguments, "" + n);
    return t
  }, x.object = function (e, t) {
    if (e == null) return {};
    var n = {};
    for (var r = 0, i = e.length; r < i; r++) t ? n[e[r]] = t[r] : n[e[r][0]] = e[r][1];
    return n
  }, x.indexOf = function (e, t, n) {
    if (e == null) return -1;
    var r = 0, i = e.length;
    if (n) {
      if (typeof n != "number") return r = x.sortedIndex(e, t), e[r] === t ? r : -1;
      r = n < 0 ? Math.max(0, i + n) : n
    }
    if (y && e.indexOf === y) return e.indexOf(t, n);
    for (; r < i; r++) if (e[r] === t) return r;
    return -1
  }, x.lastIndexOf = function (e, t, n) {
    if (e == null) return -1;
    var r = n != null;
    if (b && e.lastIndexOf === b) return r ? e.lastIndexOf(t, n) : e.lastIndexOf(t);
    var i = r ? n : e.length;
    while (i--) if (e[i] === t) return i;
    return -1
  }, x.range = function (e, t, n) {
    arguments.length <= 1 && (t = e || 0, e = 0), n = arguments[2] || 1;
    var r = Math.max(Math.ceil((t - e) / n), 0), i = 0, s = new Array(r);
    while (i < r) s[i++] = e, e += n;
    return s
  };
  var O = function () {
  };
  x.bind = function (e, t) {
    var n, r;
    if (S && e.bind === S) return S.apply(e, u.call(arguments, 1));
    if (!x.isFunction(e)) throw new TypeError;
    return n = u.call(arguments, 2), r = function () {
      if (this instanceof r) {
        O.prototype = e.prototype;
        var i = new O;
        O.prototype = null;
        var s = e.apply(i, n.concat(u.call(arguments)));
        return Object(s) === s ? s : i
      }
      return e.apply(t, n.concat(u.call(arguments)))
    }
  }, x.partial = function (e) {
    var t = u.call(arguments, 1);
    return function () {
      var n = 0, r = t.slice();
      for (var i = 0, s = r.length; i < s; i++) r[i] === x && (r[i] = arguments[n++]);
      while (n < arguments.length) r.push(arguments[n++]);
      return e.apply(this, r)
    }
  }, x.bindAll = function (e) {
    var t = u.call(arguments, 1);
    if (t.length === 0) throw new Error("bindAll must be passed function names");
    return T(t, function (t) {
      e[t] = x.bind(e[t], e)
    }), e
  }, x.memoize = function (e, t) {
    var n = {};
    return t || (t = x.identity), function () {
      var r = t.apply(this, arguments);
      return x.has(n, r) ? n[r] : n[r] = e.apply(this, arguments)
    }
  }, x.delay = function (e, t) {
    var n = u.call(arguments, 2);
    return setTimeout(function () {
      return e.apply(null, n)
    }, t)
  }, x.defer = function (e) {
    return x.delay.apply(x, [e, 1].concat(u.call(arguments, 1)))
  }, x.throttle = function (e, t, n) {
    var r, i, s, o = null, u = 0;
    n || (n = {});
    var a = function () {
      u = n.leading === !1 ? 0 : x.now(), o = null, s = e.apply(r, i), r = i = null
    };
    return function () {
      var f = x.now();
      !u && n.leading === !1 && (u = f);
      var l = t - (f - u);
      return r = this, i = arguments, l <= 0 ? (clearTimeout(o), o = null, u = f, s = e.apply(r, i), r = i = null) : !o && n.trailing !== !1 && (o = setTimeout(a, l)), s
    }
  }, x.debounce = function (e, t, n) {
    var r, i, s, o, u, a = function () {
      var f = x.now() - o;
      f < t ? r = setTimeout(a, t - f) : (r = null, n || (u = e.apply(s, i), s = i = null))
    };
    return function () {
      s = this, i = arguments, o = x.now();
      var f = n && !r;
      return r || (r = setTimeout(a, t)), f && (u = e.apply(s, i), s = i = null), u
    }
  }, x.once = function (e) {
    var t = !1, n;
    return function () {
      return t ? n : (t = !0, n = e.apply(this, arguments), e = null, n)
    }
  }, x.wrap = function (e, t) {
    return x.partial(t, e)
  }, x.compose = function () {
    var e = arguments;
    return function () {
      var t = arguments;
      for (var n = e.length - 1; n >= 0; n--) t = [e[n].apply(this, t)];
      return t[0]
    }
  }, x.after = function (e, t) {
    return function () {
      if (--e < 1) return t.apply(this, arguments)
    }
  }, x.keys = function (e) {
    if (!x.isObject(e)) return [];
    if (E) return E(e);
    var t = [];
    for (var n in e) x.has(e, n) && t.push(n);
    return t
  }, x.values = function (e) {
    var t = x.keys(e), n = t.length, r = new Array(n);
    for (var i = 0; i < n; i++) r[i] = e[t[i]];
    return r
  }, x.pairs = function (e) {
    var t = x.keys(e), n = t.length, r = new Array(n);
    for (var i = 0; i < n; i++) r[i] = [t[i], e[t[i]]];
    return r
  }, x.invert = function (e) {
    var t = {}, n = x.keys(e);
    for (var r = 0, i = n.length; r < i; r++) t[e[n[r]]] = n[r];
    return t
  }, x.functions = x.methods = function (e) {
    var t = [];
    for (var n in e) x.isFunction(e[n]) && t.push(n);
    return t.sort()
  }, x.extend = function (e) {
    return T(u.call(arguments, 1), function (t) {
      if (t) for (var n in t) e[n] = t[n]
    }), e
  }, x.pick = function (e) {
    var t = {}, n = a.apply(r, u.call(arguments, 1));
    return T(n, function (n) {
      n in e && (t[n] = e[n])
    }), t
  }, x.omit = function (e) {
    var t = {}, n = a.apply(r, u.call(arguments, 1));
    for (var i in e) x.contains(n, i) || (t[i] = e[i]);
    return t
  }, x.defaults = function (e) {
    return T(u.call(arguments, 1), function (t) {
      if (t) for (var n in t) e[n] === void 0 && (e[n] = t[n])
    }), e
  }, x.clone = function (e) {
    return x.isObject(e) ? x.isArray(e) ? e.slice() : x.extend({}, e) : e
  }, x.tap = function (e, t) {
    return t(e), e
  };
  var M = function (e, t, n, r) {
    if (e === t) return e !== 0 || 1 / e == 1 / t;
    if (e == null || t == null) return e === t;
    e instanceof x && (e = e._wrapped), t instanceof x && (t = t._wrapped);
    var i = f.call(e);
    if (i != f.call(t)) return !1;
    switch (i) {
      case"[object String]":
        return e == String(t);
      case"[object Number]":
        return e != +e ? t != +t : e == 0 ? 1 / e == 1 / t : e == +t;
      case"[object Date]":
      case"[object Boolean]":
        return +e == +t;
      case"[object RegExp]":
        return e.source == t.source && e.global == t.global && e.multiline == t.multiline && e.ignoreCase == t.ignoreCase
    }
    if (typeof e != "object" || typeof t != "object") return !1;
    var s = n.length;
    while (s--) if (n[s] == e) return r[s] == t;
    var o = e.constructor, u = t.constructor;
    if (o !== u && !(x.isFunction(o) && o instanceof o && x.isFunction(u) && u instanceof u) && "constructor" in e && "constructor" in t) return !1;
    n.push(e), r.push(t);
    var a = 0, l = !0;
    if (i == "[object Array]") {
      a = e.length, l = a == t.length;
      if (l) while (a--) if (!(l = M(e[a], t[a], n, r))) break
    } else {
      for (var c in e) if (x.has(e, c)) {
        a++;
        if (!(l = x.has(t, c) && M(e[c], t[c], n, r))) break
      }
      if (l) {
        for (c in t) if (x.has(t, c) && !(a--)) break;
        l = !a
      }
    }
    return n.pop(), r.pop(), l
  };
  x.isEqual = function (e, t) {
    return M(e, t, [], [])
  }, x.isEmpty = function (e) {
    if (e == null) return !0;
    if (x.isArray(e) || x.isString(e)) return e.length === 0;
    for (var t in e) if (x.has(e, t)) return !1;
    return !0
  }, x.isElement = function (e) {
    return !!e && e.nodeType === 1
  }, x.isArray = w || function (e) {
    return f.call(e) == "[object Array]"
  }, x.isObject = function (e) {
    return e === Object(e)
  }, T(["Arguments", "Function", "String", "Number", "Date", "RegExp"], function (e) {
    x["is" + e] = function (t) {
      return f.call(t) == "[object " + e + "]"
    }
  }), x.isArguments(arguments) || (x.isArguments = function (e) {
    return !!e && !!x.has(e, "callee")
  }), typeof /./ != "function" && (x.isFunction = function (e) {
    return typeof e == "function"
  }), x.isFinite = function (e) {
    return isFinite(e) && !isNaN(parseFloat(e))
  }, x.isNaN = function (e) {
    return x.isNumber(e) && e != +e
  }, x.isBoolean = function (e) {
    return e === !0 || e === !1 || f.call(e) == "[object Boolean]"
  }, x.isNull = function (e) {
    return e === null
  }, x.isUndefined = function (e) {
    return e === void 0
  }, x.has = function (e, t) {
    return l.call(e, t)
  }, x.noConflict = function () {
    return e._ = t, this
  }, x.identity = function (e) {
    return e
  }, x.constant = function (e) {
    return function () {
      return e
    }
  }, x.property = function (e) {
    return function (t) {
      return t[e]
    }
  }, x.matches = function (e) {
    return function (t) {
      if (t === e) return !0;
      for (var n in e) if (e[n] !== t[n]) return !1;
      return !0
    }
  }, x.times = function (e, t, n) {
    var r = Array(Math.max(0, e));
    for (var i = 0; i < e; i++) r[i] = t.call(n, i);
    return r
  }, x.random = function (e, t) {
    return t == null && (t = e, e = 0), e + Math.floor(Math.random() * (t - e + 1))
  }, x.now = Date.now || function () {
    return (new Date).getTime()
  };
  var _ = {escape: {"&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#x27;"}};
  _.unescape = x.invert(_.escape);
  var D = {
    escape: new RegExp("[" + x.keys(_.escape).join("") + "]", "g"),
    unescape: new RegExp("(" + x.keys(_.unescape).join("|") + ")", "g")
  };
  x.each(["escape", "unescape"], function (e) {
    x[e] = function (t) {
      return t == null ? "" : ("" + t).replace(D[e], function (t) {
        return _[e][t]
      })
    }
  }), x.result = function (e, t) {
    if (e == null) return void 0;
    var n = e[t];
    return x.isFunction(n) ? n.call(e) : n
  }, x.mixin = function (e) {
    T(x.functions(e), function (t) {
      var n = x[t] = e[t];
      x.prototype[t] = function () {
        var e = [this._wrapped];
        return o.apply(e, arguments), F.call(this, n.apply(x, e))
      }
    })
  };
  var P = 0;
  x.uniqueId = function (e) {
    var t = ++P + "";
    return e ? e + t : t
  }, x.templateSettings = {evaluate: /<%([\s\S]+?)%>/g, interpolate: /<%=([\s\S]+?)%>/g, escape: /<%-([\s\S]+?)%>/g};
  var H = /(.)^/, B = {"'": "'", "\\": "\\", "\r": "r", "\n": "n", "	": "t", "\u2028": "u2028", "\u2029": "u2029"},
    j = /\\|'|\r|\n|\t|\u2028|\u2029/g;
  x.template = function (e, t, n) {
    var r;
    n = x.defaults({}, n, x.templateSettings);
    var i = new RegExp([(n.escape || H).source, (n.interpolate || H).source, (n.evaluate || H).source].join("|") + "|$", "g"),
      s = 0, o = "__p+='";
    e.replace(i, function (t, n, r, i, u) {
      return o += e.slice(s, u).replace(j, function (e) {
        return "\\" + B[e]
      }), n && (o += "'+\n((__t=(" + n + "))==null?'':_.escape(__t))+\n'"), r && (o += "'+\n((__t=(" + r + "))==null?'':__t)+\n'"), i && (o += "';\n" + i + "\n__p+='"), s = u + t.length, t
    }), o += "';\n", n.variable || (o = "with(obj||{}){\n" + o + "}\n"), o = "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" + o + "return __p;\n";
    try {
      r = new Function(n.variable || "obj", "_", o)
    } catch (u) {
      throw u.source = o, u
    }
    if (t) return r(t, x);
    var a = function (e) {
      return r.call(this, e, x)
    };
    return a.source = "function(" + (n.variable || "obj") + "){\n" + o + "}", a
  }, x.chain = function (e) {
    return x(e).chain()
  };
  var F = function (e) {
    return this._chain ? x(e).chain() : e
  };
  x.mixin(x), T(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"], function (e) {
    var t = r[e];
    x.prototype[e] = function () {
      var n = this._wrapped;
      return t.apply(n, arguments), (e == "shift" || e == "splice") && n.length === 0 && delete n[0], F.call(this, n)
    }
  }), T(["concat", "join", "slice"], function (e) {
    var t = r[e];
    x.prototype[e] = function () {
      return F.call(this, t.apply(this._wrapped, arguments))
    }
  }), x.extend(x.prototype, {
    chain: function () {
      return this._chain = !0, this
    }, value: function () {
      return this._wrapped
    }
  }), typeof define == "function" && define.amd && define("underscore", [], function () {
    return x
  })
}.call(this), function (e, t) {
  if (typeof define == "function" && define.amd) define("backbone", ["underscore", "jquery", "exports"], function (n, r, i) {
    e.Backbone = t(e, i, n, r)
  }); else if (typeof exports != "undefined") {
    var n = require("underscore");
    t(e, exports, n)
  } else e.Backbone = t(e, {}, e._, e.jQuery || e.Zepto || e.ender || e.$)
}(this, function (e, t, n, r) {
  var i = e.Backbone, s = [], o = s.push, u = s.slice, a = s.splice;
  t.VERSION = "1.1.2", t.$ = r, t.noConflict = function () {
    return e.Backbone = i, this
  }, t.emulateHTTP = !1, t.emulateJSON = !1;
  var f = t.Events = {
    on: function (e, t, n) {
      if (!c(this, "on", e, [t, n]) || !t) return this;
      this._events || (this._events = {});
      var r = this._events[e] || (this._events[e] = []);
      return r.push({callback: t, context: n, ctx: n || this}), this
    }, once: function (e, t, r) {
      if (!c(this, "once", e, [t, r]) || !t) return this;
      var i = this, s = n.once(function () {
        i.off(e, s), t.apply(this, arguments)
      });
      return s._callback = t, this.on(e, s, r)
    }, off: function (e, t, r) {
      var i, s, o, u, a, f, l, h;
      if (!this._events || !c(this, "off", e, [t, r])) return this;
      if (!e && !t && !r) return this._events = void 0, this;
      u = e ? [e] : n.keys(this._events);
      for (a = 0, f = u.length; a < f; a++) {
        e = u[a];
        if (o = this._events[e]) {
          this._events[e] = i = [];
          if (t || r) for (l = 0, h = o.length; l < h; l++) s = o[l], (t && t !== s.callback && t !== s.callback._callback || r && r !== s.context) && i.push(s);
          i.length || delete this._events[e]
        }
      }
      return this
    }, trigger: function (e) {
      if (!this._events) return this;
      var t = u.call(arguments, 1);
      if (!c(this, "trigger", e, t)) return this;
      var n = this._events[e], r = this._events.all;
      return n && h(n, t), r && h(r, arguments), this
    }, stopListening: function (e, t, r) {
      var i = this._listeningTo;
      if (!i) return this;
      var s = !t && !r;
      !r && typeof t == "object" && (r = this), e && ((i = {})[e._listenId] = e);
      for (var o in i) e = i[o], e.off(t, r, this), (s || n.isEmpty(e._events)) && delete this._listeningTo[o];
      return this
    }
  }, l = /\s+/, c = function (e, t, n, r) {
    if (!n) return !0;
    if (typeof n == "object") {
      for (var i in n) e[t].apply(e, [i, n[i]].concat(r));
      return !1
    }
    if (l.test(n)) {
      var s = n.split(l);
      for (var o = 0, u = s.length; o < u; o++) e[t].apply(e, [s[o]].concat(r));
      return !1
    }
    return !0
  }, h = function (e, t) {
    var n, r = -1, i = e.length, s = t[0], o = t[1], u = t[2];
    switch (t.length) {
      case 0:
        while (++r < i) (n = e[r]).callback.call(n.ctx);
        return;
      case 1:
        while (++r < i) (n = e[r]).callback.call(n.ctx, s);
        return;
      case 2:
        while (++r < i) (n = e[r]).callback.call(n.ctx, s, o);
        return;
      case 3:
        while (++r < i) (n = e[r]).callback.call(n.ctx, s, o, u);
        return;
      default:
        while (++r < i) (n = e[r]).callback.apply(n.ctx, t);
        return
    }
  }, p = {listenTo: "on", listenToOnce: "once"};
  n.each(p, function (e, t) {
    f[t] = function (t, r, i) {
      var s = this._listeningTo || (this._listeningTo = {}), o = t._listenId || (t._listenId = n.uniqueId("l"));
      return s[o] = t, !i && typeof r == "object" && (i = this), t[e](r, i, this), this
    }
  }), f.bind = f.on, f.unbind = f.off, n.extend(t, f);
  var d = t.Model = function (e, t) {
    var r = e || {};
    t || (t = {}), this.cid = n.uniqueId("c"), this.attributes = {}, t.collection && (this.collection = t.collection), t.parse && (r = this.parse(r, t) || {}), r = n.defaults({}, r, n.result(this, "defaults")), this.set(r, t), this.changed = {}, this.initialize.apply(this, arguments)
  };
  n.extend(d.prototype, f, {
    changed: null, validationError: null, idAttribute: "id", initialize: function () {
    }, toJSON: function (e) {
      return n.clone(this.attributes)
    }, sync: function () {
      return t.sync.apply(this, arguments)
    }, get: function (e) {
      return this.attributes[e]
    }, escape: function (e) {
      return n.escape(this.get(e))
    }, has: function (e) {
      return this.get(e) != null
    }, set: function (e, t, r) {
      var i, s, o, u, a, f, l, c;
      if (e == null) return this;
      typeof e == "object" ? (s = e, r = t) : (s = {})[e] = t, r || (r = {});
      if (!this._validate(s, r)) return !1;
      o = r.unset, a = r.silent, u = [], f = this._changing, this._changing = !0, f || (this._previousAttributes = n.clone(this.attributes), this.changed = {}), c = this.attributes, l = this._previousAttributes, this.idAttribute in s && (this.id = s[this.idAttribute]);
      for (i in s) t = s[i], n.isEqual(c[i], t) || u.push(i), n.isEqual(l[i], t) ? delete this.changed[i] : this.changed[i] = t, o ? delete c[i] : c[i] = t;
      if (!a) {
        u.length && (this._pending = r);
        for (var h = 0, p = u.length; h < p; h++) this.trigger("change:" + u[h], this, c[u[h]], r)
      }
      if (f) return this;
      if (!a) while (this._pending) r = this._pending, this._pending = !1, this.trigger("change", this, r);
      return this._pending = !1, this._changing = !1, this
    }, unset: function (e, t) {
      return this.set(e, void 0, n.extend({}, t, {unset: !0}))
    }, clear: function (e) {
      var t = {};
      for (var r in this.attributes) t[r] = void 0;
      return this.set(t, n.extend({}, e, {unset: !0}))
    }, hasChanged: function (e) {
      return e == null ? !n.isEmpty(this.changed) : n.has(this.changed, e)
    }, changedAttributes: function (e) {
      if (!e) return this.hasChanged() ? n.clone(this.changed) : !1;
      var t, r = !1, i = this._changing ? this._previousAttributes : this.attributes;
      for (var s in e) {
        if (n.isEqual(i[s], t = e[s])) continue;
        (r || (r = {}))[s] = t
      }
      return r
    }, previous: function (e) {
      return e == null || !this._previousAttributes ? null : this._previousAttributes[e]
    }, previousAttributes: function () {
      return n.clone(this._previousAttributes)
    }, fetch: function (e) {
      e = e ? n.clone(e) : {}, e.parse === void 0 && (e.parse = !0);
      var t = this, r = e.success;
      return e.success = function (n) {
        if (!t.set(t.parse(n, e), e)) return !1;
        r && r(t, n, e), t.trigger("sync", t, n, e)
      }, I(this, e), this.sync("read", this, e)
    }, save: function (e, t, r) {
      var i, s, o, u = this.attributes;
      e == null || typeof e == "object" ? (i = e, r = t) : (i = {})[e] = t, r = n.extend({validate: !0}, r);
      if (i && !r.wait) {
        if (!this.set(i, r)) return !1
      } else if (!this._validate(i, r)) return !1;
      i && r.wait && (this.attributes = n.extend({}, u, i)), r.parse === void 0 && (r.parse = !0);
      var a = this, f = r.success;
      return r.success = function (e) {
        a.attributes = u;
        var t = a.parse(e, r);
        r.wait && (t = n.extend(i || {}, t));
        if (n.isObject(t) && !a.set(t, r)) return !1;
        f && f(a, e, r), a.trigger("sync", a, e, r)
      }, I(this, r), s = this.isNew() ? "create" : r.patch ? "patch" : "update", s === "patch" && (r.attrs = i), o = this.sync(s, this, r), i && r.wait && (this.attributes = u), o
    }, destroy: function (e) {
      e = e ? n.clone(e) : {};
      var t = this, r = e.success, i = function () {
        t.trigger("destroy", t, t.collection, e)
      };
      e.success = function (n) {
        (e.wait || t.isNew()) && i(), r && r(t, n, e), t.isNew() || t.trigger("sync", t, n, e)
      };
      if (this.isNew()) return e.success(), !1;
      I(this, e);
      var s = this.sync("delete", this, e);
      return e.wait || i(), s
    }, url: function () {
      var e = n.result(this, "urlRoot") || n.result(this.collection, "url") || F();
      return this.isNew() ? e : e.replace(/([^\/])$/, "$1/") + encodeURIComponent(this.id)
    }, parse: function (e, t) {
      return e
    }, clone: function () {
      return new this.constructor(this.attributes)
    }, isNew: function () {
      return !this.has(this.idAttribute)
    }, isValid: function (e) {
      return this._validate({}, n.extend(e || {}, {validate: !0}))
    }, _validate: function (e, t) {
      if (!t.validate || !this.validate) return !0;
      e = n.extend({}, this.attributes, e);
      var r = this.validationError = this.validate(e, t) || null;
      return r ? (this.trigger("invalid", this, r, n.extend(t, {validationError: r})), !1) : !0
    }
  });
  var v = ["keys", "values", "pairs", "invert", "pick", "omit"];
  n.each(v, function (e) {
    d.prototype[e] = function () {
      var t = u.call(arguments);
      return t.unshift(this.attributes), n[e].apply(n, t)
    }
  });
  var m = t.Collection = function (e, t) {
    t || (t = {}), t.model && (this.model = t.model), t.comparator !== void 0 && (this.comparator = t.comparator), this._reset(), this.initialize.apply(this, arguments), e && this.reset(e, n.extend({silent: !0}, t))
  }, g = {add: !0, remove: !0, merge: !0}, y = {add: !0, remove: !1};
  n.extend(m.prototype, f, {
    model: d, initialize: function () {
    }, toJSON: function (e) {
      return this.map(function (t) {
        return t.toJSON(e)
      })
    }, sync: function () {
      return t.sync.apply(this, arguments)
    }, add: function (e, t) {
      return this.set(e, n.extend({merge: !1}, t, y))
    }, remove: function (e, t) {
      var r = !n.isArray(e);
      e = r ? [e] : n.clone(e), t || (t = {});
      var i, s, o, u;
      for (i = 0, s = e.length; i < s; i++) {
        u = e[i] = this.get(e[i]);
        if (!u) continue;
        delete this._byId[u.id], delete this._byId[u.cid], o = this.indexOf(u), this.models.splice(o, 1), this.length--, t.silent || (t.index = o, u.trigger("remove", u, this, t)), this._removeReference(u, t)
      }
      return r ? e[0] : e
    }, set: function (e, t) {
      t = n.defaults({}, t, g), t.parse && (e = this.parse(e, t));
      var r = !n.isArray(e);
      e = r ? e ? [e] : [] : n.clone(e);
      var i, s, o, u, a, f, l, c = t.at, h = this.model, p = this.comparator && c == null && t.sort !== !1,
        v = n.isString(this.comparator) ? this.comparator : null, m = [], y = [], b = {}, w = t.add, E = t.merge,
        S = t.remove, x = !p && w && S ? [] : !1;
      for (i = 0, s = e.length; i < s; i++) {
        a = e[i] || {}, a instanceof d ? o = u = a : o = a[h.prototype.idAttribute || "id"];
        if (f = this.get(o)) S && (b[f.cid] = !0), E && (a = a === u ? u.attributes : a, t.parse && (a = f.parse(a, t)), f.set(a, t), p && !l && f.hasChanged(v) && (l = !0)), e[i] = f; else if (w) {
          u = e[i] = this._prepareModel(a, t);
          if (!u) continue;
          m.push(u), this._addReference(u, t)
        }
        u = f || u, x && (u.isNew() || !b[u.id]) && x.push(u), b[u.id] = !0
      }
      if (S) {
        for (i = 0, s = this.length; i < s; ++i) b[(u = this.models[i]).cid] || y.push(u);
        y.length && this.remove(y, t)
      }
      if (m.length || x && x.length) {
        p && (l = !0), this.length += m.length;
        if (c != null) for (i = 0, s = m.length; i < s; i++) this.models.splice(c + i, 0, m[i]); else {
          x && (this.models.length = 0);
          var T = x || m;
          for (i = 0, s = T.length; i < s; i++) this.models.push(T[i])
        }
      }
      l && this.sort({silent: !0});
      if (!t.silent) {
        for (i = 0, s = m.length; i < s; i++) (u = m[i]).trigger("add", u, this, t);
        (l || x && x.length) && this.trigger("sort", this, t)
      }
      return r ? e[0] : e
    }, reset: function (e, t) {
      t || (t = {});
      for (var r = 0, i = this.models.length; r < i; r++) this._removeReference(this.models[r], t);
      return t.previousModels = this.models, this._reset(), e = this.add(e, n.extend({silent: !0}, t)), t.silent || this.trigger("reset", this, t), e
    }, push: function (e, t) {
      return this.add(e, n.extend({at: this.length}, t))
    }, pop: function (e) {
      var t = this.at(this.length - 1);
      return this.remove(t, e), t
    }, unshift: function (e, t) {
      return this.add(e, n.extend({at: 0}, t))
    }, shift: function (e) {
      var t = this.at(0);
      return this.remove(t, e), t
    }, slice: function () {
      return u.apply(this.models, arguments)
    }, get: function (e) {
      return e == null ? void 0 : this._byId[e] || this._byId[e.id] || this._byId[e.cid]
    }, at: function (e) {
      return this.models[e]
    }, where: function (e, t) {
      return n.isEmpty(e) ? t ? void 0 : [] : this[t ? "find" : "filter"](function (t) {
        for (var n in e) if (e[n] !== t.get(n)) return !1;
        return !0
      })
    }, findWhere: function (e) {
      return this.where(e, !0)
    }, sort: function (e) {
      if (!this.comparator) throw new Error("Cannot sort a set without a comparator");
      return e || (e = {}), n.isString(this.comparator) || this.comparator.length === 1 ? this.models = this.sortBy(this.comparator, this) : this.models.sort(n.bind(this.comparator, this)), e.silent || this.trigger("sort", this, e), this
    }, pluck: function (e) {
      return n.invoke(this.models, "get", e)
    }, fetch: function (e) {
      e = e ? n.clone(e) : {}, e.parse === void 0 && (e.parse = !0);
      var t = e.success, r = this;
      return e.success = function (n) {
        var i = e.reset ? "reset" : "set";
        r[i](n, e), t && t(r, n, e), r.trigger("sync", r, n, e)
      }, I(this, e), this.sync("read", this, e)
    }, create: function (e, t) {
      t = t ? n.clone(t) : {};
      if (!(e = this._prepareModel(e, t))) return !1;
      t.wait || this.add(e, t);
      var r = this, i = t.success;
      return t.success = function (e, n) {
        t.wait && r.add(e, t), i && i(e, n, t)
      }, e.save(null, t), e
    }, parse: function (e, t) {
      return e
    }, clone: function () {
      return new this.constructor(this.models)
    }, _reset: function () {
      this.length = 0, this.models = [], this._byId = {}
    }, _prepareModel: function (e, t) {
      if (e instanceof d) return e;
      t = t ? n.clone(t) : {}, t.collection = this;
      var r = new this.model(e, t);
      return r.validationError ? (this.trigger("invalid", this, r.validationError, t), !1) : r
    }, _addReference: function (e, t) {
      this._byId[e.cid] = e, e.id != null && (this._byId[e.id] = e), e.collection || (e.collection = this), e.on("all", this._onModelEvent, this)
    }, _removeReference: function (e, t) {
      this === e.collection && delete e.collection, e.off("all", this._onModelEvent, this)
    }, _onModelEvent: function (e, t, n, r) {
      if ((e === "add" || e === "remove") && n !== this) return;
      e === "destroy" && this.remove(t, r), t && e === "change:" + t.idAttribute && (delete this._byId[t.previous(t.idAttribute)], t.id != null && (this._byId[t.id] = t)), this.trigger.apply(this, arguments)
    }
  });
  var b = ["forEach", "each", "map", "collect", "reduce", "foldl", "inject", "reduceRight", "foldr", "find", "detect", "filter", "select", "reject", "every", "all", "some", "any", "include", "contains", "invoke", "max", "min", "toArray", "size", "first", "head", "take", "initial", "rest", "tail", "drop", "last", "without", "difference", "indexOf", "shuffle", "lastIndexOf", "isEmpty", "chain", "sample"];
  n.each(b, function (e) {
    m.prototype[e] = function () {
      var t = u.call(arguments);
      return t.unshift(this.models), n[e].apply(n, t)
    }
  });
  var w = ["groupBy", "countBy", "sortBy", "indexBy"];
  n.each(w, function (e) {
    m.prototype[e] = function (t, r) {
      var i = n.isFunction(t) ? t : function (e) {
        return e.get(t)
      };
      return n[e](this.models, i, r)
    }
  });
  var E = t.View = function (e) {
    this.cid = n.uniqueId("view"), e || (e = {}), n.extend(this, n.pick(e, x)), this._ensureElement(), this.initialize.apply(this, arguments), this.delegateEvents()
  }, S = /^(\S+)\s*(.*)$/, x = ["model", "collection", "el", "id", "attributes", "className", "tagName", "events"];
  n.extend(E.prototype, f, {
    tagName: "div", $: function (e) {
      return this.$el.find(e)
    }, initialize: function () {
    }, render: function () {
      return this
    }, remove: function () {
      return this.$el.remove(), this.stopListening(), this
    }, setElement: function (e, n) {
      return this.$el && this.undelegateEvents(), this.$el = e instanceof t.$ ? e : t.$(e), this.el = this.$el[0], n !== !1 && this.delegateEvents(), this
    }, delegateEvents: function (e) {
      if (!e && !(e = n.result(this, "events"))) return this;
      this.undelegateEvents();
      for (var t in e) {
        var r = e[t];
        n.isFunction(r) || (r = this[e[t]]);
        if (!r) continue;
        var i = t.match(S), s = i[1], o = i[2];
        r = n.bind(r, this), s += ".delegateEvents" + this.cid, o === "" ? this.$el.on(s, r) : this.$el.on(s, o, r)
      }
      return this
    }, undelegateEvents: function () {
      return this.$el.off(".delegateEvents" + this.cid), this
    }, _ensureElement: function () {
      if (!this.el) {
        var e = n.extend({}, n.result(this, "attributes"));
        this.id && (e.id = n.result(this, "id")), this.className && (e["class"] = n.result(this, "className"));
        var r = t.$("<" + n.result(this, "tagName") + ">").attr(e);
        this.setElement(r, !1)
      } else this.setElement(n.result(this, "el"), !1)
    }
  }), t.sync = function (e, r, i) {
    var s = N[e];
    n.defaults(i || (i = {}), {emulateHTTP: t.emulateHTTP, emulateJSON: t.emulateJSON});
    var o = {type: s, dataType: "json"};
    i.url || (o.url = n.result(r, "url") || F()), i.data == null && r && (e === "create" || e === "update" || e === "patch") && (o.contentType = "application/json", o.data = JSON.stringify(i.attrs || r.toJSON(i))), i.emulateJSON && (o.contentType = "application/x-www-form-urlencoded", o.data = o.data ? {model: o.data} : {});
    if (i.emulateHTTP && (s === "PUT" || s === "DELETE" || s === "PATCH")) {
      o.type = "POST", i.emulateJSON && (o.data._method = s);
      var u = i.beforeSend;
      i.beforeSend = function (e) {
        e.setRequestHeader("X-HTTP-Method-Override", s);
        if (u) return u.apply(this, arguments)
      }
    }
    o.type !== "GET" && !i.emulateJSON && (o.processData = !1), o.type === "PATCH" && T && (o.xhr = function () {
      return new ActiveXObject("Microsoft.XMLHTTP")
    });
    var a = i.xhr = t.ajax(n.extend(o, i));
    return r.trigger("request", r, a, i), a
  };
  var T = typeof window != "undefined" && !!window.ActiveXObject && (!window.XMLHttpRequest || !(new XMLHttpRequest).dispatchEvent),
    N = {create: "POST", update: "PUT", patch: "PATCH", "delete": "DELETE", read: "GET"};
  t.ajax = function () {
    return t.$.ajax.apply(t.$, arguments)
  };
  var C = t.Router = function (e) {
    e || (e = {}), e.routes && (this.routes = e.routes), this._bindRoutes(), this.initialize.apply(this, arguments)
  }, k = /\((.*?)\)/g, L = /(\(\?)?:\w+/g, A = /\*\w+/g, O = /[\-{}\[\]+?.,\\\^$|#\s]/g;
  n.extend(C.prototype, f, {
    initialize: function () {
    }, route: function (e, r, i) {
      n.isRegExp(e) || (e = this._routeToRegExp(e)), n.isFunction(r) && (i = r, r = ""), i || (i = this[r]);
      var s = this;
      return t.history.route(e, function (n) {
        var o = s._extractParameters(e, n);
        s.execute(i, o), s.trigger.apply(s, ["route:" + r].concat(o)), s.trigger("route", r, o), t.history.trigger("route", s, r, o)
      }), this
    }, execute: function (e, t) {
      e && e.apply(this, t)
    }, navigate: function (e, n) {
      return t.history.navigate(e, n), this
    }, _bindRoutes: function () {
      if (!this.routes) return;
      this.routes = n.result(this, "routes");
      var e, t = n.keys(this.routes);
      while ((e = t.pop()) != null) this.route(e, this.routes[e])
    }, _routeToRegExp: function (e) {
      return e = e.replace(O, "\\$&").replace(k, "(?:$1)?").replace(L, function (e, t) {
        return t ? e : "([^/?]+)"
      }).replace(A, "([^?]*?)"), new RegExp("^" + e + "(?:\\?([\\s\\S]*))?$")
    }, _extractParameters: function (e, t) {
      var r = e.exec(t).slice(1);
      return n.map(r, function (e, t) {
        return t === r.length - 1 ? e || null : e ? decodeURIComponent(e) : null
      })
    }
  });
  var M = t.History = function () {
    this.handlers = [], n.bindAll(this, "checkUrl"), typeof window != "undefined" && (this.location = window.location, this.history = window.history)
  }, _ = /^[#\/]|\s+$/g, D = /^\/+|\/+$/g, P = /msie [\w.]+/, H = /\/$/, B = /#.*$/;
  M.started = !1, n.extend(M.prototype, f, {
    interval: 50, atRoot: function () {
      return this.location.pathname.replace(/[^\/]$/, "$&/") === this.root
    }, getHash: function (e) {
      var t = (e || this).location.href.match(/#(.*)$/);
      return t ? t[1] : ""
    }, getFragment: function (e, t) {
      if (e == null) if (this._hasPushState || !this._wantsHashChange || t) {
        e = decodeURI(this.location.pathname + this.location.search);
        var n = this.root.replace(H, "");
        e.indexOf(n) || (e = e.slice(n.length))
      } else e = this.getHash();
      return e.replace(_, "")
    }, start: function (e) {
      if (M.started) throw new Error("Backbone.history has already been started");
      M.started = !0, this.options = n.extend({root: "/"}, this.options, e), this.root = this.options.root, this._wantsHashChange = this.options.hashChange !== !1, this._wantsPushState = !!this.options.pushState, this._hasPushState = !!(this.options.pushState && this.history && this.history.pushState);
      var r = this.getFragment(), i = document.documentMode,
        s = P.exec(navigator.userAgent.toLowerCase()) && (!i || i <= 7);
      this.root = ("/" + this.root + "/").replace(D, "/");
      if (s && this._wantsHashChange) {
        var o = t.$('<iframe src="javascript:0" tabindex="-1">');
        this.iframe = o.hide().appendTo("body")[0].contentWindow, this.navigate(r)
      }
      this._hasPushState ? t.$(window).on("popstate", this.checkUrl) : this._wantsHashChange && "onhashchange" in window && !s ? t.$(window).on("hashchange", this.checkUrl) : this._wantsHashChange && (this._checkUrlInterval = setInterval(this.checkUrl, this.interval)), this.fragment = r;
      var u = this.location;
      if (this._wantsHashChange && this._wantsPushState) {
        if (!this._hasPushState && !this.atRoot()) return this.fragment = this.getFragment(null, !0), this.location.replace(this.root + "#" + this.fragment), !0;
        this._hasPushState && this.atRoot() && u.hash && (this.fragment = this.getHash().replace(_, ""), this.history.replaceState({}, document.title, this.root + this.fragment))
      }
      if (!this.options.silent) return this.loadUrl()
    }, stop: function () {
      t.$(window).off("popstate", this.checkUrl).off("hashchange", this.checkUrl), this._checkUrlInterval && clearInterval(this._checkUrlInterval), M.started = !1
    }, route: function (e, t) {
      this.handlers.unshift({route: e, callback: t})
    }, checkUrl: function (e) {
      var t = this.getFragment();
      t === this.fragment && this.iframe && (t = this.getFragment(this.getHash(this.iframe)));
      if (t === this.fragment) return !1;
      this.iframe && this.navigate(t), this.loadUrl()
    }, loadUrl: function (e) {
      return e = this.fragment = this.getFragment(e), n.any(this.handlers, function (t) {
        if (t.route.test(e)) return t.callback(e), !0
      })
    }, navigate: function (e, t) {
      if (!M.started) return !1;
      if (!t || t === !0) t = {trigger: !!t};
      var n = this.root + (e = this.getFragment(e || ""));
      e = e.replace(B, "");
      if (this.fragment === e) return;
      this.fragment = e, e === "" && n !== "/" && (n = n.slice(0, -1));
      if (this._hasPushState) this.history[t.replace ? "replaceState" : "pushState"]({}, document.title, n); else {
        if (!this._wantsHashChange) return this.location.assign(n);
        this._updateHash(this.location, e, t.replace), this.iframe && e !== this.getFragment(this.getHash(this.iframe)) && (t.replace || this.iframe.document.open().close(), this._updateHash(this.iframe.location, e, t.replace))
      }
      if (t.trigger) return this.loadUrl(e)
    }, _updateHash: function (e, t, n) {
      if (n) {
        var r = e.href.replace(/(javascript:|#).*$/, "");
        e.replace(r + "#" + t)
      } else e.hash = "#" + t
    }
  }), t.history = new M;
  var j = function (e, t) {
    var r = this, i;
    e && n.has(e, "constructor") ? i = e.constructor : i = function () {
      return r.apply(this, arguments)
    }, n.extend(i, r, t);
    var s = function () {
      this.constructor = i
    };
    return s.prototype = r.prototype, i.prototype = new s, e && n.extend(i.prototype, e), i.__super__ = r.prototype, i
  };
  d.extend = m.extend = C.extend = E.extend = M.extend = j;
  var F = function () {
    throw new Error('A "url" property or function must be specified')
  }, I = function (e, t) {
    var n = t.error;
    t.error = function (r) {
      n && n(e, r, t), e.trigger("error", e, r, t)
    }
  };
  return t
}), function (e, t) {
  if (typeof define == "function" && define.amd) define("marionette", ["backbone", "underscore"], function (n, r) {
    return e.Marionette = e.Mn = t(e, n, r)
  }); else if (typeof exports != "undefined") {
    var n = require("backbone"), r = require("underscore");
    module.exports = t(e, n, r)
  } else e.Marionette = e.Mn = t(e, e.Backbone, e._)
}(this, function (e, t, n) {
  "use strict";
  (function (e, t) {
    var n = e.ChildViewContainer;
    return e.ChildViewContainer = function (e, t) {
      var n = function (e) {
        this._views = {}, this._indexByModel = {}, this._indexByCustom = {}, this._updateLength(), t.each(e, this.add, this)
      };
      t.extend(n.prototype, {
        add: function (e, t) {
          var n = e.cid;
          return this._views[n] = e, e.model && (this._indexByModel[e.model.cid] = n), t && (this._indexByCustom[t] = n), this._updateLength(), this
        }, findByModel: function (e) {
          return this.findByModelCid(e.cid)
        }, findByModelCid: function (e) {
          var t = this._indexByModel[e];
          return this.findByCid(t)
        }, findByCustom: function (e) {
          var t = this._indexByCustom[e];
          return this.findByCid(t)
        }, findByIndex: function (e) {
          return t.values(this._views)[e]
        }, findByCid: function (e) {
          return this._views[e]
        }, remove: function (e) {
          var n = e.cid;
          return e.model && delete this._indexByModel[e.model.cid], t.any(this._indexByCustom, function (e, t) {
            if (e === n) return delete this._indexByCustom[t], !0
          }, this), delete this._views[n], this._updateLength(), this
        }, call: function (e) {
          this.apply(e, t.tail(arguments))
        }, apply: function (e, n) {
          t.each(this._views, function (r) {
            t.isFunction(r[e]) && r[e].apply(r, n || [])
          })
        }, _updateLength: function () {
          this.length = t.size(this._views)
        }
      });
      var r = ["forEach", "each", "map", "find", "detect", "filter", "select", "reject", "every", "all", "some", "any", "include", "contains", "invoke", "toArray", "first", "initial", "rest", "last", "without", "isEmpty", "pluck", "reduce"];
      return t.each(r, function (e) {
        n.prototype[e] = function () {
          var n = t.values(this._views), r = [n].concat(t.toArray(arguments));
          return t[e].apply(t, r)
        }
      }), n
    }(e, t), e.ChildViewContainer.VERSION = "0.1.10", e.ChildViewContainer.noConflict = function () {
      return e.ChildViewContainer = n, this
    }, e.ChildViewContainer
  })(t, n), function (e, t) {
    var n = e.Wreqr, r = e.Wreqr = {};
    return e.Wreqr.VERSION = "1.3.5", e.Wreqr.noConflict = function () {
      return e.Wreqr = n, this
    }, r.Handlers = function (e, t) {
      var n = function (e) {
        this.options = e, this._wreqrHandlers = {}, t.isFunction(this.initialize) && this.initialize(e)
      };
      return n.extend = e.Model.extend, t.extend(n.prototype, e.Events, {
        setHandlers: function (e) {
          t.each(e, function (e, n) {
            var r = null;
            t.isObject(e) && !t.isFunction(e) && (r = e.context, e = e.callback), this.setHandler(n, e, r)
          }, this)
        }, setHandler: function (e, t, n) {
          var r = {callback: t, context: n};
          this._wreqrHandlers[e] = r, this.trigger("handler:add", e, t, n)
        }, hasHandler: function (e) {
          return !!this._wreqrHandlers[e]
        }, getHandler: function (e) {
          var t = this._wreqrHandlers[e];
          if (!t) return;
          return function () {
            return t.callback.apply(t.context, arguments)
          }
        }, removeHandler: function (e) {
          delete this._wreqrHandlers[e]
        }, removeAllHandlers: function () {
          this._wreqrHandlers = {}
        }
      }), n
    }(e, t), r.CommandStorage = function () {
      var n = function (e) {
        this.options = e, this._commands = {}, t.isFunction(this.initialize) && this.initialize(e)
      };
      return t.extend(n.prototype, e.Events, {
        getCommands: function (e) {
          var t = this._commands[e];
          return t || (t = {command: e, instances: []}, this._commands[e] = t), t
        }, addCommand: function (e, t) {
          var n = this.getCommands(e);
          n.instances.push(t)
        }, clearCommands: function (e) {
          var t = this.getCommands(e);
          t.instances = []
        }
      }), n
    }(), r.Commands = function (e, t) {
      return e.Handlers.extend({
        storageType: e.CommandStorage, constructor: function (t) {
          this.options = t || {}, this._initializeStorage(this.options), this.on("handler:add", this._executeCommands, this), e.Handlers.prototype.constructor.apply(this, arguments)
        }, execute: function (e) {
          e = arguments[0];
          var n = t.rest(arguments);
          this.hasHandler(e) ? this.getHandler(e).apply(this, n) : this.storage.addCommand(e, n)
        }, _executeCommands: function (e, n, r) {
          var i = this.storage.getCommands(e);
          t.each(i.instances, function (e) {
            n.apply(r, e)
          }), this.storage.clearCommands(e)
        }, _initializeStorage: function (e) {
          var n, r = e.storageType || this.storageType;
          t.isFunction(r) ? n = new r : n = r, this.storage = n
        }
      })
    }(r, t), r.RequestResponse = function (e, t) {
      return e.Handlers.extend({
        request: function (e) {
          if (this.hasHandler(e)) return this.getHandler(e).apply(this, t.rest(arguments))
        }
      })
    }(r, t), r.EventAggregator = function (e, t) {
      var n = function () {
      };
      return n.extend = e.Model.extend, t.extend(n.prototype, e.Events), n
    }(e, t), r.Channel = function (n) {
      var r = function (t) {
        this.vent = new e.Wreqr.EventAggregator, this.reqres = new e.Wreqr.RequestResponse, this.commands = new e.Wreqr.Commands, this.channelName = t
      };
      return t.extend(r.prototype, {
        reset: function () {
          return this.vent.off(), this.vent.stopListening(), this.reqres.removeAllHandlers(), this.commands.removeAllHandlers(), this
        }, connectEvents: function (e, t) {
          return this._connect("vent", e, t), this
        }, connectCommands: function (e, t) {
          return this._connect("commands", e, t), this
        }, connectRequests: function (e, t) {
          return this._connect("reqres", e, t), this
        }, _connect: function (e, n, r) {
          if (!n) return;
          r = r || this;
          var i = e === "vent" ? "on" : "setHandler";
          t.each(n, function (n, s) {
            this[e][i](s, t.bind(n, r))
          }, this)
        }
      }), r
    }(r), r.radio = function (e, t) {
      var n = function () {
        this._channels = {}, this.vent = {}, this.commands = {}, this.reqres = {}, this._proxyMethods()
      };
      t.extend(n.prototype, {
        channel: function (e) {
          if (!e) throw new Error("Channel must receive a name");
          return this._getChannel(e)
        }, _getChannel: function (t) {
          var n = this._channels[t];
          return n || (n = new e.Channel(t), this._channels[t] = n), n
        }, _proxyMethods: function () {
          t.each(["vent", "commands", "reqres"], function (e) {
            t.each(r[e], function (t) {
              this[e][t] = i(this, e, t)
            }, this)
          }, this)
        }
      });
      var r = {
        vent: ["on", "off", "trigger", "once", "stopListening", "listenTo", "listenToOnce"],
        commands: ["execute", "setHandler", "setHandlers", "removeHandler", "removeAllHandlers"],
        reqres: ["request", "setHandler", "setHandlers", "removeHandler", "removeAllHandlers"]
      }, i = function (e, n, r) {
        return function (i) {
          var s = e._getChannel(i)[n];
          return s[r].apply(s, t.rest(arguments))
        }
      };
      return new n
    }(r, t), e.Wreqr
  }(t, n);
  var r = e.Marionette, i = e.Mn, s = t.Marionette = {};
  s.VERSION = "2.4.4", s.noConflict = function () {
    return e.Marionette = r, e.Mn = i, this
  }, t.Marionette = s, s.Deferred = t.$.Deferred, s.extend = t.Model.extend, s.isNodeAttached = function (e) {
    return t.$.contains(document.documentElement, e)
  }, s.mergeOptions = function (e, t) {
    if (!e) return;
    n.extend(this, n.pick(e, t))
  }, s.getOption = function (e, t) {
    if (!e || !t) return;
    return e.options && e.options[t] !== undefined ? e.options[t] : e[t]
  }, s.proxyGetOption = function (e) {
    return s.getOption(this, e)
  }, s._getValue = function (e, t, r) {
    return n.isFunction(e) && (e = r ? e.apply(t, r) : e.call(t)), e
  }, s.normalizeMethods = function (e) {
    return n.reduce(e, function (e, t, r) {
      return n.isFunction(t) || (t = this[t]), t && (e[r] = t), e
    }, {}, this)
  }, s.normalizeUIString = function (e, t) {
    return e.replace(/@ui\.[a-zA-Z_$0-9]*/g, function (e) {
      return t[e.slice(4)]
    })
  }, s.normalizeUIKeys = function (e, t) {
    return n.reduce(e, function (e, n, r) {
      var i = s.normalizeUIString(r, t);
      return e[i] = n, e
    }, {})
  }, s.normalizeUIValues = function (e, t, r) {
    return n.each(e, function (i, o) {
      n.isString(i) ? e[o] = s.normalizeUIString(i, t) : n.isObject(i) && n.isArray(r) && (n.extend(i, s.normalizeUIValues(n.pick(i, r), t)), n.each(r, function (e) {
        var r = i[e];
        n.isString(r) && (i[e] = s.normalizeUIString(r, t))
      }))
    }), e
  }, s.actAsCollection = function (e, t) {
    var r = ["forEach", "each", "map", "find", "detect", "filter", "select", "reject", "every", "all", "some", "any", "include", "contains", "invoke", "toArray", "first", "initial", "rest", "last", "without", "isEmpty", "pluck"];
    n.each(r, function (r) {
      e[r] = function () {
        var e = n.values(n.result(this, t)), i = [e].concat(n.toArray(arguments));
        return n[r].apply(n, i)
      }
    })
  };
  var o = s.deprecate = function (e, t) {
    n.isObject(e) && (e = e.prev + " is going to be removed in the future. " + "Please use " + e.next + " instead." + (e.url ? " See: " + e.url : "")), (t === undefined || !t) && !o._cache[e] && (o._warn("Deprecation warning: " + e), o._cache[e] = !0)
  };
  o._warn = typeof console != "undefined" && (console.warn || console.log) || function () {
  }, o._cache = {}, s._triggerMethod = function () {
    function t(e, t, n) {
      return n.toUpperCase()
    }

    var e = /(^|:)(\w)/gi;
    return function (r, i, s) {
      var o = arguments.length < 3;
      o && (s = i, i = s[0]);
      var u = "on" + i.replace(e, t), a = r[u], f;
      return n.isFunction(a) && (f = a.apply(r, o ? n.rest(s) : s)), n.isFunction(r.trigger) && (o + s.length > 1 ? r.trigger.apply(r, o ? s : [i].concat(n.drop(s, 0))) : r.trigger(i)), f
    }
  }(), s.triggerMethod = function (e) {
    return s._triggerMethod(this, arguments)
  }, s.triggerMethodOn = function (e) {
    var t = n.isFunction(e.triggerMethod) ? e.triggerMethod : s.triggerMethod;
    return t.apply(e, n.rest(arguments))
  }, s.MonitorDOMRefresh = function (e) {
    function t() {
      e._isShown = !0, r()
    }

    function n() {
      e._isRendered = !0, r()
    }

    function r() {
      e._isShown && e._isRendered && s.isNodeAttached(e.el) && s.triggerMethodOn(e, "dom:refresh", e)
    }

    if (e._isDomRefreshMonitored) return;
    e._isDomRefreshMonitored = !0, e.on({show: t, render: n})
  }, function (e) {
    function t(t, r, i, s) {
      var o = s.split(/\s+/);
      n.each(o, function (n) {
        var s = t[n];
        if (!s) throw new e.Error('Method "' + n + '" was configured as an event handler, but does not exist.');
        t.listenTo(r, i, s)
      })
    }

    function r(e, t, n, r) {
      e.listenTo(t, n, r)
    }

    function i(e, t, r, i) {
      var s = i.split(/\s+/);
      n.each(s, function (n) {
        var i = e[n];
        e.stopListening(t, r, i)
      })
    }

    function s(e, t, n, r) {
      e.stopListening(t, n, r)
    }

    function o(t, r, i, s, o) {
      if (!r || !i) return;
      if (!n.isObject(i)) throw new e.Error({
        message: "Bindings must be an object or function.",
        url: "marionette.functions.html#marionettebindentityevents"
      });
      i = e._getValue(i, t), n.each(i, function (e, i) {
        n.isFunction(e) ? s(t, r, i, e) : o(t, r, i, e)
      })
    }

    e.bindEntityEvents = function (e, n, i) {
      o(e, n, i, r, t)
    }, e.unbindEntityEvents = function (e, t, n) {
      o(e, t, n, s, i)
    }, e.proxyBindEntityEvents = function (t, n) {
      return e.bindEntityEvents(this, t, n)
    }, e.proxyUnbindEntityEvents = function (t, n) {
      return e.unbindEntityEvents(this, t, n)
    }
  }(s);
  var u = ["description", "fileName", "lineNumber", "name", "message", "number"];
  return s.Error = s.extend.call(Error, {
    urlRoot: "http://marionettejs.com/docs/v" + s.VERSION + "/",
    constructor: function (e, t) {
      n.isObject(e) ? (t = e, e = t.message) : t || (t = {});
      var r = Error.call(this, e);
      n.extend(this, n.pick(r, u), n.pick(t, u)), this.captureStackTrace(), t.url && (this.url = this.urlRoot + t.url)
    },
    captureStackTrace: function () {
      Error.captureStackTrace && Error.captureStackTrace(this, s.Error)
    },
    toString: function () {
      return this.name + ": " + this.message + (this.url ? " See: " + this.url : "")
    }
  }), s.Error.extend = s.extend, s.Callbacks = function () {
    this._deferred = s.Deferred(), this._callbacks = []
  }, n.extend(s.Callbacks.prototype, {
    add: function (e, t) {
      var r = n.result(this._deferred, "promise");
      this._callbacks.push({cb: e, ctx: t}), r.then(function (n) {
        t && (n.context = t), e.call(n.context, n.options)
      })
    }, run: function (e, t) {
      this._deferred.resolve({options: e, context: t})
    }, reset: function () {
      var e = this._callbacks;
      this._deferred = s.Deferred(), this._callbacks = [], n.each(e, function (e) {
        this.add(e.cb, e.ctx)
      }, this)
    }
  }), s.Controller = function (e) {
    this.options = e || {}, n.isFunction(this.initialize) && this.initialize(this.options)
  }, s.Controller.extend = s.extend, n.extend(s.Controller.prototype, t.Events, {
    destroy: function () {
      return s._triggerMethod(this, "before:destroy", arguments), s._triggerMethod(this, "destroy", arguments), this.stopListening(), this.off(), this
    }, triggerMethod: s.triggerMethod, mergeOptions: s.mergeOptions, getOption: s.proxyGetOption
  }), s.Object = function (e) {
    this.options = n.extend({}, n.result(this, "options"), e), this.initialize.apply(this, arguments)
  }, s.Object.extend = s.extend, n.extend(s.Object.prototype, t.Events, {
    initialize: function () {
    },
    destroy: function (e) {
      return e = e || {}, this.triggerMethod("before:destroy", e), this.triggerMethod("destroy", e), this.stopListening(), this
    },
    triggerMethod: s.triggerMethod,
    mergeOptions: s.mergeOptions,
    getOption: s.proxyGetOption,
    bindEntityEvents: s.proxyBindEntityEvents,
    unbindEntityEvents: s.proxyUnbindEntityEvents
  }), s.Region = s.Object.extend({
    constructor: function (e) {
      this.options = e || {}, this.el = this.getOption("el"), this.el = this.el instanceof t.$ ? this.el[0] : this.el;
      if (!this.el) throw new s.Error({name: "NoElError", message: 'An "el" must be specified for a region.'});
      this.$el = this.getEl(this.el), s.Object.call(this, e)
    }, show: function (e, t) {
      if (!this._ensureElement()) return;
      this._ensureViewIsIntact(e), s.MonitorDOMRefresh(e);
      var r = t || {}, i = e !== this.currentView, o = !!r.preventDestroy, u = !!r.forceShow, a = !!this.currentView,
        f = i && !o, l = i || u;
      a && this.triggerMethod("before:swapOut", this.currentView, this, t), this.currentView && delete this.currentView._parent, f ? this.empty() : a && l && this.currentView.off("destroy", this.empty, this);
      if (l) {
        e.once("destroy", this.empty, this), e._parent = this, this._renderView(e), a && this.triggerMethod("before:swap", e, this, t), this.triggerMethod("before:show", e, this, t), s.triggerMethodOn(e, "before:show", e, this, t), a && this.triggerMethod("swapOut", this.currentView, this, t);
        var c = s.isNodeAttached(this.el), h = [],
          p = n.extend({triggerBeforeAttach: this.triggerBeforeAttach, triggerAttach: this.triggerAttach}, r);
        return c && p.triggerBeforeAttach && (h = this._displayedViews(e), this._triggerAttach(h, "before:")), this.attachHtml(e), this.currentView = e, c && p.triggerAttach && (h = this._displayedViews(e), this._triggerAttach(h)), a && this.triggerMethod("swap", e, this, t), this.triggerMethod("show", e, this, t), s.triggerMethodOn(e, "show", e, this, t), this
      }
      return this
    }, triggerBeforeAttach: !0, triggerAttach: !0, _triggerAttach: function (e, t) {
      var r = (t || "") + "attach";
      n.each(e, function (e) {
        s.triggerMethodOn(e, r, e, this)
      }, this)
    }, _displayedViews: function (e) {
      return n.union([e], n.result(e, "_getNestedViews") || [])
    }, _renderView: function (e) {
      e.supportsRenderLifecycle || s.triggerMethodOn(e, "before:render", e), e.render(), e.supportsRenderLifecycle || s.triggerMethodOn(e, "render", e)
    }, _ensureElement: function () {
      n.isObject(this.el) || (this.$el = this.getEl(this.el), this.el = this.$el[0]);
      if (!this.$el || this.$el.length === 0) {
        if (this.getOption("allowMissingEl")) return !1;
        throw new s.Error('An "el" ' + this.$el.selector + " must exist in DOM")
      }
      return !0
    }, _ensureViewIsIntact: function (e) {
      if (!e) throw new s.Error({
        name: "ViewNotValid",
        message: "The view passed is undefined and therefore invalid. You must pass a view instance to show."
      });
      if (e.isDestroyed) throw new s.Error({
        name: "ViewDestroyedError",
        message: 'View (cid: "' + e.cid + '") has already been destroyed and cannot be used.'
      })
    }, getEl: function (e) {
      return t.$(e, s._getValue(this.options.parentEl, this))
    }, attachHtml: function (e) {
      this.$el.contents().detach(), this.el.appendChild(e.el)
    }, empty: function (e) {
      var t = this.currentView, n = e || {}, r = !!n.preventDestroy;
      return t ? (t.off("destroy", this.empty, this), this.triggerMethod("before:empty", t), r || this._destroyView(), this.triggerMethod("empty", t), delete this.currentView, r && this.$el.contents().detach(), this) : this
    }, _destroyView: function () {
      var e = this.currentView;
      if (e.isDestroyed) return;
      e.supportsDestroyLifecycle || s.triggerMethodOn(e, "before:destroy", e), e.destroy ? e.destroy() : (e.remove(), e.isDestroyed = !0), e.supportsDestroyLifecycle || s.triggerMethodOn(e, "destroy", e)
    }, attachView: function (e) {
      return this.currentView && delete this.currentView._parent, e._parent = this, this.currentView = e, this
    }, hasView: function () {
      return !!this.currentView
    }, reset: function () {
      return this.empty(), this.$el && (this.el = this.$el.selector), delete this.$el, this
    }
  }, {
    buildRegion: function (e, t) {
      if (n.isString(e)) return this._buildRegionFromSelector(e, t);
      if (e.selector || e.el || e.regionClass) return this._buildRegionFromObject(e, t);
      if (n.isFunction(e)) return this._buildRegionFromRegionClass(e);
      throw new s.Error({
        message: "Improper region configuration type.",
        url: "marionette.region.html#region-configuration-types"
      })
    }, _buildRegionFromSelector: function (e, t) {
      return new t({el: e})
    }, _buildRegionFromObject: function (e, t) {
      var r = e.regionClass || t, i = n.omit(e, "selector", "regionClass");
      return e.selector && !i.el && (i.el = e.selector), new r(i)
    }, _buildRegionFromRegionClass: function (e) {
      return new e
    }
  }), s.RegionManager = s.Controller.extend({
    constructor: function (e) {
      this._regions = {}, this.length = 0, s.Controller.call(this, e), this.addRegions(this.getOption("regions"))
    }, addRegions: function (e, t) {
      return e = s._getValue(e, this, arguments), n.reduce(e, function (e, r, i) {
        return n.isString(r) && (r = {selector: r}), r.selector && (r = n.defaults({}, r, t)), e[i] = this.addRegion(i, r), e
      }, {}, this)
    }, addRegion: function (e, t) {
      var n;
      return t instanceof s.Region ? n = t : n = s.Region.buildRegion(t, s.Region), this.triggerMethod("before:add:region", e, n), n._parent = this, this._store(e, n), this.triggerMethod("add:region", e, n), n
    }, get: function (e) {
      return this._regions[e]
    }, getRegions: function () {
      return n.clone(this._regions)
    }, removeRegion: function (e) {
      var t = this._regions[e];
      return this._remove(e, t), t
    }, removeRegions: function () {
      var e = this.getRegions();
      return n.each(this._regions, function (e, t) {
        this._remove(t, e)
      }, this), e
    }, emptyRegions: function () {
      var e = this.getRegions();
      return n.invoke(e, "empty"), e
    }, destroy: function () {
      return this.removeRegions(), s.Controller.prototype.destroy.apply(this, arguments)
    }, _store: function (e, t) {
      this._regions[e] || this.length++, this._regions[e] = t
    }, _remove: function (e, t) {
      this.triggerMethod("before:remove:region", e, t), t.empty(), t.stopListening(), delete t._parent, delete this._regions[e], this.length--, this.triggerMethod("remove:region", e, t)
    }
  }), s.actAsCollection(s.RegionManager.prototype, "_regions"), s.TemplateCache = function (e) {
    this.templateId = e
  }, n.extend(s.TemplateCache, {
    templateCaches: {}, get: function (e, t) {
      var n = this.templateCaches[e];
      return n || (n = new s.TemplateCache(e), this.templateCaches[e] = n), n.load(t)
    }, clear: function () {
      var e, t = n.toArray(arguments), r = t.length;
      if (r > 0) for (e = 0; e < r; e++) delete this.templateCaches[t[e]]; else this.templateCaches = {}
    }
  }), n.extend(s.TemplateCache.prototype, {
    load: function (e) {
      if (this.compiledTemplate) return this.compiledTemplate;
      var t = this.loadTemplate(this.templateId, e);
      return this.compiledTemplate = this.compileTemplate(t, e), this.compiledTemplate
    }, loadTemplate: function (e, n) {
      var r = t.$(e);
      if (!r.length) throw new s.Error({name: "NoTemplateError", message: 'Could not find template: "' + e + '"'});
      return r.html()
    }, compileTemplate: function (e, t) {
      return n.template(e, t)
    }
  }), s.Renderer = {
    render: function (e, t) {
      if (!e) throw new s.Error({
        name: "TemplateNotFoundError",
        message: "Cannot render the template since its false, null or undefined."
      });
      var r = n.isFunction(e) ? e : s.TemplateCache.get(e);
      return r(t)
    }
  }, s.View = t.View.extend({
    isDestroyed: !1,
    supportsRenderLifecycle: !0,
    supportsDestroyLifecycle: !0,
    constructor: function (e) {
      this.render = n.bind(this.render, this), e = s._getValue(e, this), this.options = n.extend({}, n.result(this, "options"), e), this._behaviors = s.Behaviors(this), t.View.call(this, this.options), s.MonitorDOMRefresh(this)
    },
    getTemplate: function () {
      return this.getOption("template")
    },
    serializeModel: function (e) {
      return e.toJSON.apply(e, n.rest(arguments))
    },
    mixinTemplateHelpers: function (e) {
      e = e || {};
      var t = this.getOption("templateHelpers");
      return t = s._getValue(t, this), n.extend(e, t)
    },
    normalizeUIKeys: function (e) {
      var t = n.result(this, "_uiBindings");
      return s.normalizeUIKeys(e, t || n.result(this, "ui"))
    },
    normalizeUIValues: function (e, t) {
      var r = n.result(this, "ui"), i = n.result(this, "_uiBindings");
      return s.normalizeUIValues(e, i || r, t)
    },
    configureTriggers: function () {
      if (!this.triggers) return;
      var e = this.normalizeUIKeys(n.result(this, "triggers"));
      return n.reduce(e, function (e, t, n) {
        return e[n] = this._buildViewTrigger(t), e
      }, {}, this)
    },
    delegateEvents: function (e) {
      return this._delegateDOMEvents(e), this.bindEntityEvents(this.model, this.getOption("modelEvents")), this.bindEntityEvents(this.collection, this.getOption("collectionEvents")), n.each(this._behaviors, function (e) {
        e.bindEntityEvents(this.model, e.getOption("modelEvents")), e.bindEntityEvents(this.collection, e.getOption("collectionEvents"))
      }, this), this
    },
    _delegateDOMEvents: function (e) {
      var r = s._getValue(e || this.events, this);
      r = this.normalizeUIKeys(r), n.isUndefined(e) && (this.events = r);
      var i = {}, o = n.result(this, "behaviorEvents") || {}, u = this.configureTriggers(),
        a = n.result(this, "behaviorTriggers") || {};
      n.extend(i, o, r, u, a), t.View.prototype.delegateEvents.call(this, i)
    },
    undelegateEvents: function () {
      return t.View.prototype.undelegateEvents.apply(this, arguments), this.unbindEntityEvents(this.model, this.getOption("modelEvents")), this.unbindEntityEvents(this.collection, this.getOption("collectionEvents")), n.each(this._behaviors, function (e) {
        e.unbindEntityEvents(this.model, e.getOption("modelEvents")), e.unbindEntityEvents(this.collection, e.getOption("collectionEvents"))
      }, this), this
    },
    _ensureViewIsIntact: function () {
      if (this.isDestroyed) throw new s.Error({
        name: "ViewDestroyedError",
        message: 'View (cid: "' + this.cid + '") has already been destroyed and cannot be used.'
      })
    },
    destroy: function () {
      if (this.isDestroyed) return this;
      var e = n.toArray(arguments);
      return this.triggerMethod.apply(this, ["before:destroy"].concat(e)), this.isDestroyed = !0, this.triggerMethod.apply(this, ["destroy"].concat(e)), this.unbindUIElements(), this.isRendered = !1, this.remove(), n.invoke(this._behaviors, "destroy", e), this
    },
    bindUIElements: function () {
      this._bindUIElements(), n.invoke(this._behaviors, this._bindUIElements)
    },
    _bindUIElements: function () {
      if (!this.ui) return;
      this._uiBindings || (this._uiBindings = this.ui);
      var e = n.result(this, "_uiBindings");
      this.ui = {}, n.each(e, function (e, t) {
        this.ui[t] = this.$(e)
      }, this)
    },
    unbindUIElements: function () {
      this._unbindUIElements(), n.invoke(this._behaviors, this._unbindUIElements)
    },
    _unbindUIElements: function () {
      if (!this.ui || !this._uiBindings) return;
      n.each(this.ui, function (e, t) {
        delete this.ui[t]
      }, this), this.ui = this._uiBindings, delete this._uiBindings
    },
    _buildViewTrigger: function (e) {
      var t = n.defaults({}, e, {preventDefault: !0, stopPropagation: !0}), r = n.isObject(e) ? t.event : e;
      return function (e) {
        e && (e.preventDefault && t.preventDefault && e.preventDefault(), e.stopPropagation && t.stopPropagation && e.stopPropagation());
        var n = {view: this, model: this.model, collection: this.collection};
        this.triggerMethod(r, n)
      }
    },
    setElement: function () {
      var e = t.View.prototype.setElement.apply(this, arguments);
      return n.invoke(this._behaviors, "proxyViewProperties", this), e
    },
    triggerMethod: function () {
      var e = s._triggerMethod(this, arguments);
      return this._triggerEventOnBehaviors(arguments), this._triggerEventOnParentLayout(arguments[0], n.rest(arguments)), e
    },
    _triggerEventOnBehaviors: function (e) {
      var t = s._triggerMethod, n = this._behaviors;
      for (var r = 0, i = n && n.length; r < i; r++) t(n[r], e)
    },
    _triggerEventOnParentLayout: function (e, t) {
      var r = this._parentLayoutView();
      if (!r) return;
      var i = s.getOption(r, "childViewEventPrefix"), o = i + ":" + e, u = [this].concat(t);
      s._triggerMethod(r, o, u);
      var a = s.getOption(r, "childEvents");
      a = s._getValue(a, r);
      var f = r.normalizeMethods(a);
      f && n.isFunction(f[e]) && f[e].apply(r, u)
    },
    _getImmediateChildren: function () {
      return []
    },
    _getNestedViews: function () {
      var e = this._getImmediateChildren();
      return e.length ? n.reduce(e, function (e, t) {
        return t._getNestedViews ? e.concat(t._getNestedViews()) : e
      }, e) : e
    },
    _parentLayoutView: function () {
      var e = this._parent;
      while (e) {
        if (e instanceof s.LayoutView) return e;
        e = e._parent
      }
    },
    normalizeMethods: s.normalizeMethods,
    mergeOptions: s.mergeOptions,
    getOption: s.proxyGetOption,
    bindEntityEvents: s.proxyBindEntityEvents,
    unbindEntityEvents: s.proxyUnbindEntityEvents
  }), s.ItemView = s.View.extend({
    constructor: function () {
      s.View.apply(this, arguments)
    }, serializeData: function () {
      if (!this.model && !this.collection) return {};
      var e = [this.model || this.collection];
      return arguments.length && e.push.apply(e, arguments), this.model ? this.serializeModel.apply(this, e) : {items: this.serializeCollection.apply(this, e)}
    }, serializeCollection: function (e) {
      return e.toJSON.apply(e, n.rest(arguments))
    }, render: function () {
      return this._ensureViewIsIntact(), this.triggerMethod("before:render", this), this._renderTemplate(), this.isRendered = !0, this.bindUIElements(), this.triggerMethod("render", this), this
    }, _renderTemplate: function () {
      var e = this.getTemplate();
      if (e === !1) return;
      if (!e) throw new s.Error({
        name: "UndefinedTemplateError",
        message: "Cannot render the template since it is null or undefined."
      });
      var t = this.mixinTemplateHelpers(this.serializeData()), n = s.Renderer.render(e, t, this);
      return this.attachElContent(n), this
    }, attachElContent: function (e) {
      return this.$el.html(e), this
    }
  }), s.CollectionView = s.View.extend({
    childViewEventPrefix: "childview", sort: !0, constructor: function (e) {
      this.once("render", this._initialEvents), this._initChildViewStorage(), s.View.apply(this, arguments), this.on({
        "before:show": this._onBeforeShowCalled,
        show: this._onShowCalled,
        "before:attach": this._onBeforeAttachCalled,
        attach: this._onAttachCalled
      }), this.initRenderBuffer()
    }, initRenderBuffer: function () {
      this._bufferedChildren = []
    }, startBuffering: function () {
      this.initRenderBuffer(), this.isBuffering = !0
    }, endBuffering: function () {
      var e = this._isShown && s.isNodeAttached(this.el), t;
      this.isBuffering = !1, this._isShown && this._triggerMethodMany(this._bufferedChildren, this, "before:show"), e && this._triggerBeforeAttach && (t = this._getNestedViews(), this._triggerMethodMany(t, this, "before:attach")), this.attachBuffer(this, this._createBuffer()), e && this._triggerAttach && (t = this._getNestedViews(), this._triggerMethodMany(t, this, "attach")), this._isShown && this._triggerMethodMany(this._bufferedChildren, this, "show"), this.initRenderBuffer()
    }, _triggerMethodMany: function (e, t, r) {
      var i = n.drop(arguments, 3);
      n.each(e, function (e) {
        s.triggerMethodOn.apply(e, [e, r, e, t].concat(i))
      })
    }, _initialEvents: function () {
      this.collection && (this.listenTo(this.collection, "add", this._onCollectionAdd), this.listenTo(this.collection, "remove", this._onCollectionRemove), this.listenTo(this.collection, "reset", this.render), this.getOption("sort") && this.listenTo(this.collection, "sort", this._sortViews))
    }, _onCollectionAdd: function (e, t, r) {
      var i = r.at !== undefined && (r.index || t.indexOf(e));
      if (this.getOption("filter") || i === !1) i = n.indexOf(this._filteredSortedModels(i), e);
      if (this._shouldAddChild(e, i)) {
        this.destroyEmptyView();
        var s = this.getChildView(e);
        this.addChild(e, s, i)
      }
    }, _onCollectionRemove: function (e) {
      var t = this.children.findByModel(e);
      this.removeChildView(t), this.checkEmpty()
    }, _onBeforeShowCalled: function () {
      this._triggerBeforeAttach = this._triggerAttach = !1, this.children.each(function (e) {
        s.triggerMethodOn(e, "before:show", e)
      })
    }, _onShowCalled: function () {
      this.children.each(function (e) {
        s.triggerMethodOn(e, "show", e)
      })
    }, _onBeforeAttachCalled: function () {
      this._triggerBeforeAttach = !0
    }, _onAttachCalled: function () {
      this._triggerAttach = !0
    }, render: function () {
      return this._ensureViewIsIntact(), this.triggerMethod("before:render", this), this._renderChildren(), this.isRendered = !0, this.triggerMethod("render", this), this
    }, reorder: function () {
      var e = this.children, t = this._filteredSortedModels(), r = n.some(t, function (t) {
        return !e.findByModel(t)
      });
      if (r) this.render(); else {
        var i = n.map(t, function (t, n) {
          var r = e.findByModel(t);
          return r._index = n, r.el
        }), s = e.filter(function (e) {
          return !n.contains(i, e.el)
        });
        this.triggerMethod("before:reorder"), this._appendReorderedChildren(i), n.each(s, this.removeChildView, this), this.checkEmpty(), this.triggerMethod("reorder")
      }
    }, resortView: function () {
      s.getOption(this, "reorderOnSort") ? this.reorder() : this.render()
    }, _sortViews: function () {
      var e = this._filteredSortedModels(), t = n.find(e, function (e, t) {
        var n = this.children.findByModel(e);
        return !n || n._index !== t
      }, this);
      t && this.resortView()
    }, _emptyViewIndex: -1, _appendReorderedChildren: function (e) {
      this.$el.append(e)
    }, _renderChildren: function () {
      this.destroyEmptyView(), this.destroyChildren({checkEmpty: !1}), this.isEmpty(this.collection) ? this.showEmptyView() : (this.triggerMethod("before:render:collection", this), this.startBuffering(), this.showCollection(), this.endBuffering(), this.triggerMethod("render:collection", this), this.children.isEmpty() && this.getOption("filter") && this.showEmptyView())
    }, showCollection: function () {
      var e, t = this._filteredSortedModels();
      n.each(t, function (t, n) {
        e = this.getChildView(t), this.addChild(t, e, n)
      }, this)
    }, _filteredSortedModels: function (e) {
      var t = this.getViewComparator(), r = this.collection.models;
      e = Math.min(Math.max(e, 0), r.length - 1);
      if (t) {
        var i;
        e && (i = r[e], r = r.slice(0, e).concat(r.slice(e + 1))), r = this._sortModelsBy(r, t), i && r.splice(e, 0, i)
      }
      return this.getOption("filter") && (r = n.filter(r, function (e, t) {
        return this._shouldAddChild(e, t)
      }, this)), r
    }, _sortModelsBy: function (e, t) {
      return typeof t == "string" ? n.sortBy(e, function (e) {
        return e.get(t)
      }, this) : t.length === 1 ? n.sortBy(e, t, this) : e.sort(n.bind(t, this))
    }, showEmptyView: function () {
      var e = this.getEmptyView();
      if (e && !this._showingEmptyView) {
        this.triggerMethod("before:render:empty"), this._showingEmptyView = !0;
        var n = new t.Model;
        this.addEmptyView(n, e), this.triggerMethod("render:empty")
      }
    }, destroyEmptyView: function () {
      this._showingEmptyView && (this.triggerMethod("before:remove:empty"), this.destroyChildren(), delete this._showingEmptyView, this.triggerMethod("remove:empty"))
    }, getEmptyView: function () {
      return this.getOption("emptyView")
    }, addEmptyView: function (e, t) {
      var r = this._isShown && !this.isBuffering && s.isNodeAttached(this.el), i,
        o = this.getOption("emptyViewOptions") || this.getOption("childViewOptions");
      n.isFunction(o) && (o = o.call(this, e, this._emptyViewIndex));
      var u = this.buildChildView(e, t, o);
      u._parent = this, this.proxyChildEvents(u), u.once("render", function () {
        this._isShown && s.triggerMethodOn(u, "before:show", u), r && this._triggerBeforeAttach && (i = this._getViewAndNested(u), this._triggerMethodMany(i, this, "before:attach"))
      }, this), this.children.add(u), this.renderChildView(u, this._emptyViewIndex), r && this._triggerAttach && (i = this._getViewAndNested(u), this._triggerMethodMany(i, this, "attach")), this._isShown && s.triggerMethodOn(u, "show", u)
    }, getChildView: function (e) {
      var t = this.getOption("childView");
      if (!t) throw new s.Error({name: "NoChildViewError", message: 'A "childView" must be specified'});
      return t
    }, addChild: function (e, t, n) {
      var r = this.getOption("childViewOptions");
      r = s._getValue(r, this, [e, n]);
      var i = this.buildChildView(e, t, r);
      return this._updateIndices(i, !0, n), this.triggerMethod("before:add:child", i), this._addChildView(i, n), this.triggerMethod("add:child", i), i._parent = this, i
    }, _updateIndices: function (e, t, n) {
      if (!this.getOption("sort")) return;
      t && (e._index = n), this.children.each(function (n) {
        n._index >= e._index && (n._index += t ? 1 : -1)
      })
    }, _addChildView: function (e, t) {
      var n = this._isShown && !this.isBuffering && s.isNodeAttached(this.el), r;
      this.proxyChildEvents(e), e.once("render", function () {
        this._isShown && !this.isBuffering && s.triggerMethodOn(e, "before:show", e), n && this._triggerBeforeAttach && (r = this._getViewAndNested(e), this._triggerMethodMany(r, this, "before:attach"))
      }, this), this.children.add(e), this.renderChildView(e, t), n && this._triggerAttach && (r = this._getViewAndNested(e), this._triggerMethodMany(r, this, "attach")), this._isShown && !this.isBuffering && s.triggerMethodOn(e, "show", e)
    }, renderChildView: function (e, t) {
      return e.supportsRenderLifecycle || s.triggerMethodOn(e, "before:render", e), e.render(), e.supportsRenderLifecycle || s.triggerMethodOn(e, "render", e), this.attachHtml(this, e, t), e
    }, buildChildView: function (e, t, r) {
      var i = n.extend({model: e}, r), o = new t(i);
      return s.MonitorDOMRefresh(o), o
    }, removeChildView: function (e) {
      return e ? (this.triggerMethod("before:remove:child", e), e.supportsDestroyLifecycle || s.triggerMethodOn(e, "before:destroy", e), e.destroy ? e.destroy() : e.remove(), e.supportsDestroyLifecycle || s.triggerMethodOn(e, "destroy", e), delete e._parent, this.stopListening(e), this.children.remove(e), this.triggerMethod("remove:child", e), this._updateIndices(e, !1), e) : e
    }, isEmpty: function () {
      return !this.collection || this.collection.length === 0
    }, checkEmpty: function () {
      this.isEmpty(this.collection) && this.showEmptyView()
    }, attachBuffer: function (e, t) {
      e.$el.append(t)
    }, _createBuffer: function () {
      var e = document.createDocumentFragment();
      return n.each(this._bufferedChildren, function (t) {
        e.appendChild(t.el)
      }), e
    }, attachHtml: function (e, t, n) {
      e.isBuffering ? e._bufferedChildren.splice(n, 0, t) : e._insertBefore(t, n) || e._insertAfter(t)
    }, _insertBefore: function (e, t) {
      var n, r = this.getOption("sort") && t < this.children.length - 1;
      return r && (n = this.children.find(function (e) {
        return e._index === t + 1
      })), n ? (n.$el.before(e.el), !0) : !1
    }, _insertAfter: function (e) {
      this.$el.append(e.el)
    }, _initChildViewStorage: function () {
      this.children = new t.ChildViewContainer
    }, destroy: function () {
      return this.isDestroyed ? this : (this.triggerMethod("before:destroy:collection"), this.destroyChildren({checkEmpty: !1}), this.triggerMethod("destroy:collection"), s.View.prototype.destroy.apply(this, arguments))
    }, destroyChildren: function (e) {
      var t = e || {}, r = !0, i = this.children.map(n.identity);
      return n.isUndefined(t.checkEmpty) || (r = t.checkEmpty), this.children.each(this.removeChildView, this), r && this.checkEmpty(), i
    }, _shouldAddChild: function (e, t) {
      var r = this.getOption("filter");
      return !n.isFunction(r) || r.call(this, e, t, this.collection)
    }, proxyChildEvents: function (e) {
      var t = this.getOption("childViewEventPrefix");
      this.listenTo(e, "all", function () {
        var r = n.toArray(arguments), i = r[0], s = this.normalizeMethods(n.result(this, "childEvents"));
        r[0] = t + ":" + i, r.splice(1, 0, e), typeof s != "undefined" && n.isFunction(s[i]) && s[i].apply(this, r.slice(1)), this.triggerMethod.apply(this, r)
      })
    }, _getImmediateChildren: function () {
      return n.values(this.children._views)
    }, _getViewAndNested: function (e) {
      return [e].concat(n.result(e, "_getNestedViews") || [])
    }, getViewComparator: function () {
      return this.getOption("viewComparator")
    }
  }), s.CompositeView = s.CollectionView.extend({
    constructor: function () {
      s.CollectionView.apply(this, arguments)
    }, _initialEvents: function () {
      this.collection && (this.listenTo(this.collection, "add", this._onCollectionAdd), this.listenTo(this.collection, "remove", this._onCollectionRemove), this.listenTo(this.collection, "reset", this._renderChildren), this.getOption("sort") && this.listenTo(this.collection, "sort", this._sortViews))
    }, getChildView: function (e) {
      var t = this.getOption("childView") || this.constructor;
      return t
    }, serializeData: function () {
      var e = {};
      return this.model && (e = n.partial(this.serializeModel, this.model).apply(this, arguments)), e
    }, render: function () {
      return this._ensureViewIsIntact(), this._isRendering = !0, this.resetChildViewContainer(), this.triggerMethod("before:render", this), this._renderTemplate(), this._renderChildren(), this._isRendering = !1, this.isRendered = !0, this.triggerMethod("render", this), this
    }, _renderChildren: function () {
      (this.isRendered || this._isRendering) && s.CollectionView.prototype._renderChildren.call(this)
    }, _renderTemplate: function () {
      var e = {};
      e = this.serializeData(), e = this.mixinTemplateHelpers(e), this.triggerMethod("before:render:template");
      var t = this.getTemplate(), n = s.Renderer.render(t, e, this);
      this.attachElContent(n), this.bindUIElements(), this.triggerMethod("render:template")
    }, attachElContent: function (e) {
      return this.$el.html(e), this
    }, attachBuffer: function (e, t) {
      var n = this.getChildViewContainer(e);
      n.append(t)
    }, _insertAfter: function (e) {
      var t = this.getChildViewContainer(this, e);
      t.append(e.el)
    }, _appendReorderedChildren: function (e) {
      var t = this.getChildViewContainer(this);
      t.append(e)
    }, getChildViewContainer: function (e, t) {
      if (!e.$childViewContainer) {
        var n, r = s.getOption(e, "childViewContainer");
        if (r) {
          var i = s._getValue(r, e);
          i.charAt(0) === "@" && e.ui ? n = e.ui[i.substr(4)] : n = e.$(i);
          if (n.length <= 0) throw new s.Error({
            name: "ChildViewContainerMissingError",
            message: 'The specified "childViewContainer" was not found: ' + e.childViewContainer
          })
        } else n = e.$el;
        return e.$childViewContainer = n, n
      }
      return e.$childViewContainer
    }, resetChildViewContainer: function () {
      this.$childViewContainer && (this.$childViewContainer = undefined)
    }
  }), s.LayoutView = s.ItemView.extend({
    regionClass: s.Region,
    options: {destroyImmediate: !1},
    childViewEventPrefix: "childview",
    constructor: function (e) {
      e = e || {}, this._firstRender = !0, this._initializeRegions(e), s.ItemView.call(this, e)
    },
    render: function () {
      return this._ensureViewIsIntact(), this._firstRender ? this._firstRender = !1 : this._reInitializeRegions(), s.ItemView.prototype.render.apply(this, arguments)
    },
    destroy: function () {
      return this.isDestroyed ? this : (this.getOption("destroyImmediate") === !0 && this.$el.remove(), this.regionManager.destroy(), s.ItemView.prototype.destroy.apply(this, arguments))
    },
    showChildView: function (e, t, r) {
      var i = this.getRegion(e);
      return i.show.apply(i, n.rest(arguments))
    },
    getChildView: function (e) {
      return this.getRegion(e).currentView
    },
    addRegion: function (e, t) {
      var n = {};
      return n[e] = t, this._buildRegions(n)[e]
    },
    addRegions: function (e) {
      return this.regions = n.extend({}, this.regions, e), this._buildRegions(e)
    },
    removeRegion: function (e) {
      return delete this.regions[e], this.regionManager.removeRegion(e)
    },
    getRegion: function (e) {
      return this.regionManager.get(e)
    },
    getRegions: function () {
      return this.regionManager.getRegions()
    },
    _buildRegions: function (e) {
      var t = {regionClass: this.getOption("regionClass"), parentEl: n.partial(n.result, this, "el")};
      return this.regionManager.addRegions(e, t)
    },
    _initializeRegions: function (e) {
      var t;
      this._initRegionManager(), t = s._getValue(this.regions, this, [e]) || {};
      var r = this.getOption.call(e, "regions");
      r = s._getValue(r, this, [e]), n.extend(t, r), t = this.normalizeUIValues(t, ["selector", "el"]), this.addRegions(t)
    },
    _reInitializeRegions: function () {
      this.regionManager.invoke("reset")
    },
    getRegionManager: function () {
      return new s.RegionManager
    },
    _initRegionManager: function () {
      this.regionManager = this.getRegionManager(), this.regionManager._parent = this, this.listenTo(this.regionManager, "before:add:region", function (e) {
        this.triggerMethod("before:add:region", e)
      }), this.listenTo(this.regionManager, "add:region", function (e, t) {
        this[e] = t, this.triggerMethod("add:region", e, t)
      }), this.listenTo(this.regionManager, "before:remove:region", function (e) {
        this.triggerMethod("before:remove:region", e)
      }), this.listenTo(this.regionManager, "remove:region", function (e, t) {
        delete this[e], this.triggerMethod("remove:region", e, t)
      })
    },
    _getImmediateChildren: function () {
      return n.chain(this.regionManager.getRegions()).pluck("currentView").compact().value()
    }
  }), s.Behavior = s.Object.extend({
    constructor: function (e, t) {
      this.view = t, this.defaults = n.result(this, "defaults") || {}, this.options = n.extend({}, this.defaults, e), this.ui = n.extend({}, n.result(t, "ui"), n.result(this, "ui")), s.Object.apply(this, arguments)
    }, $: function () {
      return this.view.$.apply(this.view, arguments)
    }, destroy: function () {
      return this.stopListening(), this
    }, proxyViewProperties: function (e) {
      this.$el = e.$el, this.el = e.el
    }
  }), s.Behaviors = function (e, t) {
    function r(e, n) {
      return t.isObject(e.behaviors) ? (n = r.parseBehaviors(e, n || t.result(e, "behaviors")), r.wrap(e, n, t.keys(i)), n) : {}
    }

    function s(e, t) {
      this._view = e, this._behaviors = t, this._triggers = {}
    }

    function o(e) {
      return e._uiBindings || e.ui
    }

    var n = /^(\S+)\s*(.*)$/, i = {
      behaviorTriggers: function (e, t) {
        var n = new s(this, t);
        return n.buildBehaviorTriggers()
      }, behaviorEvents: function (r, i) {
        var s = {};
        return t.each(i, function (r, i) {
          var u = {}, a = t.clone(t.result(r, "events")) || {};
          a = e.normalizeUIKeys(a, o(r));
          var f = 0;
          t.each(a, function (e, s) {
            var o = s.match(n), a = o[1] + "." + [this.cid, i, f++, " "].join(""), l = o[2], c = a + l,
              h = t.isFunction(e) ? e : r[e];
            u[c] = t.bind(h, r)
          }, this), s = t.extend(s, u)
        }, this), s
      }
    };
    return t.extend(r, {
      behaviorsLookup: function () {
        throw new e.Error({
          message: "You must define where your behaviors are stored.",
          url: "marionette.behaviors.html#behaviorslookup"
        })
      }, getBehaviorClass: function (t, n) {
        return t.behaviorClass ? t.behaviorClass : e._getValue(r.behaviorsLookup, this, [t, n])[n]
      }, parseBehaviors: function (e, n) {
        return t.chain(n).map(function (n, i) {
          var s = r.getBehaviorClass(n, i), o = new s(n, e), u = r.parseBehaviors(e, t.result(o, "behaviors"));
          return [o].concat(u)
        }).flatten().value()
      }, wrap: function (e, n, r) {
        t.each(r, function (r) {
          e[r] = t.partial(i[r], e[r], n)
        })
      }
    }), t.extend(s.prototype, {
      buildBehaviorTriggers: function () {
        return t.each(this._behaviors, this._buildTriggerHandlersForBehavior, this), this._triggers
      }, _buildTriggerHandlersForBehavior: function (n, r) {
        var i = t.clone(t.result(n, "triggers")) || {};
        i = e.normalizeUIKeys(i, o(n)), t.each(i, t.bind(this._setHandlerForBehavior, this, n, r))
      }, _setHandlerForBehavior: function (e, t, n, r) {
        var i = r.replace(/^\S+/, function (e) {
          return e + "." + "behaviortriggers" + t
        });
        this._triggers[i] = this._view._buildViewTrigger(n)
      }
    }), r
  }(s, n), s.AppRouter = t.Router.extend({
    constructor: function (e) {
      this.options = e || {}, t.Router.apply(this, arguments);
      var n = this.getOption("appRoutes"), r = this._getController();
      this.processAppRoutes(r, n), this.on("route", this._processOnRoute, this)
    },
    appRoute: function (e, t) {
      var n = this._getController();
      this._addAppRoute(n, e, t)
    },
    _processOnRoute: function (e, t) {
      if (n.isFunction(this.onRoute)) {
        var r = n.invert(this.getOption("appRoutes"))[e];
        this.onRoute(e, r, t)
      }
    },
    processAppRoutes: function (e, t) {
      if (!t) return;
      var r = n.keys(t).reverse();
      n.each(r, function (n) {
        this._addAppRoute(e, n, t[n])
      }, this)
    },
    _getController: function () {
      return this.getOption("controller")
    },
    _addAppRoute: function (e, t, r) {
      var i = e[r];
      if (!i) throw new s.Error('Method "' + r + '" was not found on the controller');
      this.route(t, r, n.bind(i, e))
    },
    mergeOptions: s.mergeOptions,
    getOption: s.proxyGetOption,
    triggerMethod: s.triggerMethod,
    bindEntityEvents: s.proxyBindEntityEvents,
    unbindEntityEvents: s.proxyUnbindEntityEvents
  }), s.Application = s.Object.extend({
    constructor: function (e) {
      this._initializeRegions(e), this._initCallbacks = new s.Callbacks, this.submodules = {}, n.extend(this, e), this._initChannel(), s.Object.apply(this, arguments)
    }, execute: function () {
      this.commands.execute.apply(this.commands, arguments)
    }, request: function () {
      return this.reqres.request.apply(this.reqres, arguments)
    }, addInitializer: function (e) {
      this._initCallbacks.add(e)
    }, start: function (e) {
      this.triggerMethod("before:start", e), this._initCallbacks.run(e, this), this.triggerMethod("start", e)
    }, addRegions: function (e) {
      return this._regionManager.addRegions(e)
    }, emptyRegions: function () {
      return this._regionManager.emptyRegions()
    }, removeRegion: function (e) {
      return this._regionManager.removeRegion(e)
    }, getRegion: function (e) {
      return this._regionManager.get(e)
    }, getRegions: function () {
      return this._regionManager.getRegions()
    }, module: function (e, t) {
      var r = s.Module.getClass(t), i = n.toArray(arguments);
      return i.unshift(this), r.create.apply(r, i)
    }, getRegionManager: function () {
      return new s.RegionManager
    }, _initializeRegions: function (e) {
      var t = n.isFunction(this.regions) ? this.regions(e) : this.regions || {};
      this._initRegionManager();
      var r = s.getOption(e, "regions");
      return n.isFunction(r) && (r = r.call(this, e)), n.extend(t, r), this.addRegions(t), this
    }, _initRegionManager: function () {
      this._regionManager = this.getRegionManager(), this._regionManager._parent = this, this.listenTo(this._regionManager, "before:add:region", function () {
        s._triggerMethod(this, "before:add:region", arguments)
      }), this.listenTo(this._regionManager, "add:region", function (e, t) {
        this[e] = t, s._triggerMethod(this, "add:region", arguments)
      }), this.listenTo(this._regionManager, "before:remove:region", function () {
        s._triggerMethod(this, "before:remove:region", arguments)
      }), this.listenTo(this._regionManager, "remove:region", function (e) {
        delete this[e], s._triggerMethod(this, "remove:region", arguments)
      })
    }, _initChannel: function () {
      this.channelName = n.result(this, "channelName") || "global", this.channel = n.result(this, "channel") || t.Wreqr.radio.channel(this.channelName), this.vent = n.result(this, "vent") || this.channel.vent, this.commands = n.result(this, "commands") || this.channel.commands, this.reqres = n.result(this, "reqres") || this.channel.reqres
    }
  }), s.Module = function (e, t, r) {
    this.moduleName = e, this.options = n.extend({}, this.options, r), this.initialize = r.initialize || this.initialize, this.submodules = {}, this._setupInitializersAndFinalizers(), this.app = t, n.isFunction(this.initialize) && this.initialize(e, t, this.options)
  }, s.Module.extend = s.extend, n.extend(s.Module.prototype, t.Events, {
    startWithParent: !0, initialize: function () {
    }, addInitializer: function (e) {
      this._initializerCallbacks.add(e)
    }, addFinalizer: function (e) {
      this._finalizerCallbacks.add(e)
    }, start: function (e) {
      if (this._isInitialized) return;
      n.each(this.submodules, function (t) {
        t.startWithParent && t.start(e)
      }), this.triggerMethod("before:start", e), this._initializerCallbacks.run(e, this), this._isInitialized = !0, this.triggerMethod("start", e)
    }, stop: function () {
      if (!this._isInitialized) return;
      this._isInitialized = !1, this.triggerMethod("before:stop"), n.invoke(this.submodules, "stop"), this._finalizerCallbacks.run(undefined, this), this._initializerCallbacks.reset(), this._finalizerCallbacks.reset(), this.triggerMethod("stop")
    }, addDefinition: function (e, t) {
      this._runModuleDefinition(e, t)
    }, _runModuleDefinition: function (e, r) {
      if (!e) return;
      var i = n.flatten([this, this.app, t, s, t.$, n, r]);
      e.apply(this, i)
    }, _setupInitializersAndFinalizers: function () {
      this._initializerCallbacks = new s.Callbacks, this._finalizerCallbacks = new s.Callbacks
    }, triggerMethod: s.triggerMethod
  }), n.extend(s.Module, {
    create: function (e, t, r) {
      var i = e, s = n.drop(arguments, 3);
      t = t.split(".");
      var o = t.length, u = [];
      return u[o - 1] = r, n.each(t, function (t, n) {
        var o = i;
        i = this._getModule(o, t, e, r), this._addModuleDefinition(o, i, u[n], s)
      }, this), i
    }, _getModule: function (e, t, r, i, s) {
      var o = n.extend({}, i), u = this.getClass(i), a = e[t];
      return a || (a = new u(t, r, o), e[t] = a, e.submodules[t] = a), a
    }, getClass: function (e) {
      var t = s.Module;
      return e ? e.prototype instanceof t ? e : e.moduleClass || t : t
    }, _addModuleDefinition: function (e, t, n, r) {
      var i = this._getDefine(n), s = this._getStartWithParent(n, t);
      i && t.addDefinition(i, r), this._addStartWithParent(e, t, s)
    }, _getStartWithParent: function (e, t) {
      var r;
      return n.isFunction(e) && e.prototype instanceof s.Module ? (r = t.constructor.prototype.startWithParent, n.isUndefined(r) ? !0 : r) : n.isObject(e) ? (r = e.startWithParent, n.isUndefined(r) ? !0 : r) : !0
    }, _getDefine: function (e) {
      return !n.isFunction(e) || e.prototype instanceof s.Module ? n.isObject(e) ? e.define : null : e
    }, _addStartWithParent: function (e, t, n) {
      t.startWithParent = t.startWithParent && n;
      if (!t.startWithParent || !!t.startWithParentIsConfigured) return;
      t.startWithParentIsConfigured = !0, e.addInitializer(function (e) {
        t.startWithParent && t.start(e)
      })
    }
  }), s
}), !function (e) {
  function r() {
    var r = this;
    r.reads = [], r.writes = [], r.raf = n.bind(e), t("initialized", r)
  }

  function i(e) {
    e.scheduled || (e.scheduled = !0, e.raf(s.bind(null, e)), t("flush scheduled"))
  }

  function s(e) {
    t("flush");
    var n = e.writes, r = e.reads, s;
    try {
      t("flushing reads", r.length), o(r), t("flushing writes", n.length), o(n)
    } catch (u) {
      s = u
    }
    e.scheduled = !1, (r.length || n.length) && i(e);
    if (s) {
      t("task errored", s.message);
      if (!e.catch) throw s;
      e.catch(s)
    }
  }

  function o(e) {
    t("run tasks");
    var n;
    while (n = e.shift()) n()
  }

  function u(e, t) {
    var n = e.indexOf(t);
    return !!~n && !!e.splice(n, 1)
  }

  function a(e, t) {
    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
  }

  var t = function () {
    },
    n = e.requestAnimationFrame || e.webkitRequestAnimationFrame || e.mozRequestAnimationFrame || e.msRequestAnimationFrame || function (e) {
      return setTimeout(e, 16)
    };
  r.prototype = {
    constructor: r, measure: function (e, n) {
      t("measure");
      var r = n ? e.bind(n) : e;
      return this.reads.push(r), i(this), r
    }, mutate: function (e, n) {
      t("mutate");
      var r = n ? e.bind(n) : e;
      return this.writes.push(r), i(this), r
    }, clear: function (e) {
      return t("clear", e), u(this.reads, e) || u(this.writes, e)
    }, extend: function (e) {
      t("extend", e);
      if (typeof e != "object") throw new Error("expected object");
      var n = Object.create(this);
      return a(n, e), n.fastdom = this, n.initialize && n.initialize(), n
    }, "catch": null
  };
  var f = e.fastdom = e.fastdom || new r;
  typeof define == "function" ? define("fastdom", [], function () {
    return f
  }) : typeof module == "object" && (module.exports = f)
}(typeof window != "undefined" ? window : this), define("lp_timeline/views/LPTimelineAbstractLayoutView", ["underscore", "backbone", "marionette", "jquery"], function (e, t, n, r) {
  var i;
  return i = n.LayoutView.extend({
    pagination: function () {
      return console.log("override")
    }
  })
}), function (e, t, n, r) {
  function o(t, n) {
    this.element = t, this.options = e.extend({}, s, n), this._defaults = s, this._name = i, this.init()
  }

  var i = "accordion", s = {
    transitionSpeed: 300,
    transitionEasing: "ease",
    controlElement: "[data-control]",
    contentElement: "[data-content]",
    groupElement: "[data-accordion-group]",
    singleOpen: !0
  };
  o.prototype.init = function () {
    function h(e, t, n) {
      var r;
      return function () {
        function u() {
          n || e.apply(s, o), r = null
        }

        var s = this, o = arguments;
        r ? clearTimeout(r) : n && e.apply(s, o), r = setTimeout(u, t || 100)
      }
    }

    function p() {
      var e = n.body || n.documentElement, t = e.style, r = "transition";
      if (typeof t[r] == "string") return !0;
      var i = ["Moz", "webkit", "Webkit", "Khtml", "O", "ms"];
      r = "Transition";
      for (var s = 0; s < i.length; s++) if (typeof t[i[s] + r] == "string") return !0;
      return !1
    }

    function d(e) {
      return t.requestAnimationFrame || t.webkitRequestAnimationFrame || t.mozRequestAnimationFrame ? requestAnimationFrame(e) || webkitRequestAnimationFrame(e) || mozRequestAnimationFrame(e) : setTimeout(e, 1e3 / 60)
    }

    function v(e, t) {
      t ? u.css({
        "-webkit-transition": "",
        transition: ""
      }) : u.css({
        "-webkit-transition": "max-height " + i.transitionSpeed + "ms " + i.transitionEasing,
        transition: "max-height " + i.transitionSpeed + "ms " + i.transitionEasing
      })
    }

    function m(t) {
      var n = 0;
      t.children().each(function () {
        n += e(this).outerHeight(!0)
      }), t.data("oHeight", n)
    }

    function g(t, n, r, s) {
      var o = t.filter(".open").find("> [data-content]"), u = o.find("[data-accordion].open > [data-content]"), a;
      i.singleOpen || (u = u.not(n.siblings("[data-accordion].open").find("> [data-content]"))), a = o.add(u), t.hasClass("open") && a.each(function () {
        var t = e(this).data("oHeight");
        switch (s) {
          case"+":
            e(this).data("oHeight", t + r);
            break;
          case"-":
            e(this).data("oHeight", t - r);
            break;
          default:
            throw"updateParentHeight method needs an operation"
        }
        e(this).css("max-height", e(this).data("oHeight"))
      })
    }

    function y(e) {
      if (e.hasClass("open")) {
        var t = e.find("> [data-content]"), n = t.find("[data-accordion].open > [data-content]"), r = t.add(n);
        m(r), r.css("max-height", r.data("oHeight"))
      }
    }

    function b(e, t) {
      e.trigger("accordion.close");
      if (c) {
        if (f) {
          var n = e.parents("[data-accordion]");
          g(n, e, t.data("oHeight"), "-")
        }
        t.css(l), e.removeClass("open")
      } else t.css("max-height", t.data("oHeight")), t.animate(l, i.transitionSpeed), e.removeClass("open")
    }

    function w(e, t) {
      e.trigger("accordion.open");
      if (c) {
        v(t);
        if (f) {
          var n = e.parents("[data-accordion]");
          g(n, e, t.data("oHeight"), "+")
        }
        d(function () {
          t.css("max-height", t.data("oHeight"))
        }), e.addClass("open")
      } else t.animate({"max-height": t.data("oHeight")}, i.transitionSpeed, function () {
        t.css({"max-height": "none"})
      }), e.addClass("open")
    }

    function E(t) {
      var n = t.closest(i.groupElement), r = t.siblings("[data-accordion]").filter(".open"),
        s = r.find("[data-accordion]").filter(".open"), o = r.add(s);
      o.each(function () {
        var t = e(this), n = t.find(i.contentElement);
        b(t, n)
      }), o.removeClass("open")
    }

    function S() {
      var e = i.singleOpen ? s.parents(i.groupElement).length > 0 : !1;
      m(u), e && E(s), s.hasClass("open") ? b(s, u) : w(s, u)
    }

    function x(e) {
      var t = i.singleOpen ? s.parents(i.groupElement).length > 0 : !1;
      m(u), t && E(s), w(s, u)
    }

    function T() {
      o.on("accordian.forceOpen", x), o.on("accordion.toggle", function () {
        if (i.singleOpen && o.length > 1) return !1;
        S()
      }), e(t).on("resize", h(function () {
        y(s)
      }))
    }

    function N() {
      u.each(function () {
        var t = e(this);
        t.css("max-height") != 0 && (t.closest("[data-accordion]").hasClass("open") ? (v(t), m(t), t.css("max-height", t.data("oHeight"))) : t.css({
          "max-height": 0,
          overflow: "hidden"
        }))
      }), s.attr("data-accordion") || (s.attr("data-accordion", ""), s.find(i.controlElement).attr("data-control", ""), s.find(i.contentElement).attr("data-content", ""))
    }

    var r = this, i = r.options, s = e(r.element), o = s.find("> " + i.controlElement),
      u = s.find("> " + i.contentElement), a = s.parents("[data-accordion]").length, f = a > 0,
      l = {"max-height": 0, overflow: "hidden"}, c = p();
    N(), T()
  }, e.fn[i] = function (t) {
    return this.each(function () {
      e.data(this, "plugin_" + i) || e.data(this, "plugin_" + i, new o(this, t))
    })
  }
}(jQuery, window, document), define("accordion", ["jquery"], function () {
}), define("lp_timeline/views/LPTimelineAbstractItemView", ["underscore", "backbone", "marionette", "fastdom", "jquery"], function (e, t, n, r, i) {
  var s;
  return s = n.ItemView.extend({
    parent: "body",
    templateDir: "/legacy/static/templates/",
    template: !1,
    viewData: {},
    results: [],
    items: [],
    templateLoaded: !1,
    delayedCollectionLoad: !1,
    height: 0,
    width: 0,
    initialize: function (e) {
      var t;
      return t = e || {}, this.id = t.id || this.id, this.templateDir = t.templateDir || this.templateDir, this.parent = t.parent || this.parent, this.viewData = t.viewData || this.viewData, this.$el || (this.$el = i(this.get("el"))), n.ItemView.prototype.initialize.call(this)
    },
    onResize: function (e, t) {
      var n = this;
      return this.height = e, this.width = t, r.measure(function () {
        var e, t, r, i, s;
        n.isMobile = Modernizr.mq("(max-width: " + app.appConfig.sizing.mobile + "px)"), n.isPhone = Modernizr.mq("(max-width: " + app.appConfig.sizing.phone + "px)"), n.isBelowTablet = Modernizr.mq("(max-width: " + (app.appConfig.sizing.below_tablet - 1) + "px)"), i = n.items, s = [];
        for (t = 0, r = i.length; t < r; t++) e = i[t], s.push(e.onResize(n.height, n.width));
        return s
      })
    },
    onScroll: function (e) {
      var t, n, r, i, s;
      i = this.items, s = [];
      for (n = 0, r = i.length; n < r; n++) t = i[n], s.push(t.onScroll(e));
      return s
    },
    show: function () {
      return n.ItemView.prototype.show.call(this), app.utils.deHash()
    },
    fetch: function () {
      var e = this;
      return this.model.fetch({
        success: function (t) {
          return e.onFetch(t)
        }
      })
    },
    onFetch: function (e) {
    },
    destroy: function () {
      return n.ItemView.prototype.destroy.call(this)
    }
  })
}), define("lp_timeline/views/modules/LPTimelineSocialIconView", ["jquery", "underscore", "backbone", "lp_timeline/views/LPTimelineAbstractItemView"], function (e, t, n, r) {
  var i;
  return i = r.extend({
    FACEBOOK_URL: "https://www.facebook.com/",
    FOURSQUARE_URL: "https://foursquare.com/",
    TWITTER_URL: "https://twitter.com/",
    TUMBLR_URL: "https://www.tumblr.com/tagged/",
    INSTAGRAM_URL: "http://instagram.com/",
    PINTEREST_URL: "https://www.pinterest.com/",
    VIMEO_URL: "https://vimeo.com/",
    events: {
      "click .fb-icon": "onFacebookClick",
      "click .fb-icon-ftr": "onFacebookClick",
      "click .fb-icon-hdr": "onFacebookClick",
      "click .foursq-icon": "onFoursquareClick",
      "click .foursq-icon-ftr": "onFoursquareClick",
      "click .foursq-icon-hdr": "onFoursquareClick",
      "click .twitter-icon": "onTwitterClick",
      "click .twitter-icon-ftr": "onTwitterClick",
      "click .twitter-icon-hdr": "onTwitterClick",
      "click .tumblr-icon": "onTumblrClick",
      "click .tumblr-icon-ftr": "onTumblrClick",
      "click .tumblr-icon-hdr": "onTumblrClick",
      "click .instagram-icon": "onInstagramClick",
      "click .instagram-icon-ftr": "onInstagramClick",
      "click .instagram-icon-hdr": "onInstagramClick",
      "click .pinterest-icon": "onPinterestClick",
      "click .pinterest-icon-ftr": "onPinterestClick",
      "click .pinterest-icon-hdr": "onPinterestClick",
      "click .vimeo-icon": "onVimeoClick",
      "click .vimeo-icon-ftr": "onVimeoClick",
      "click .vimeo-icon-hdr": "onVimeoClick"
    },
    initialize: function (e) {
    },
    onFacebookClick: function () {
      return window.open(this.FACEBOOK_URL, "_blank")
    },
    onFoursquareClick: function () {
      return window.open(this.FOURSQUARE_URL, "_blank")
    },
    onTwitterClick: function () {
      return window.open(this.TWITTER_URL, "_blank")
    },
    onTumblrClick: function () {
      return window.open(this.TUMBLR_URL, "_blank")
    },
    onInstagramClick: function () {
      return window.open(this.INSTAGRAM_URL, "_blank")
    },
    onPinterestClick: function () {
      return window.open(this.PINTEREST_URL, "_blank")
    },
    onVimeoClick: function () {
      return window.open(this.VIMEO_URL, "_blank")
    }
  })
}), define("lp_timeline/views/navigation/LPTimelineOverlayNavView", ["underscore", "backbone", "jquery", "accordion", "fastdom", "lp_timeline/views/modules/LPTimelineSocialIconView", "lp_timeline/views/LPTimelineAbstractItemView"], function (e, t, n, r, i, s, o) {
  var u;
  return u = o.extend({
    events: {
      "click .bookend-dot": "navigateTo",
      "click .lorg-title": "navigateTo",
      "click .chapter-title": "navigateTo",
      "click .subchapter-title": "navigateTo",
      "click .close-icon": "onCloseClick"
    }, initialize: function (e) {
      var t = this;
      return o.prototype.initialize.call(this), this.$body = n("body"), this.$verticalBreadcrumb = this.$el.find(".vertical-breadcrumb"), this.$overlayBkg = this.$el.find(".overlay-bkg"), this.$lorgChapters = this.$el.find(".lorg-chapters"), this.$subchapters = this.$el.find(".subchapters"), this.$lorgItems = this.$el.find(".bookend-dot, .lorg, .chapter"), this.$menuItems = this.$el.find(".bookend-dot, .lorg-title, .chapter-title, .subchapter-title"), this.$chaptersCell = n(".lorgs.display-cell"), this.$el.mouseover(function () {
        if (!t.isMobile) return t.$el.width(t.$el.data("width"))
      }), this.$el.mouseout(function () {
        if (!t.isMobile) return t.$el.attr("style", "")
      }), app.eventBus.on("CHAPTER_NEXT", function (e) {
        return t.updateMenu(e)
      }), i.measure(function () {
        var e, r, s;
        return r = t.$chaptersCell.width() + 80, e = t.$body.width() * .1816578, s = Math.max(e, r), n("[data-accordion]").accordion({
          transitionSpeed: 400,
          singleOpen: !0
        }), i.mutate(function () {
          return t.$el.data("width", s).removeClass("is-invisible"), t.$overlayBkg.width(s)
        })
      })
    }, navigateTo: function (e) {
      var t, r;
      return t = n(e.currentTarget), r = t.data().id, app.eventBus.trigger("CHAPTER_CLICK", r)
    }, toggleActive: function () {
      var e, t, n = this;
      return this.$el.toggleClass("active"), this.isPhone ? (e = this.$el.hasClass("active") ? "hidden" : "auto", this.$body.css("overflow-y", e)) : (t = this.$el.data("width"), i.mutate(function () {
        return n.$el.width(t), n.$overlayBkg.width(t)
      }))
    }, updateMenu: function (e) {
      var t, r = this;
      return t = !1, i.mutate(function () {
        var i, s, o, u, a;
        if (r.isPhone) return r.$el.removeClass("active");
        r.$lorgItems.removeClass("active"), r.$menuItems.removeClass("active"), r.$current && r.$current.hasClass("lorg-title") && (t = !0), r.$current = n(r.$menuItems[e]), r.$current.addClass("active"), r.$current.trigger("accordian.forceOpen"), i = r.$current.parents("[data-accordion]");
        if (t) {
          s = i.length, u = [];
          while (s) o = i[s - 1], n(o).children().first().trigger("accordian.forceOpen"), u.push(s--);
          return u
        }
        s = 0, a = [];
        while (s < i.length) o = i[s], n(o).children().first().trigger("accordian.forceOpen"), a.push(s++);
        return a
      })
    }, onResize: function (e, t) {
      var n = this;
      return o.prototype.onResize(e, t), i.mutate(function () {
        n.isPhone ? (n.$el.attr("style", ""), n.$lorgChapters.hide(), n.$verticalBreadcrumb.height("")) : n.$verticalBreadcrumb.height(e);
        if (n.isMobile) return n.$el.removeClass("active")
      })
    }, onCloseClick: function () {
      return this.toggleActive()
    }
  })
}), define("lp_timeline/views/navigation/LPTimelineMobileNavView", ["underscore", "backbone", "jquery", "lp_timeline/views/LPTimelineAbstractItemView", "lp_timeline/views/modules/LPTimelineSocialIconView"], function (e, t, n, r, i) {
  var s;
  return s = r.extend({
    HAMBURGER_CLICK: "LPTimelineMobileNavView.HAMBURGER_CLICK",
    events: {"click .hamburger": "onHamburgerClick"},
    onHamburgerClick: function () {
      return this.trigger(this.HAMBURGER_CLICK)
    }
  })
}), define("lp_timeline/views/navigation/LPTimelineFooterView", ["underscore", "backbone", "jquery", "lp_timeline/views/modules/LPTimelineSocialIconView", "lp_timeline/views/LPTimelineAbstractItemView"], function (e, t, n, r, i) {
  var s;
  return s = i.extend()
}), function (e, t) {
  "use strict";
  typeof define == "function" && define.amd ? define("fullpage", ["jquery"], function (n) {
    return t(n, e, e.document, e.Math)
  }) : typeof exports != "undefined" ? module.exports = t(require("jquery"), e, e.document, e.Math) : t(jQuery, e, e.document, e.Math)
}(typeof window != "undefined" ? window : this, function (e, t, n, r, i) {
  "use strict";
  var s = "fullpage-wrapper", o = "." + s, u = "fp-scrollable", a = "." + u, f = ".slimScrollBar",
    l = ".slimScrollRail", c = "fp-responsive", h = "fp-notransition", p = "fp-destroyed", d = "fp-enabled",
    v = "fp-viewing", m = "active", g = "." + m, y = ".section", b = "fp-section", w = "." + b, E = w + g,
    S = w + ":first", x = w + ":last", T = "fp-tableCell", N = "." + T, C = "fp-auto-height", k = ".fp-auto-height",
    L = "fp-normal-scroll", A = ".fp-normal-scroll", O = "fp-nav", M = "#" + O, _ = "fp-tooltip", D = "." + _,
    P = "fp-show-active", H = ".slide", B = "fp-slide", j = "." + B, F = j + g, I = "fp-slides", q = "." + I,
    R = "fp-slidesContainer", U = "." + R, z = "fp-table", W = "fp-slidesNav", X = "." + W, V = X + " a",
    $ = "fp-controlArrow", J = "." + $, K = "fp-prev", Q = "." + K, G = $ + " " + K, Y = J + Q, Z = "fp-next",
    et = "." + Z, tt = $ + " " + Z, nt = J + et, rt = e(t), it = e(n), st, ot = !1;
  e.fn.fullpage = function (u) {
    function St() {
      u.css3 && (u.css3 = Gn()), u.scrollBar = u.scrollBar || u.hybrid, Tt(), Nt(), l.setAllowScrolling(!0), Z = rt.height(), l.setAutoScrolling(u.autoScrolling, "internal");
      var t = e(E).find(F);
      t.length && (e(E).index(w) !== 0 || e(E).index(w) === 0 && t.index() !== 0) && ir(t), An(), Qn(), rt.on("load", function () {
        hn()
      })
    }

    function xt() {
      rt.on("scroll", Bt).on("hashchange", pn).blur(wn).resize(Ln), Q.mousedown(gn).mouseup(yn), it.keydown(dn).keyup(mn).on("click touchstart", M + " a", En).on("click touchstart", V, Sn).on("click", D, vn), e(w).on("click touchstart", J, bn), u.normalScrollElements && (it.on("mouseenter", u.normalScrollElements, function () {
        l.setMouseWheelScrolling(!1)
      }), it.on("mouseleave", u.normalScrollElements, function () {
        l.setMouseWheelScrolling(!0)
      }))
    }

    function Tt() {
      u.anchors.length || (u.anchors = e(u.sectionSelector + "[data-anchor]").map(function () {
        return e(this).data("anchor").toString()
      }).get()), u.navigationTooltips.length || (u.navigationTooltips = e(u.sectionSelector + "[data-tooltip]").map(function () {
        return e(this).data("tooltip").toString()
      }).get())
    }

    function Nt() {
      Q.css({
        height: "100%",
        position: "relative"
      }), Q.addClass(s), e("html").addClass(d), Q.removeClass(p), At(), e(w).each(function (t) {
        var n = e(this), r = n.find(j), i = r.length;
        kt(n, t), Lt(n, t), i > 0 ? Ct(n, r, i) : u.verticalCentered && In(n)
      }), u.fixedElements && u.css3 && e(u.fixedElements).appendTo(f), u.navigation && Mt(), u.scrollOverflow ? (n.readyState === "complete" && _t(), rt.on("load", _t)) : Dt()
    }

    function Ct(t, n, r) {
      var i = r * 100, s = 100 / r;
      n.wrapAll('<div class="' + R + '" />'), n.parent().wrap('<div class="' + I + '" />'), t.find(U).css("width", i + "%"), r > 1 && (u.controlArrows && Ot(t), u.slidesNavigation && Vn(t, r)), n.each(function (t) {
        e(this).css("width", s + "%"), u.verticalCentered && In(e(this))
      });
      var o = t.find(F);
      o.length && (e(E).index(w) !== 0 || e(E).index(w) === 0 && o.index() !== 0) ? ir(o) : n.eq(0).addClass(m)
    }

    function kt(t, n) {
      !n && e(E).length === 0 && t.addClass(m), t.css("height", Z + "px"), u.paddingTop && t.css("padding-top", u.paddingTop), u.paddingBottom && t.css("padding-bottom", u.paddingBottom), typeof u.sectionsColor[n] != "undefined" && t.css("background-color", u.sectionsColor[n]), typeof u.anchors[n] != "undefined" && t.attr("data-anchor", u.anchors[n])
    }

    function Lt(t, n) {
      typeof u.anchors[n] != "undefined" && t.hasClass(m) && Hn(u.anchors[n], n), u.menu && u.css3 && e(u.menu).closest(o).length && e(u.menu).appendTo(f)
    }

    function At() {
      e(u.sectionSelector).each(function () {
        e(this).addClass(b)
      }), e(u.slideSelector).each(function () {
        e(this).addClass(B)
      })
    }

    function Ot(e) {
      e.find(q).after('<div class="' + G + '"></div><div class="' + tt + '"></div>'), u.controlArrowColor != "#fff" && (e.find(nt).css("border-color", "transparent transparent transparent " + u.controlArrowColor), e.find(Y).css("border-color", "transparent " + u.controlArrowColor + " transparent transparent")), u.loopHorizontal || e.find(Y).hide()
    }

    function Mt() {
      f.append('<div id="' + O + '"><ul></ul></div>');
      var t = e(M);
      t.addClass(function () {
        return u.showActiveTooltip ? P + " " + u.navigationPosition : u.navigationPosition
      });
      for (var n = 0; n < e(w).length; n++) {
        var r = "";
        u.anchors.length && (r = u.anchors[n]);
        var i = '<li><a href="#' + r + '"><span></span></a>', s = u.navigationTooltips[n];
        typeof s != "undefined" && s !== "" && (i += '<div class="' + _ + " " + u.navigationPosition + '">' + s + "</div>"), i += "</li>", t.find("ul").append(i)
      }
      e(M).css("margin-top", "-" + e(M).height() / 2 + "px"), e(M).find("li").eq(e(E).index(w)).find("a").addClass(m)
    }

    function _t() {
      e(w).each(function () {
        var t = e(this).find(j);
        t.length ? t.each(function () {
          Fn(e(this))
        }) : Fn(e(this))
      }), Dt()
    }

    function Dt() {
      var t = e(E);
      t.addClass("completely"), u.scrollOverflowHandler.afterRender && u.scrollOverflowHandler.afterRender(t), an(t), fn(t), e.isFunction(u.afterLoad) && u.afterLoad.call(t, t.data("anchor"), t.index(w) + 1), e.isFunction(u.afterRender) && u.afterRender.call(Q)
    }

    function Bt() {
      var t;
      if (!u.autoScrolling || u.scrollBar) {
        var r = rt.scrollTop(), i = Ft(r), s = 0, o = r + rt.height() / 2, a = n.querySelectorAll(w);
        for (var f = 0; f < a.length; ++f) {
          var l = a[f];
          l.offsetTop <= o && (s = f)
        }
        jt(i) && (e(E).hasClass("completely") || e(E).addClass("completely").siblings().removeClass("completely")), t = e(a).eq(s);
        if (!t.hasClass(m)) {
          Pt = !0;
          var c = e(E), h = c.index(w) + 1, p = Bn(t), d = t.data("anchor"), v = t.index(w) + 1, g = t.find(F);
          if (g.length) var y = g.data("anchor"), b = g.index();
          lt && (t.addClass(m).siblings().removeClass(m), e.isFunction(u.onLeave) && u.onLeave.call(c, h, v, p), e.isFunction(u.afterLoad) && u.afterLoad.call(t, d, v), an(t), Hn(d, v - 1), u.anchors.length && (at = d, $n(b, y, d, v))), clearTimeout(bt), bt = setTimeout(function () {
            Pt = !1
          }, 100)
        }
        u.fitToSection && (clearTimeout(wt), wt = setTimeout(function () {
          lt && u.fitToSection && (e(E).is(t) && requestAnimFrame(function () {
            et = !0
          }), tn(t), requestAnimFrame(function () {
            et = !1
          }))
        }, u.fitToSectionDelay))
      }
    }

    function jt(t) {
      var n = e(E).position().top, r = n + rt.height();
      return t == "up" ? r >= rt.scrollTop() + rt.height() : n <= rt.scrollTop()
    }

    function Ft(e) {
      var t = e > Ht ? "down" : "up";
      return Ht = e, t
    }

    function It(e, t) {
      if (!dt.m[e]) return;
      var n, r;
      e == "down" ? (n = "bottom", r = l.moveSectionDown) : (n = "top", r = l.moveSectionUp);
      if (t.length > 0) {
        if (!u.scrollOverflowHandler.isScrolled(n, t)) return !0;
        r()
      } else r()
    }

    function Wt(t) {
      var n = t.originalEvent;
      if (!Xt(t.target) && Vt(n)) {
        u.autoScrolling && t.preventDefault();
        var i = e(E), s = u.scrollOverflowHandler.scrollable(i);
        if (lt && !k) {
          var o = rr(n);
          Ut = o.y, zt = o.x, i.find(q).length && r.abs(Rt - zt) > r.abs(qt - Ut) ? r.abs(Rt - zt) > rt.outerWidth() / 100 * u.touchSensitivity && (Rt > zt ? dt.m.right && l.moveSlideRight() : dt.m.left && l.moveSlideLeft()) : u.autoScrolling && r.abs(qt - Ut) > rt.height() / 100 * u.touchSensitivity && (qt > Ut ? It("down", s) : Ut > qt && It("up", s))
        }
      }
    }

    function Xt(t, n) {
      n = n || 0;
      var r = e(t).parent();
      return n < u.normalScrollElementTouchThreshold && r.is(u.normalScrollElements) ? !0 : n == u.normalScrollElementTouchThreshold ? !1 : Xt(r, ++n)
    }

    function Vt(e) {
      return typeof e.pointerType == "undefined" || e.pointerType != "mouse"
    }

    function $t(e) {
      var t = e.originalEvent;
      u.fitToSection && a.stop();
      if (Vt(t)) {
        var n = rr(t);
        qt = n.y, Rt = n.x
      }
    }

    function Jt(e, t) {
      var n = 0, i = e.slice(r.max(e.length - t, 1));
      for (var s = 0; s < i.length; s++) n += i[s];
      return r.ceil(n / t)
    }

    function Qt(n) {
      var i = (new Date).getTime(), s = e(".completely").hasClass(L);
      if (u.autoScrolling && !pt && !s) {
        n = n || t.event;
        var o = n.wheelDelta || -n.deltaY || -n.detail, f = r.max(-1, r.min(1, o)),
          l = typeof n.wheelDeltaX != "undefined" || typeof n.deltaX != "undefined",
          c = r.abs(n.wheelDeltaX) < r.abs(n.wheelDelta) || r.abs(n.deltaX) < r.abs(n.deltaY) || !l;
        ct.length > 149 && ct.shift(), ct.push(r.abs(o)), u.scrollBar && (n.preventDefault ? n.preventDefault() : n.returnValue = !1);
        var h = e(E), p = u.scrollOverflowHandler.scrollable(h), d = i - Kt;
        Kt = i, d > 200 && (ct = []);
        if (lt) {
          var v = Jt(ct, 10), m = Jt(ct, 70), g = v >= m;
          ot = !0, g && c && (f < 0 ? It("down", p) : It("up", p))
        }
        return !1
      }
      u.fitToSection && a.stop()
    }

    function Gt(t, n) {
      var r = typeof n == "undefined" ? e(E) : n, i = r.find(q), s = i.find(j).length;
      if (!i.length || k || s < 2) return;
      var o = i.find(F), a = null;
      t === "prev" ? a = o.prev(j) : a = o.next(j);
      if (!a.length) {
        if (!u.loopHorizontal) return;
        t === "prev" ? a = o.siblings(":last") : a = o.siblings(":first")
      }
      k = !0, Cn(i, a)
    }

    function Yt() {
      e(F).each(function () {
        ir(e(this), "internal")
      })
    }

    function en(e, t) {
      var n = e.top;
      return e.top > Zt && (n = n - Z + t.outerHeight()), Zt = n, n
    }

    function tn(t, n, r) {
      requestAnimFrame(function () {
        var i = t.position();
        if (typeof i == "undefined") return;
        var s = en(i, t), o = {
          element: t,
          callback: n,
          isMovementUp: r,
          dest: i,
          dtop: s,
          yMovement: Bn(t),
          anchorLink: t.data("anchor"),
          sectionIndex: t.index(w),
          activeSlide: t.find(F),
          activeSection: e(E),
          leavingSection: e(E).index(w) + 1,
          localIsResizing: et
        };
        if (o.activeSection.is(t) && !et || u.scrollBar && rt.scrollTop() === o.dtop && !t.hasClass(C)) return;
        if (o.activeSlide.length) var a = o.activeSlide.data("anchor"), f = o.activeSlide.index();
        u.autoScrolling && u.continuousVertical && typeof o.isMovementUp != "undefined" && (!o.isMovementUp && o.yMovement == "up" || o.isMovementUp && o.yMovement == "down") && (o = sn(o));
        if (e.isFunction(u.onLeave) && !o.localIsResizing && u.onLeave.call(o.activeSection, o.leavingSection, o.sectionIndex + 1, o.yMovement) === !1) return;
        ln(o.activeSection), t.addClass(m).siblings().removeClass(m), an(t), lt = !1, $n(f, a, o.anchorLink, o.sectionIndex), nn(o), at = o.anchorLink, Hn(o.anchorLink, o.sectionIndex)
      })
    }

    function nn(t) {
      if (u.css3 && u.autoScrolling && !u.scrollBar) {
        var n = "translate3d(0px, -" + t.dtop + "px, 0px)";
        Rn(n, !0), u.scrollingSpeed ? gt = setTimeout(function () {
          un(t)
        }, u.scrollingSpeed) : un(t)
      } else {
        var r = rn(t);
        e(r.element).animate(r.options, u.scrollingSpeed, u.easing).promise().done(function () {
          u.scrollBar ? setTimeout(function () {
            un(t)
          }, 30) : un(t)
        })
      }
    }

    function rn(e) {
      var t = {};
      return u.autoScrolling && !u.scrollBar ? (t.options = {top: -e.dtop}, t.element = o) : (t.options = {scrollTop: e.dtop}, t.element = "html, body"), t
    }

    function sn(t) {
      return t.isMovementUp ? e(E).before(t.activeSection.nextAll(w)) : e(E).after(t.activeSection.prevAll(w).get().reverse()), sr(e(E).position().top), Yt(), t.wrapAroundElements = t.activeSection, t.dest = t.element.position(), t.dtop = t.dest.top, t.yMovement = Bn(t.element), t
    }

    function on(t) {
      if (!t.wrapAroundElements || !t.wrapAroundElements.length) return;
      t.isMovementUp ? e(S).before(t.wrapAroundElements) : e(x).after(t.wrapAroundElements), sr(e(E).position().top), Yt()
    }

    function un(t) {

      var n = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
      on(t), t.element.find(".fp-scrollable").mouseover(), e.isFunction(u.afterLoad) && !t.localIsResizing && u.afterLoad.call(t.element, t.anchorLink, t.sectionIndex + 1), fn(t.element), t.element.addClass("completely").siblings().removeClass("completely");
      var r = ot && n ? 1500 : 0;
      setTimeout(function () {
        lt = !0
      }, 30), console.log("usingMouseWheel", ot, r, n), e.isFunction(t.callback) && t.callback.call(this)
    }

    function an(t) {
      var t = cn(t);
      t.find("img[data-src], source[data-src], audio[data-src]").each(function () {
        e(this).attr("src", e(this).data("src")), e(this).removeAttr("data-src"), e(this).is("source") && e(this).closest("video").get(0).load()
      })
    }

    function fn(t) {
      var t = cn(t);
      t.find("video, audio").each(function () {
        var t = e(this).get(0);
        t.hasAttribute("autoplay") && typeof t.play == "function" && t.play()
      })
    }

    function ln(t) {
      var t = cn(t);
      t.find("video, audio").each(function () {
        var t = e(this).get(0);
        !t.hasAttribute("data-ignore") && typeof t.pause == "function" && t.pause()
      })
    }

    function cn(t) {
      var n = t.find(F);
      return n.length && (t = e(n)), t
    }

    function hn() {
      var e = t.location.hash.replace("#", "").split("/"), n = e[0], r = e[1];
      n && (u.animateAnchor ? Wn(n, r) : l.silentMoveTo(n, r))
    }

    function pn() {
      if (!Pt && !u.lockAnchors) {
        var e = t.location.hash.replace("#", "").split("/"), n = e[0], r = e[1], i = typeof at == "undefined",
          s = typeof at == "undefined" && typeof r == "undefined" && !k;
        n.length && (n && n !== at && !i || s || !k && ft != r) && Wn(n, r)
      }
    }

    function dn(t) {
      clearTimeout(Et);
      var n = e(":focus");
      if (!n.is("textarea") && !n.is("input") && !n.is("select") && u.keyboardScrolling && u.autoScrolling) {
        var r = t.which, i = [40, 38, 32, 33, 34];
        e.inArray(r, i) > -1 && t.preventDefault(), pt = t.ctrlKey, Et = setTimeout(function () {
          xn(t)
        }, 150)
      }
    }

    function vn() {
      e(this).prev().trigger("click")
    }

    function mn(e) {
      ut && (pt = e.ctrlKey)
    }

    function gn(e) {
      e.which == 2 && (Tn = e.pageY, Q.on("mousemove", Nn))
    }

    function yn(e) {
      e.which == 2 && Q.off("mousemove")
    }

    function bn() {
      var t = e(this).closest(w);
      e(this).hasClass(K) ? dt.m.left && l.moveSlideLeft(t) : dt.m.right && l.moveSlideRight(t)
    }

    function wn() {
      ut = !1, pt = !1
    }

    function En(t) {
      t.preventDefault();
      var n = e(this).parent().index();
      tn(e(w).eq(n))
    }

    function Sn(t) {
      t.preventDefault();
      var n = e(this).closest(w).find(q), r = n.find(j).eq(e(this).closest("li").index());
      Cn(n, r)
    }

    function xn(t) {
      var n = t.shiftKey;
      ot = !1;
      switch (t.which) {
        case 38:
        case 33:
          dt.k.up && l.moveSectionUp();
          break;
        case 32:
          if (n && dt.k.up) {
            l.moveSectionUp();
            break
          }
          ;
        case 40:
        case 34:
          dt.k.down && l.moveSectionDown();
          break;
        case 36:
          dt.k.up && l.moveTo(1);
          break;
        case 35:
          dt.k.down && l.moveTo(e(w).length);
          break;
        case 37:
          dt.k.left && l.moveSlideLeft();
          break;
        case 39:
          dt.k.right && l.moveSlideRight();
          break;
        default:
          return
      }
    }

    function Nn(e) {
      lt && (e.pageY < Tn ? l.moveSectionUp() : e.pageY > Tn && l.moveSectionDown()), Tn = e.pageY
    }

    function Cn(t, n) {
      var i = n.position(), s = n.index(), o = t.closest(w), a = o.index(w), f = o.data("anchor"), l = o.find(X),
        c = Kn(n), h = o.find(F), p = et;
      if (u.onSlideLeave) {
        var d = h.index(), v = jn(d, s);
        if (!p && v !== "none" && e.isFunction(u.onSlideLeave) && u.onSlideLeave.call(h, f, a + 1, d, v, s) === !1) {
          k = !1;
          return
        }
      }
      ln(h), n.addClass(m).siblings().removeClass(m), p || an(n), !u.loopHorizontal && u.controlArrows && (o.find(Y).toggle(s !== 0), o.find(nt).toggle(!n.is(":last-child"))), o.hasClass(m) && $n(s, c, f, a);
      var y = function () {
        p || e.isFunction(u.afterSlideLoad) && u.afterSlideLoad.call(n, f, a + 1, c, s), fn(n), k = !1
      };
      if (u.css3) {
        var b = "translate3d(-" + r.round(i.left) + "px, 0px, 0px)";
        On(t.find(U), u.scrollingSpeed > 0).css(or(b)), yt = setTimeout(function () {
          y()
        }, u.scrollingSpeed, u.easing)
      } else t.animate({scrollLeft: r.round(i.left)}, u.scrollingSpeed, u.easing, function () {
        y()
      });
      l.find(g).removeClass(m), l.find("li").eq(s).find("a").addClass(m)
    }

    function Ln() {
      An();
      if (A) {
        var t = e(n.activeElement);
        if (!t.is("textarea") && !t.is("input") && !t.is("select")) {
          var i = rt.height();
          r.abs(i - kn) > 20 * r.max(kn, i) / 100 && (l.reBuild(!0), kn = i)
        }
      } else clearTimeout(mt), mt = setTimeout(function () {
        //l.reBuild(!0)
      }, 350)
    }

    function An() {
      var e = u.responsive || u.responsiveWidth, t = u.responsiveHeight, n = e && rt.outerWidth() < e,
        r = t && rt.height() < t;
      e && t ? l.setResponsive(n || r) : e ? l.setResponsive(n) : t && l.setResponsive(r)
    }

    function On(e) {
      var t = "all " + u.scrollingSpeed + "ms " + u.easingcss3;
      return e.removeClass(h), e.css({"-webkit-transition": t, transition: t})
    }

    function Mn(e) {
      return e.addClass(h)
    }

    function _n(e, t) {
      var n = 825, i = 900;
      if (e < n || t < i) {
        var s = e * 100 / n, o = t * 100 / i, u = r.min(s, o), a = u.toFixed(2);
        f.css("font-size", a + "%")
      } else f.css("font-size", "100%")
    }

    function Dn(t, n) {
      u.navigation && (e(M).find(g).removeClass(m), t ? e(M).find('a[href="#' + t + '"]').addClass(m) : e(M).find("li").eq(n).find("a").addClass(m))
    }

    function Pn(t) {
      u.menu && (e(u.menu).find(g).removeClass(m), e(u.menu).find('[data-menuanchor="' + t + '"]').addClass(m))
    }

    function Hn(e, t) {
      Pn(e), Dn(e, t)
    }

    function Bn(t) {
      var n = e(E).index(w), r = t.index(w);
      return n == r ? "none" : n > r ? "up" : "down"
    }

    function jn(e, t) {
      return e == t ? "none" : e > t ? "left" : "right"
    }

    function Fn(e) {
      e.css("overflow", "hidden");
      var t = u.scrollOverflowHandler, n = t.wrapContent(), r = e.closest(w), i = t.scrollable(e), s;
      i.length ? s = t.scrollHeight(e) : (s = e.get(0).scrollHeight, u.verticalCentered && (s = e.find(N).get(0).scrollHeight));
      var o = Z - parseInt(r.css("padding-bottom")) - parseInt(r.css("padding-top"));
      s > o ? i.length ? t.update(e, o) : (u.verticalCentered ? e.find(N).wrapInner(n) : e.wrapInner(n), t.create(e, o)) : t.remove(e), e.css("overflow", "")
    }

    function In(e) {
      e.addClass(z).wrapInner('<div class="' + T + '" style="height:' + qn(e) + 'px;" />')
    }

    function qn(e) {
      var t = Z;
      if (u.paddingTop || u.paddingBottom) {
        var n = e;
        n.hasClass(b) || (n = e.closest(w));
        var r = parseInt(n.css("padding-top")) + parseInt(n.css("padding-bottom"));
        t = Z - r
      }
      return t
    }

    function Rn(e, t) {
      t ? On(Q) : Mn(Q), Q.css(or(e)), setTimeout(function () {
        Q.removeClass(h)
      }, 10)
    }

    function Un(t) {
      var n = Q.find(w + '[data-anchor="' + t + '"]');
      return n.length || (n = e(w).eq(t - 1)), n
    }

    function zn(e, t) {
      var n = t.find(q), r = n.find(j + '[data-anchor="' + e + '"]');
      return r.length || (r = n.find(j).eq(e)), r
    }

    function Wn(e, t) {
      var n = Un(e);
      typeof t == "undefined" && (t = 0), e !== at && !n.hasClass(m) ? tn(n, function () {
        Xn(n, t)
      }) : Xn(n, t)
    }

    function Xn(e, t) {
      if (typeof t != "undefined") {
        var n = e.find(q), r = zn(t, e);
        r.length && Cn(n, r)
      }
    }

    function Vn(e, t) {
      e.append('<div class="' + W + '"><ul></ul></div>');
      var n = e.find(X);
      n.addClass(u.slidesNavPosition);
      for (var r = 0; r < t; r++) n.find("ul").append('<li><a href="#"><span></span></a></li>');
      n.css("margin-left", "-" + n.width() / 2 + "px"), n.find("li").first().find("a").addClass(m)
    }

    function $n(e, t, n, r) {
      var i = "";
      u.anchors.length && !u.lockAnchors && (e ? (typeof n != "undefined" && (i = n), typeof t == "undefined" && (t = e), ft = t, Jn(i + "/" + t)) : typeof e != "undefined" ? (ft = t, Jn(n)) : Jn(n)), Qn()
    }

    function Jn(e) {
      if (u.recordHistory) location.hash = e; else if (A || $) t.history.replaceState(i, i, "#" + e); else {
        var n = t.location.href.split("#")[0];
        t.location.replace(n + "#" + e)
      }
    }

    function Kn(e) {
      var t = e.data("anchor"), n = e.index();
      return typeof t == "undefined" && (t = n), t
    }

    function Qn() {
      var t = e(E), n = t.find(F), r = Kn(t), i = Kn(n), s = t.index(w), o = String(r);
      n.length && (o = o + "-" + i), o = o.replace("/", "-").replace("#", "");
      var u = new RegExp("\\b\\s?" + v + "-[^\\s]+\\b", "g");
      f[0].className = f[0].className.replace(u, ""), f.addClass(v + "-" + o)
    }

    function Gn() {
      var e = n.createElement("p"), r, s = {
        webkitTransform: "-webkit-transform",
        OTransform: "-o-transform",
        msTransform: "-ms-transform",
        MozTransform: "-moz-transform",
        transform: "transform"
      };
      n.body.insertBefore(e, null);
      for (var o in s) e.style[o] !== i && (e.style[o] = "translate3d(1px,1px,1px)", r = t.getComputedStyle(e).getPropertyValue(s[o]));
      return n.body.removeChild(e), r !== i && r.length > 0 && r !== "none"
    }

    function Yn() {
      n.addEventListener ? (n.removeEventListener("mousewheel", Qt, !1), n.removeEventListener("wheel", Qt, !1), n.removeEventListener("MozMousePixelScroll", Qt, !1)) : n.detachEvent("onmousewheel", Qt)
    }

    function Zn() {
      var e = "", r;
      t.addEventListener ? r = "addEventListener" : (r = "attachEvent", e = "on");
      var s = "onwheel" in n.createElement("div") ? "wheel" : n.onmousewheel !== i ? "mousewheel" : "DOMMouseScroll";
      s == "DOMMouseScroll" ? n[r](e + "MozMousePixelScroll", Qt, !1) : n[r](e + s, Qt, !1)
    }

    function er() {
      if (A || $) {
        var t = nr();
        e(o).off("touchstart " + t.down).on("touchstart " + t.down, $t), e(o).off("touchmove " + t.move).on("touchmove " + t.move, Wt)
      }
    }

    function tr() {
      if (A || $) {
        var t = nr();
        e(o).off("touchstart " + t.down), e(o).off("touchmove " + t.move)
      }
    }

    function nr() {
      var e;
      return t.PointerEvent ? e = {down: "pointerdown", move: "pointermove"} : e = {
        down: "MSPointerDown",
        move: "MSPointerMove"
      }, e
    }

    function rr(e) {
      var t = [];
      return t.y = typeof e.pageY != "undefined" && (e.pageY || e.pageX) ? e.pageY : e.touches[0].pageY, t.x = typeof e.pageX != "undefined" && (e.pageY || e.pageX) ? e.pageX : e.touches[0].pageX, $ && Vt(e) && u.scrollBar && (t.y = e.touches[0].pageY, t.x = e.touches[0].pageX), t
    }

    function ir(e, t) {
      l.setScrollingSpeed(0, "internal"), typeof t != "undefined" && (et = !0), Cn(e.closest(q), e), typeof t != "undefined" && (et = !1), l.setScrollingSpeed(vt.scrollingSpeed, "internal")
    }

    function sr(e) {
      if (u.scrollBar) Q.scrollTop(e); else if (u.css3) {
        var t = "translate3d(0px, -" + e + "px, 0px)";
        Rn(t, !1)
      } else Q.css("top", -e)
    }

    function or(e) {
      return {"-webkit-transform": e, "-moz-transform": e, "-ms-transform": e, transform: e}
    }

    function ur(e, t, n) {
      switch (t) {
        case"up":
          dt[n].up = e;
          break;
        case"down":
          dt[n].down = e;
          break;
        case"left":
          dt[n].left = e;
          break;
        case"right":
          dt[n].right = e;
          break;
        case"all":
          n == "m" ? l.setAllowScrolling(e) : l.setKeyboardScrolling(e)
      }
    }

    function ar() {
      sr(0), e(M + ", " + X + ", " + J).remove(), e(w).css({
        height: "",
        "background-color": "",
        padding: ""
      }), e(j).css({width: ""}), Q.css({
        height: "",
        position: "",
        "-ms-touch-action": "",
        "touch-action": ""
      }), a.css({
        overflow: "",
        height: ""
      }), e("html").removeClass(d), e.each(f.get(0).className.split(/\s+/), function (e, t) {
        t.indexOf(v) === 0 && f.removeClass(t)
      }), e(w + ", " + j).each(function () {
        u.scrollOverflowHandler.remove(e(this)), e(this).removeClass(z + " " + m)
      }), Mn(Q), Q.find(N + ", " + U + ", " + q).each(function () {
        e(this).replaceWith(this.childNodes)
      }), a.scrollTop(0);
      var t = [b, B, R];
      e.each(t, function (t, n) {
        e("." + n).removeClass(n)
      })
    }

    function fr(e, t, n) {
      u[e] = t, n !== "internal" && (vt[e] = t)
    }

    function lr() {
      u.continuousVertical && (u.loopTop || u.loopBottom) && (u.continuousVertical = !1, cr("warn", "Option `loopTop/loopBottom` is mutually exclusive with `continuousVertical`; `continuousVertical` disabled")), u.scrollBar && u.scrollOverflow && cr("warn", "Option `scrollBar` is mutually exclusive with `scrollOverflow`. Sections with scrollOverflow might not work well in Firefox"), u.continuousVertical && u.scrollBar && (u.continuousVertical = !1, cr("warn", "Option `scrollBar` is mutually exclusive with `continuousVertical`; `continuousVertical` disabled")), e.each(u.anchors, function (t, n) {
        (e("#" + n).length || e('[name="' + n + '"]').length) && cr("error", "data-anchor tags can not have the same value as any `id` element on the site (or `name` element for IE).")
      })
    }

    function cr(e, t) {
      console && console[e] && console[e]("fullPage: " + t)
    }

    var a = e("html, body"), f = e("body"), l = e.fn.fullpage;
    u = e.extend({
      menu: !1,
      anchors: [],
      lockAnchors: !1,
      navigation: !1,
      navigationPosition: "right",
      navigationTooltips: [],
      showActiveTooltip: !1,
      slidesNavigation: !1,
      slidesNavPosition: "bottom",
      scrollBar: !1,
      hybrid: !1,
      css3: !0,
      scrollingSpeed: 700,
      autoScrolling: !0,
      fitToSection: !0,
      fitToSectionDelay: 1e3,
      easing: "easeInOutCubic",
      easingcss3: "ease",
      loopBottom: !1,
      loopTop: !1,
      loopHorizontal: !0,
      continuousVertical: !1,
      normalScrollElements: null,
      scrollOverflow: !1,
      scrollOverflowHandler: st,
      touchSensitivity: 5,
      normalScrollElementTouchThreshold: 5,
      keyboardScrolling: !0,
      animateAnchor: !0,
      recordHistory: !0,
      controlArrows: !0,
      controlArrowColor: "#fff",
      verticalCentered: !0,
      resize: !1,
      sectionsColor: [],
      paddingTop: 0,
      paddingBottom: 0,
      fixedElements: null,
      responsive: 0,
      responsiveWidth: 0,
      responsiveHeight: 0,
      sectionSelector: y,
      slideSelector: H,
      afterLoad: null,
      onLeave: null,
      afterRender: null,
      afterResize: null,
      afterReBuild: null,
      afterSlideLoad: null,
      onSlideLeave: null
    }, u), lr(), e.extend(e.easing, {
      easeInOutCubic: function (e, t, n, r, i) {
        return (t /= i / 2) < 1 ? r / 2 * t * t * t + n : r / 2 * ((t -= 2) * t * t + 2) + n
      }
    }), e.extend(e.easing, {
      easeInQuart: function (e, t, n, r, i) {
        return r * (t /= i) * t * t * t + n
      }
    }), l.setAutoScrolling = function (t, n) {
      fr("autoScrolling", t, n);
      var r = e(E);
      u.autoScrolling && !u.scrollBar ? (a.css({
        overflow: "hidden",
        height: "100%"
      }), l.setRecordHistory(vt.recordHistory, "internal"), Q.css({
        "-ms-touch-action": "none",
        "touch-action": "none"
      }), r.length && sr(r.position().top)) : (a.css({
        overflow: "visible",
        height: "initial"
      }), l.setRecordHistory(!1, "internal"), Q.css({
        "-ms-touch-action": "",
        "touch-action": ""
      }), sr(0), r.length && a.scrollTop(r.position().top))
    }, l.setRecordHistory = function (e, t) {
      fr("recordHistory", e, t)
    }, l.setScrollingSpeed = function (e, t) {
      fr("scrollingSpeed", e, t)
    }, l.setFitToSection = function (e, t) {
      fr("fitToSection", e, t)
    }, l.setLockAnchors = function (e) {
      u.lockAnchors = e
    }, l.setMouseWheelScrolling = function (e) {
      e ? Zn() : Yn()
    }, l.setAllowScrolling = function (t, n) {
      typeof n != "undefined" ? (n = n.replace(/ /g, "").split(","), e.each(n, function (e, n) {
        ur(t, n, "m")
      })) : t ? (l.setMouseWheelScrolling(!0), er()) : (l.setMouseWheelScrolling(!1), tr())
    }, l.setKeyboardScrolling = function (t, n) {
      typeof n != "undefined" ? (n = n.replace(/ /g, "").split(","), e.each(n, function (e, n) {
        ur(t, n, "k")
      })) : u.keyboardScrolling = t
    }, l.moveSectionUp = function () {
      var t = e(E).prev(w);
      !t.length && (u.loopTop || u.continuousVertical) && (t = e(w).last()), t.length && tn(t, null, !0)
    }, l.moveSectionDown = function () {
      var t = e(E).next(w);
      !t.length && (u.loopBottom || u.continuousVertical) && (t = e(w).first()), t.length && tn(t, null, !1)
    }, l.silentMoveTo = function (e, t) {
      requestAnimFrame(function () {
        l.setScrollingSpeed(0, "internal")
      }), l.moveTo(e, t), requestAnimFrame(function () {
        l.setScrollingSpeed(vt.scrollingSpeed, "internal")
      })
    }, l.moveTo = function (e, t) {
      var n = Un(e);
      typeof t != "undefined" ? Wn(e, t) : n.length > 0 && tn(n)
    }, l.moveSlideRight = function (e) {
      Gt("next", e)
    }, l.moveSlideLeft = function (e) {
      Gt("prev", e)
    }, l.reBuild = function (t) {
      if (Q.hasClass(p)) return;
      et = !0, requestAnimFrame(function () {
        et = !0
      });
      var n = rt.outerWidth();
      Z = rt.height(), u.resize && _n(Z, n), e(w).each(function () {
        var t = e(this).find(q), n = e(this).find(j);
        u.verticalCentered && e(this).find(N).css("height", qn(e(this)) + "px"), e(this).css("height", Z + "px"), u.scrollOverflow && (n.length ? n.each(function () {
          Fn(e(this))
        }) : Fn(e(this))), n.length > 1 && Cn(t, t.find(F))
      });
      var r = e(E), i = r.index(w);
      i && l.silentMoveTo(i + 1), et = !1, requestAnimFrame(function () {
        et = !1
      }), e.isFunction(u.afterResize) && t && u.afterResize.call(Q), e.isFunction(u.afterReBuild) && !t && u.afterReBuild.call(Q)
    }, l.setResponsive = function (t) {
      var n = f.hasClass(c);
      t ? n || (l.setAutoScrolling(!1, "internal"), l.setFitToSection(!1, "internal"), e(M).hide(), f.addClass(c)) : n && (l.setAutoScrolling(vt.autoScrolling, "internal"), l.setFitToSection(vt.autoScrolling, "internal"), e(M).show(), f.removeClass(c))
    };
    var k = !1,
      A = navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),
      $ = "ontouchstart" in t || navigator.msMaxTouchPoints > 0 || navigator.maxTouchPoints, Q = e(this),
      Z = rt.height(), et = !1, ut = !0, at, ft, lt = !0, ct = [], ht, pt, dt = {};
    dt.m = {up: !0, down: !0, left: !0, right: !0}, dt.k = e.extend(!0, {}, dt.m);
    var vt = e.extend(!0, {}, u), mt, gt, yt, bt, wt, Et;
    e(this).length && (St(), xt());
    var Pt = !1, Ht = 0, qt = 0, Rt = 0, Ut = 0, zt = 0, Kt = (new Date).getTime();
    t.requestAnimFrame = function () {
      return t.requestAnimationFrame || t.webkitRequestAnimationFrame || t.mozRequestAnimationFrame || t.oRequestAnimationFrame || t.msRequestAnimationFrame || function (e) {
        e()
      }
    }();
    var Zt = 0, Tn = 0, kn = Z;
    l.destroy = function (t) {
      l.setAutoScrolling(!1, "internal"), l.setAllowScrolling(!1), l.setKeyboardScrolling(!1), Q.addClass(p), clearTimeout(yt), clearTimeout(gt), clearTimeout(mt), clearTimeout(bt), clearTimeout(wt), rt.off("scroll", Bt).off("hashchange", pn).off("resize", Ln), it.off("click", M + " a").off("mouseenter", M + " li").off("mouseleave", M + " li").off("click", V).off("mouseover", u.normalScrollElements).off("mouseout", u.normalScrollElements), e(w).off("click", J), clearTimeout(yt), clearTimeout(gt), t && ar()
    }
  };
  var ut = {
    afterRender: function (e) {
      var t = e.find(I), n = e.find(a);
      t.length && (n = t.find(F)), n.mouseover()
    }, create: function (e, t) {
      e.find(a).slimScroll({allowPageScroll: !0, height: t + "px", size: "10px", alwaysVisible: !0})
    }, isScrolled: function (e, t) {
      if (e === "top") return !t.scrollTop();
      if (e === "bottom") return t.scrollTop() + 1 + t.innerHeight() >= t[0].scrollHeight
    }, scrollable: function (e) {
      return e.find(q).length ? e.find(F).find(a) : e.find(a)
    }, scrollHeight: function (e) {
      return e.find(a).get(0).scrollHeight
    }, remove: function (e) {
      e.find(a).children().first().unwrap().unwrap(), e.find(f).remove(), e.find(l).remove()
    }, update: function (e, t) {
      e.find(a).css("height", t + "px").parent().css("height", t + "px")
    }, wrapContent: function () {
      return '<div class="' + u + '"></div>'
    }
  };
  st = ut
}), function (e, t) {
  var n = t(e, e.document);
  e.lazySizes = n, typeof module == "object" && module.exports && (module.exports = n)
}(window, function (t, n) {
  "use strict";
  if (!n.getElementsByClassName) return;
  var r, i = n.documentElement, s = t.Date, o = t.HTMLPictureElement, u = "addEventListener", a = "getAttribute",
    f = t[u], l = t.setTimeout, c = t.requestAnimationFrame || l, h = t.requestIdleCallback, p = /^picture$/i,
    d = ["load", "error", "lazyincluded", "_lazyloaded"], v = {}, m = Array.prototype.forEach, g = function (e, t) {
      return v[t] || (v[t] = new RegExp("(\\s|^)" + t + "(\\s|$)")), v[t].test(e[a]("class") || "") && v[t]
    }, y = function (e, t) {
      g(e, t) || e.setAttribute("class", (e[a]("class") || "").trim() + " " + t)
    }, b = function (e, t) {
      var n;
      (n = g(e, t)) && e.setAttribute("class", (e[a]("class") || "").replace(n, " "))
    }, w = function (e, t, n) {
      var r = n ? u : "removeEventListener";
      n && w(e, t), d.forEach(function (n) {
        e[r](n, t)
      })
    }, E = function (e, t, r, i, s) {
      var o = n.createEvent("CustomEvent");
      return o.initCustomEvent(t, !i, !s, r || {}), e.dispatchEvent(o), o
    }, S = function (e, n) {
      var i;
      !o && (i = t.picturefill || r.pf) ? i({reevaluate: !0, elements: [e]}) : n && n.src && (e.src = n.src)
    }, x = function (e, t) {
      return (getComputedStyle(e, null) || {})[t]
    }, T = function (e, t, n) {
      n = n || e.offsetWidth;
      while (n < r.minSize && t && !e._lazysizesWidth) n = t.offsetWidth, t = t.parentNode;
      return n
    }, N = function () {
      var e, t, r = [], i = [], s = r, o = function () {
        var n = s;
        s = r.length ? i : r, e = !0, t = !1;
        while (n.length) n.shift()();
        e = !1
      }, u = function (r, i) {
        e && !i ? r.apply(this, arguments) : (s.push(r), t || (t = !0, (n.hidden ? l : c)(o)))
      };
      return u._lsFlush = o, u
    }(), C = function (e, t) {
      return t ? function () {
        N(e)
      } : function () {
        var t = this, n = arguments;
        N(function () {
          e.apply(t, n)
        })
      }
    }, k = function (e) {
      var t, n = 0, r = 125, i = 666, o = i, u = function () {
        t = !1, n = s.now(), e()
      }, a = h ? function () {
        h(u, {timeout: o}), o !== i && (o = i)
      } : C(function () {
        l(u)
      }, !0);
      return function (e) {
        var i;
        if (e = e === !0) o = 44;
        if (t) return;
        t = !0, i = r - (s.now() - n), i < 0 && (i = 0), e || i < 9 && h ? a() : l(a, i)
      }
    }, L = function (e) {
      var t, n, r = 99, i = function () {
        t = null, e()
      }, o = function () {
        var e = s.now() - n;
        e < r ? l(o, r - e) : (h || i)(i)
      };
      return function () {
        n = s.now(), t || (t = l(o, r))
      }
    }, A = function () {
      var e, o, c, h, d, v, T, A, M, _, D, P, H, B, j, F = /^img$/i, I = /^iframe$/i,
        q = "onscroll" in t && !/glebot/.test(navigator.userAgent), R = 0, U = 0, z = 0, W = -1, X = function (e) {
          z--, e && e.target && w(e.target, X);
          if (!e || z < 0 || !e.target) z = 0
        }, V = function (e, t) {
          var r, s = e, o = x(n.body, "visibility") == "hidden" || x(e, "visibility") != "hidden";
          M -= t, P += t, _ -= t, D += t;
          while (o && (s = s.offsetParent) && s != n.body && s != i) o = (x(s, "opacity") || 1) > 0, o && x(s, "overflow") != "visible" && (r = s.getBoundingClientRect(), o = D > r.left && _ < r.right && P > r.top - 1 && M < r.bottom + 1);
          return o
        }, $ = function () {
          var t, s, u, f, l, h, p, v, m;
          if ((d = r.loadMode) && z < 8 && (t = e.length)) {
            s = 0, W++, B == null && ("expand" in r || (r.expand = i.clientHeight > 500 && i.clientWidth > 500 ? 500 : 370), H = r.expand, B = H * r.expFactor), U < B && z < 1 && W > 2 && d > 2 && !n.hidden ? (U = B, W = 0) : d > 1 && W > 1 && z < 6 ? U = H : U = R;
            for (; s < t; s++) {
              if (!e[s] || e[s]._lazyRace) continue;
              if (!q) {
                tt(e[s]);
                continue
              }
              if (!(v = e[s][a]("data-expand")) || !(h = v * 1)) h = U;
              m !== h && (T = innerWidth + h * j, A = innerHeight + h, p = h * -1, m = h), u = e[s].getBoundingClientRect();
              if ((P = u.bottom) >= p && (M = u.top) <= A && (D = u.right) >= p * j && (_ = u.left) <= T && (P || D || _ || M) && (c && z < 3 && !v && (d < 3 || W < 4) || V(e[s], h))) {
                tt(e[s]), l = !0;
                if (z > 9) break
              } else !l && c && !f && z < 4 && W < 4 && d > 2 && (o[0] || r.preloadAfterLoad) && (o[0] || !v && (P || D || _ || M || e[s][a](r.sizesAttr) != "auto")) && (f = o[0] || e[s])
            }
            f && !l && tt(f)
          }
        }, J = k($), K = function (e) {
          y(e.target, r.loadedClass), b(e.target, r.loadingClass), w(e.target, G)
        }, Q = C(K), G = function (e) {
          Q({target: e.target})
        }, Y = function (e, t) {
          try {
            e.contentWindow.location.replace(t)
          } catch (n) {
            e.src = t
          }
        }, Z = function (e) {
          var t, n, i = e[a](r.srcsetAttr);
          (t = r.customMedia[e[a]("data-media") || e[a]("media")]) && e.setAttribute("media", t), i && e.setAttribute("srcset", i), t && (n = e.parentNode, n.insertBefore(e.cloneNode(), e), n.removeChild(e))
        }, et = C(function (e, t, n, i, s) {
          var o, u, f, c, d, v;
          (d = E(e, "lazybeforeunveil", t)).defaultPrevented || (i && (n ? y(e, r.autosizesClass) : e.setAttribute("sizes", i)), u = e[a](r.srcsetAttr), o = e[a](r.srcAttr), s && (f = e.parentNode, c = f && p.test(f.nodeName || "")), v = t.firesLoad || "src" in e && (u || o || c), d = {target: e}, v && (w(e, X, !0), clearTimeout(h), h = l(X, 2500), y(e, r.loadingClass), w(e, G, !0)), c && m.call(f.getElementsByTagName("source"), Z), u ? e.setAttribute("srcset", u) : o && !c && (I.test(e.nodeName) ? Y(e, o) : e.src = o), (u || c) && S(e, {src: o})), e._lazyRace && delete e._lazyRace, b(e, r.lazyClass), N(function () {
            if (!v || e.complete && e.naturalWidth > 1) v ? X(d) : z--, K(d)
          }, !0)
        }), tt = function (e) {
          var t, n = F.test(e.nodeName), i = n && (e[a](r.sizesAttr) || e[a]("sizes")), s = i == "auto";
          if ((s || !c) && n && (e.src || e.srcset) && !e.complete && !g(e, r.errorClass)) return;
          t = E(e, "lazyunveilread").detail, s && O.updateElem(e, !0, e.offsetWidth), e._lazyRace = !0, z++, et(e, t, s, i, n)
        }, nt = function () {
          if (c) return;
          if (s.now() - v < 999) {
            l(nt, 999);
            return
          }
          var e = L(function () {
            r.loadMode = 3, J()
          });
          c = !0, r.loadMode = 3, J(), f("scroll", function () {
            r.loadMode == 3 && (r.loadMode = 2), e()
          }, !0)
        };
      return {
        _: function () {
          v = s.now(), e = n.getElementsByClassName(r.lazyClass), o = n.getElementsByClassName(r.lazyClass + " " + r.preloadClass), j = r.hFac, f("scroll", J, !0), f("resize", J, !0), t.MutationObserver ? (new MutationObserver(J)).observe(i, {
            childList: !0,
            subtree: !0,
            attributes: !0
          }) : (i[u]("DOMNodeInserted", J, !0), i[u]("DOMAttrModified", J, !0), setInterval(J, 999)), f("hashchange", J, !0), ["focus", "mouseover", "click", "load", "transitionend", "animationend", "webkitAnimationEnd"].forEach(function (e) {
            n[u](e, J, !0)
          }), /d$|^c/.test(n.readyState) ? nt() : (f("load", nt), n[u]("DOMContentLoaded", J), l(nt, 2e4)), e.length ? ($(), N._lsFlush()) : J()
        }, checkElems: J, unveil: tt
      }
    }(), O = function () {
      var e, t = C(function (e, t, n, r) {
        var i, s, o;
        e._lazysizesWidth = r, r += "px", e.setAttribute("sizes", r);
        if (p.test(t.nodeName || "")) {
          i = t.getElementsByTagName("source");
          for (s = 0, o = i.length; s < o; s++) i[s].setAttribute("sizes", r)
        }
        n.detail.dataAttr || S(e, n.detail)
      }), i = function (e, n, r) {
        var i, s = e.parentNode;
        s && (r = T(e, s, r), i = E(e, "lazybeforesizes", {
          width: r,
          dataAttr: !!n
        }), i.defaultPrevented || (r = i.detail.width, r && r !== e._lazysizesWidth && t(e, s, i, r)))
      }, s = function () {
        var t, n = e.length;
        if (n) {
          t = 0;
          for (; t < n; t++) i(e[t])
        }
      }, o = L(s);
      return {
        _: function () {
          e = n.getElementsByClassName(r.autosizesClass), f("resize", o)
        }, checkElems: o, updateElem: i
      }
    }(), M = function () {
      M.i || (M.i = !0, O._(), A._())
    };
  return function () {
    var e, n = {
      lazyClass: "lazyload",
      loadedClass: "lazyloaded",
      loadingClass: "lazyloading",
      preloadClass: "lazypreload",
      errorClass: "lazyerror",
      autosizesClass: "lazyautosizes",
      srcAttr: "data-src",
      srcsetAttr: "data-srcset",
      sizesAttr: "data-sizes",
      minSize: 40,
      customMedia: {},
      init: !0,
      expFactor: 1.5,
      hFac: .8,
      loadMode: 2
    };
    r = t.lazySizesConfig || t.lazysizesConfig || {};
    for (e in n) e in r || (r[e] = n[e]);
    t.lazySizesConfig = r, l(function () {
      r.init && M()
    })
  }(), {cfg: r, autoSizer: O, loader: A, init: M, uP: S, aC: y, rC: b, hC: g, fire: E, gW: T, rAF: N}
}), define("lazy", function () {
}), function (e) {
  function n() {
  }

  function r(e) {
    function r(t) {
      if (t.prototype.option) return;
      t.prototype.option = function (t) {
        if (!e.isPlainObject(t)) return;
        this.options = e.extend(!0, this.options, t)
      }
    }

    function s(n, r) {
      e.fn[n] = function (s) {
        if (typeof s == "string") {
          var o = t.call(arguments, 1);
          for (var u = 0, a = this.length; u < a; u++) {
            var f = this[u], l = e.data(f, n);
            if (!l) {
              i("cannot call methods on " + n + " prior to initialization; " + "attempted to call '" + s + "'");
              continue
            }
            if (!e.isFunction(l[s]) || s.charAt(0) === "_") {
              i("no such method '" + s + "' for " + n + " instance");
              continue
            }
            var c = l[s].apply(l, o);
            if (c !== undefined) return c
          }
          return this
        }
        return this.each(function () {
          var t = e.data(this, n);
          t ? (t.option(s), t._init()) : (t = new r(this, s), e.data(this, n, t))
        })
      }
    }

    if (!e) return;
    var i = typeof console == "undefined" ? n : function (e) {
      console.error(e)
    };
    return e.bridget = function (e, t) {
      r(t), s(e, t)
    }, e.bridget
  }

  var t = Array.prototype.slice;
  typeof define == "function" && define.amd ? define("jquery-bridget/jquery.bridget", ["jquery"], r) : typeof exports == "object" ? r(require("jquery")) : r(e.jQuery)
}(window), function (e) {
  function r(t) {
    var n = e.event;
    return n.target = n.target || n.srcElement || t, n
  }

  var t = document.documentElement, n = function () {
  };
  t.addEventListener ? n = function (e, t, n) {
    e.addEventListener(t, n, !1)
  } : t.attachEvent && (n = function (e, t, n) {
    e[t + n] = n.handleEvent ? function () {
      var t = r(e);
      n.handleEvent.call(n, t)
    } : function () {
      var t = r(e);
      n.call(e, t)
    }, e.attachEvent("on" + t, e[t + n])
  });
  var i = function () {
  };
  t.removeEventListener ? i = function (e, t, n) {
    e.removeEventListener(t, n, !1)
  } : t.detachEvent && (i = function (e, t, n) {
    e.detachEvent("on" + t, e[t + n]);
    try {
      delete e[t + n]
    } catch (r) {
      e[t + n] = undefined
    }
  });
  var s = {bind: n, unbind: i};
  typeof define == "function" && define.amd ? define("eventie/eventie", s) : typeof exports == "object" ? module.exports = s : e.eventie = s
}(window), function () {
  function e() {
  }

  function i(e, t) {
    var n = e.length;
    while (n--) if (e[n].listener === t) return n;
    return -1
  }

  function s(e) {
    return function () {
      return this[e].apply(this, arguments)
    }
  }

  var t = e.prototype, n = this, r = n.EventEmitter;
  t.getListeners = function (t) {
    var n = this._getEvents(), r, i;
    if (t instanceof RegExp) {
      r = {};
      for (i in n) n.hasOwnProperty(i) && t.test(i) && (r[i] = n[i])
    } else r = n[t] || (n[t] = []);
    return r
  }, t.flattenListeners = function (t) {
    var n = [], r;
    for (r = 0; r < t.length; r += 1) n.push(t[r].listener);
    return n
  }, t.getListenersAsObject = function (t) {
    var n = this.getListeners(t), r;
    return n instanceof Array && (r = {}, r[t] = n), r || n
  }, t.addListener = function (t, n) {
    var r = this.getListenersAsObject(t), s = typeof n == "object", o;
    for (o in r) r.hasOwnProperty(o) && i(r[o], n) === -1 && r[o].push(s ? n : {listener: n, once: !1});
    return this
  }, t.on = s("addListener"), t.addOnceListener = function (t, n) {
    return this.addListener(t, {listener: n, once: !0})
  }, t.once = s("addOnceListener"), t.defineEvent = function (t) {
    return this.getListeners(t), this
  }, t.defineEvents = function (t) {
    for (var n = 0; n < t.length; n += 1) this.defineEvent(t[n]);
    return this
  }, t.removeListener = function (t, n) {
    var r = this.getListenersAsObject(t), s, o;
    for (o in r) r.hasOwnProperty(o) && (s = i(r[o], n), s !== -1 && r[o].splice(s, 1));
    return this
  }, t.off = s("removeListener"), t.addListeners = function (t, n) {
    return this.manipulateListeners(!1, t, n)
  }, t.removeListeners = function (t, n) {
    return this.manipulateListeners(!0, t, n)
  }, t.manipulateListeners = function (t, n, r) {
    var i, s, o = t ? this.removeListener : this.addListener, u = t ? this.removeListeners : this.addListeners;
    if (typeof n != "object" || n instanceof RegExp) {
      i = r.length;
      while (i--) o.call(this, n, r[i])
    } else for (i in n) n.hasOwnProperty(i) && (s = n[i]) && (typeof s == "function" ? o.call(this, i, s) : u.call(this, i, s));
    return this
  }, t.removeEvent = function (t) {
    var n = typeof t, r = this._getEvents(), i;
    if (n === "string") delete r[t]; else if (t instanceof RegExp) for (i in r) r.hasOwnProperty(i) && t.test(i) && delete r[i]; else delete this._events;
    return this
  }, t.removeAllListeners = s("removeEvent"), t.emitEvent = function (t, n) {
    var r = this.getListenersAsObject(t), i, s, o, u;
    for (o in r) if (r.hasOwnProperty(o)) {
      s = r[o].length;
      while (s--) i = r[o][s], i.once === !0 && this.removeListener(t, i.listener), u = i.listener.apply(this, n || []), u === this._getOnceReturnValue() && this.removeListener(t, i.listener)
    }
    return this
  }, t.trigger = s("emitEvent"), t.emit = function (t) {
    var n = Array.prototype.slice.call(arguments, 1);
    return this.emitEvent(t, n)
  }, t.setOnceReturnValue = function (t) {
    return this._onceReturnValue = t, this
  }, t._getOnceReturnValue = function () {
    return this.hasOwnProperty("_onceReturnValue") ? this._onceReturnValue : !0
  }, t._getEvents = function () {
    return this._events || (this._events = {})
  }, e.noConflict = function () {
    return n.EventEmitter = r, e
  }, typeof define == "function" && define.amd ? define("eventEmitter/EventEmitter", [], function () {
    return e
  }) : typeof module == "object" && module.exports ? module.exports = e : n.EventEmitter = e
}.call(this), function (e) {
  function r(e) {
    if (!e) return;
    if (typeof n[e] == "string") return e;
    e = e.charAt(0).toUpperCase() + e.slice(1);
    var r;
    for (var i = 0, s = t.length; i < s; i++) {
      r = t[i] + e;
      if (typeof n[r] == "string") return r
    }
  }

  var t = "Webkit Moz ms Ms O".split(" "), n = document.documentElement.style;
  typeof define == "function" && define.amd ? define("get-style-property/get-style-property", [], function () {
    return r
  }) : typeof exports == "object" ? module.exports = r : e.getStyleProperty = r
}(window), function (e, t) {
  function n(e) {
    var t = parseFloat(e), n = e.indexOf("%") === -1 && !isNaN(t);
    return n && t
  }

  function r() {
  }

  function o() {
    var e = {width: 0, height: 0, innerWidth: 0, innerHeight: 0, outerWidth: 0, outerHeight: 0};
    for (var t = 0, n = s.length; t < n; t++) {
      var r = s[t];
      e[r] = 0
    }
    return e
  }

  function u(t) {
    function l() {
      if (r) return;
      r = !0;
      var s = e.getComputedStyle;
      u = function () {
        var e = s ? function (e) {
          return s(e, null)
        } : function (e) {
          return e.currentStyle
        };
        return function (n) {
          var r = e(n);
          return r || i("Style returned " + r + ". Are you running this code in a hidden iframe on Firefox? " + "See http://bit.ly/getsizebug1"), r
        }
      }(), a = t("boxSizing");
      if (a) {
        var o = document.createElement("div");
        o.style.width = "200px", o.style.padding = "1px 2px 3px 4px", o.style.borderStyle = "solid", o.style.borderWidth = "1px 2px 3px 4px", o.style[a] = "border-box";
        var l = document.body || document.documentElement;
        l.appendChild(o);
        var c = u(o);
        f = n(c.width) === 200, l.removeChild(o)
      }
    }

    function c(e) {
      l(), typeof e == "string" && (e = document.querySelector(e));
      if (!e || typeof e != "object" || !e.nodeType) return;
      var t = u(e);
      if (t.display === "none") return o();
      var r = {};
      r.width = e.offsetWidth, r.height = e.offsetHeight;
      var i = r.isBorderBox = !!a && !!t[a] && t[a] === "border-box";
      for (var c = 0, p = s.length; c < p; c++) {
        var d = s[c], v = t[d];
        v = h(e, v);
        var m = parseFloat(v);
        r[d] = isNaN(m) ? 0 : m
      }
      var g = r.paddingLeft + r.paddingRight, y = r.paddingTop + r.paddingBottom, b = r.marginLeft + r.marginRight,
        w = r.marginTop + r.marginBottom, E = r.borderLeftWidth + r.borderRightWidth,
        S = r.borderTopWidth + r.borderBottomWidth, x = i && f, T = n(t.width);
      T !== !1 && (r.width = T + (x ? 0 : g + E));
      var N = n(t.height);
      return N !== !1 && (r.height = N + (x ? 0 : y + S)), r.innerWidth = r.width - (g + E), r.innerHeight = r.height - (y + S), r.outerWidth = r.width + b, r.outerHeight = r.height + w, r
    }

    function h(t, n) {
      if (e.getComputedStyle || n.indexOf("%") === -1) return n;
      var r = t.style, i = r.left, s = t.runtimeStyle, o = s && s.left;
      return o && (s.left = t.currentStyle.left), r.left = n, n = r.pixelLeft, r.left = i, o && (s.left = o), n
    }

    var r = !1, u, a, f;
    return c
  }

  var i = typeof console == "undefined" ? r : function (e) {
      console.error(e)
    },
    s = ["paddingLeft", "paddingRight", "paddingTop", "paddingBottom", "marginLeft", "marginRight", "marginTop", "marginBottom", "borderLeftWidth", "borderRightWidth", "borderTopWidth", "borderBottomWidth"];
  typeof define == "function" && define.amd ? define("get-size/get-size", ["get-style-property/get-style-property"], u) : typeof exports == "object" ? module.exports = u(require("desandro-get-style-property")) : e.getSize = u(e.getStyleProperty)
}(window), function (e) {
  function r(e) {
    if (typeof e != "function") return;
    r.isReady ? e() : n.push(e)
  }

  function i(e) {
    var n = e.type === "readystatechange" && t.readyState !== "complete";
    if (r.isReady || n) return;
    s()
  }

  function s() {
    r.isReady = !0;
    for (var e = 0, t = n.length; e < t; e++) {
      var i = n[e];
      i()
    }
  }

  function o(n) {
    return t.readyState === "complete" ? s() : (n.bind(t, "DOMContentLoaded", i), n.bind(t, "readystatechange", i), n.bind(e, "load", i)), r
  }

  var t = e.document, n = [];
  r.isReady = !1, typeof define == "function" && define.amd ? define("doc-ready/doc-ready", ["eventie/eventie"], o) : typeof exports == "object" ? module.exports = o(require("eventie")) : e.docReady = o(e.eventie)
}(window), function (e) {
  function n(e, n) {
    return e[t](n)
  }

  function r(e) {
    if (e.parentNode) return;
    var t = document.createDocumentFragment();
    t.appendChild(e)
  }

  function i(e, t) {
    r(e);
    var n = e.parentNode.querySelectorAll(t);
    for (var i = 0, s = n.length; i < s; i++) if (n[i] === e) return !0;
    return !1
  }

  function s(e, t) {
    return r(e), n(e, t)
  }

  var t = function () {
    if (e.matches) return "matches";
    if (e.matchesSelector) return "matchesSelector";
    var t = ["webkit", "moz", "ms", "o"];
    for (var n = 0, r = t.length; n < r; n++) {
      var i = t[n], s = i + "MatchesSelector";
      if (e[s]) return s
    }
  }(), o;
  if (t) {
    var u = document.createElement("div"), a = n(u, "div");
    o = a ? n : s
  } else o = i;
  typeof define == "function" && define.amd ? define("matches-selector/matches-selector", [], function () {
    return o
  }) : typeof exports == "object" ? module.exports = o : window.matchesSelector = o
}(Element.prototype), function (e, t) {
  typeof define == "function" && define.amd ? define("fizzy-ui-utils/utils", ["doc-ready/doc-ready", "matches-selector/matches-selector"], function (n, r) {
    return t(e, n, r)
  }) : typeof exports == "object" ? module.exports = t(e, require("doc-ready"), require("desandro-matches-selector")) : e.fizzyUIUtils = t(e, e.docReady, e.matchesSelector)
}(window, function (t, n, r) {
  var i = {};
  i.extend = function (e, t) {
    for (var n in t) e[n] = t[n];
    return e
  }, i.modulo = function (e, t) {
    return (e % t + t) % t
  };
  var s = Object.prototype.toString;
  i.isArray = function (e) {
    return s.call(e) == "[object Array]"
  }, i.makeArray = function (e) {
    var t = [];
    if (i.isArray(e)) t = e; else if (e && typeof e.length == "number") for (var n = 0, r = e.length; n < r; n++) t.push(e[n]); else t.push(e);
    return t
  }, i.indexOf = Array.prototype.indexOf ? function (e, t) {
    return e.indexOf(t)
  } : function (e, t) {
    for (var n = 0, r = e.length; n < r; n++) if (e[n] === t) return n;
    return -1
  }, i.removeFrom = function (e, t) {
    var n = i.indexOf(e, t);
    n != -1 && e.splice(n, 1)
  }, i.isElement = typeof HTMLElement == "function" || typeof HTMLElement == "object" ? function (t) {
    return t instanceof HTMLElement
  } : function (t) {
    return t && typeof t == "object" && t.nodeType == 1 && typeof t.nodeName == "string"
  }, i.setText = function () {
    function t(t, n) {
      e = e || (document.documentElement.textContent !== undefined ? "textContent" : "innerText"), t[e] = n
    }

    var e;
    return t
  }(), i.getParent = function (e, t) {
    while (e != document.body) {
      e = e.parentNode;
      if (r(e, t)) return e
    }
  }, i.getQueryElement = function (e) {
    return typeof e == "string" ? document.querySelector(e) : e
  }, i.handleEvent = function (e) {
    var t = "on" + e.type;
    this[t] && this[t](e)
  }, i.filterFindElements = function (e, t) {
    e = i.makeArray(e);
    var n = [];
    for (var s = 0, o = e.length; s < o; s++) {
      var u = e[s];
      if (!i.isElement(u)) continue;
      if (t) {
        r(u, t) && n.push(u);
        var a = u.querySelectorAll(t);
        for (var f = 0, l = a.length; f < l; f++) n.push(a[f])
      } else n.push(u)
    }
    return n
  }, i.debounceMethod = function (e, t, n) {
    var r = e.prototype[t], i = t + "Timeout";
    e.prototype[t] = function () {
      var e = this[i];
      e && clearTimeout(e);
      var t = arguments, s = this;
      this[i] = setTimeout(function () {
        r.apply(s, t), delete s[i]
      }, n || 100)
    }
  }, i.toDashed = function (e) {
    return e.replace(/(.)([A-Z])/g, function (e, t, n) {
      return t + "-" + n
    }).toLowerCase()
  };
  var o = t.console;
  return i.htmlInit = function (e, r) {
    n(function () {
      var n = i.toDashed(r), s = document.querySelectorAll(".js-" + n), u = "data-" + n + "-options";
      for (var a = 0, f = s.length; a < f; a++) {
        var l = s[a], c = l.getAttribute(u), h;
        try {
          h = c && JSON.parse(c)
        } catch (p) {
          o && o.error("Error parsing " + u + " on " + l.nodeName.toLowerCase() + (l.id ? "#" + l.id : "") + ": " + p);
          continue
        }
        var d = new e(l, h), v = t.jQuery;
        v && v.data(l, r, d)
      }
    })
  }, i
}), function (e, t) {
  typeof define == "function" && define.amd ? define("outlayer/item", ["eventEmitter/EventEmitter", "get-size/get-size", "get-style-property/get-style-property", "fizzy-ui-utils/utils"], function (n, r, i, s) {
    return t(e, n, r, i, s)
  }) : typeof exports == "object" ? module.exports = t(e, require("wolfy87-eventemitter"), require("get-size"), require("desandro-get-style-property"), require("fizzy-ui-utils")) : (e.Outlayer = {}, e.Outlayer.Item = t(e, e.EventEmitter, e.getSize, e.getStyleProperty, e.fizzyUIUtils))
}(window, function (t, n, r, i, s) {
  function a(e) {
    for (var t in e) return !1;
    return t = null, !0
  }

  function m(e, t) {
    if (!e) return;
    this.element = e, this.layout = t, this.position = {x: 0, y: 0}, this._create()
  }

  function g(e) {
    return e.replace(/([A-Z])/g, function (e) {
      return "-" + e.toLowerCase()
    })
  }

  var o = t.getComputedStyle, u = o ? function (e) {
    return o(e, null)
  } : function (e) {
    return e.currentStyle
  }, f = i("transition"), l = i("transform"), c = f && l, h = !!i("perspective"), p = {
    WebkitTransition: "webkitTransitionEnd",
    MozTransition: "transitionend",
    OTransition: "otransitionend",
    transition: "transitionend"
  }[f], d = ["transform", "transition", "transitionDuration", "transitionProperty"], v = function () {
    var e = {};
    for (var t = 0, n = d.length; t < n; t++) {
      var r = d[t], s = i(r);
      s && s !== r && (e[r] = s)
    }
    return e
  }();
  s.extend(m.prototype, n.prototype), m.prototype._create = function () {
    this._transn = {ingProperties: {}, clean: {}, onEnd: {}}, this.css({position: "absolute"})
  }, m.prototype.handleEvent = function (e) {
    var t = "on" + e.type;
    this[t] && this[t](e)
  }, m.prototype.getSize = function () {
    this.size = r(this.element)
  }, m.prototype.css = function (e) {
    var t = this.element.style;
    for (var n in e) {
      var r = v[n] || n;
      t[r] = e[n]
    }
  }, m.prototype.getPosition = function () {
    var e = u(this.element), t = this.layout.options, n = t.isOriginLeft, r = t.isOriginTop,
      i = e[n ? "left" : "right"], s = e[r ? "top" : "bottom"], o = this.layout.size,
      a = i.indexOf("%") != -1 ? parseFloat(i) / 100 * o.width : parseInt(i, 10),
      f = s.indexOf("%") != -1 ? parseFloat(s) / 100 * o.height : parseInt(s, 10);
    a = isNaN(a) ? 0 : a, f = isNaN(f) ? 0 : f, a -= n ? o.paddingLeft : o.paddingRight, f -= r ? o.paddingTop : o.paddingBottom, this.position.x = a, this.position.y = f
  }, m.prototype.layoutPosition = function () {
    var e = this.layout.size, t = this.layout.options, n = {}, r = t.isOriginLeft ? "paddingLeft" : "paddingRight",
      i = t.isOriginLeft ? "left" : "right", s = t.isOriginLeft ? "right" : "left", o = this.position.x + e[r];
    n[i] = this.getXValue(o), n[s] = "";
    var u = t.isOriginTop ? "paddingTop" : "paddingBottom", a = t.isOriginTop ? "top" : "bottom",
      f = t.isOriginTop ? "bottom" : "top", l = this.position.y + e[u];
    n[a] = this.getYValue(l), n[f] = "", this.css(n), this.emitEvent("layout", [this])
  }, m.prototype.getXValue = function (e) {
    var t = this.layout.options;
    return t.percentPosition && !t.isHorizontal ? e / this.layout.size.width * 100 + "%" : e + "px"
  }, m.prototype.getYValue = function (e) {
    var t = this.layout.options;
    return t.percentPosition && t.isHorizontal ? e / this.layout.size.height * 100 + "%" : e + "px"
  }, m.prototype._transitionTo = function (e, t) {
    this.getPosition();
    var n = this.position.x, r = this.position.y, i = parseInt(e, 10), s = parseInt(t, 10),
      o = i === this.position.x && s === this.position.y;
    this.setPosition(e, t);
    if (o && !this.isTransitioning) {
      this.layoutPosition();
      return
    }
    var u = e - n, a = t - r, f = {};
    f.transform = this.getTranslate(u, a), this.transition({
      to: f,
      onTransitionEnd: {transform: this.layoutPosition},
      isCleaning: !0
    })
  }, m.prototype.getTranslate = function (e, t) {
    var n = this.layout.options;
    return e = n.isOriginLeft ? e : -e, t = n.isOriginTop ? t : -t, h ? "translate3d(" + e + "px, " + t + "px, 0)" : "translate(" + e + "px, " + t + "px)"
  }, m.prototype.goTo = function (e, t) {
    this.setPosition(e, t), this.layoutPosition()
  }, m.prototype.moveTo = c ? m.prototype._transitionTo : m.prototype.goTo, m.prototype.setPosition = function (e, t) {
    this.position.x = parseInt(e, 10), this.position.y = parseInt(t, 10)
  }, m.prototype._nonTransition = function (e) {
    this.css(e.to), e.isCleaning && this._removeStyles(e.to);
    for (var t in e.onTransitionEnd) e.onTransitionEnd[t].call(this)
  }, m.prototype._transition = function (e) {
    if (!parseFloat(this.layout.options.transitionDuration)) {
      this._nonTransition(e);
      return
    }
    var t = this._transn;
    for (var n in e.onTransitionEnd) t.onEnd[n] = e.onTransitionEnd[n];
    for (n in e.to) t.ingProperties[n] = !0, e.isCleaning && (t.clean[n] = !0);
    if (e.from) {
      this.css(e.from);
      var r = this.element.offsetHeight;
      r = null
    }
    this.enableTransition(e.to), this.css(e.to), this.isTransitioning = !0
  };
  var y = "opacity," + g(v.transform || "transform");
  m.prototype.enableTransition = function () {
    if (this.isTransitioning) return;
    this.css({
      transitionProperty: y,
      transitionDuration: this.layout.options.transitionDuration
    }), this.element.addEventListener(p, this, !1)
  }, m.prototype.transition = m.prototype[f ? "_transition" : "_nonTransition"], m.prototype.onwebkitTransitionEnd = function (e) {
    this.ontransitionend(e)
  }, m.prototype.onotransitionend = function (e) {
    this.ontransitionend(e)
  };
  var b = {"-webkit-transform": "transform", "-moz-transform": "transform", "-o-transform": "transform"};
  m.prototype.ontransitionend = function (e) {
    if (e.target !== this.element) return;
    var t = this._transn, n = b[e.propertyName] || e.propertyName;
    delete t.ingProperties[n], a(t.ingProperties) && this.disableTransition(), n in t.clean && (this.element.style[e.propertyName] = "", delete t.clean[n]);
    if (n in t.onEnd) {
      var r = t.onEnd[n];
      r.call(this), delete t.onEnd[n]
    }
    this.emitEvent("transitionEnd", [this])
  }, m.prototype.disableTransition = function () {
    this.removeTransitionStyles(), this.element.removeEventListener(p, this, !1), this.isTransitioning = !1
  }, m.prototype._removeStyles = function (e) {
    var t = {};
    for (var n in e) t[n] = "";
    this.css(t)
  };
  var w = {transitionProperty: "", transitionDuration: ""};
  return m.prototype.removeTransitionStyles = function () {
    this.css(w)
  }, m.prototype.removeElem = function () {
    this.element.parentNode.removeChild(this.element), this.css({display: ""}), this.emitEvent("remove", [this])
  }, m.prototype.remove = function () {
    if (!f || !parseFloat(this.layout.options.transitionDuration)) {
      this.removeElem();
      return
    }
    var e = this;
    this.once("transitionEnd", function () {
      e.removeElem()
    }), this.hide()
  }, m.prototype.reveal = function () {
    delete this.isHidden, this.css({display: ""});
    var e = this.layout.options, t = {}, n = this.getHideRevealTransitionEndProperty("visibleStyle");
    t[n] = this.onRevealTransitionEnd, this.transition({
      from: e.hiddenStyle,
      to: e.visibleStyle,
      isCleaning: !0,
      onTransitionEnd: t
    })
  }, m.prototype.onRevealTransitionEnd = function () {
    this.isHidden || this.emitEvent("reveal")
  }, m.prototype.getHideRevealTransitionEndProperty = function (e) {
    var t = this.layout.options[e];
    if (t.opacity) return "opacity";
    for (var n in t) return n
  }, m.prototype.hide = function () {
    this.isHidden = !0, this.css({display: ""});
    var e = this.layout.options, t = {}, n = this.getHideRevealTransitionEndProperty("hiddenStyle");
    t[n] = this.onHideTransitionEnd, this.transition({
      from: e.visibleStyle,
      to: e.hiddenStyle,
      isCleaning: !0,
      onTransitionEnd: t
    })
  }, m.prototype.onHideTransitionEnd = function () {
    this.isHidden && (this.css({display: "none"}), this.emitEvent("hide"))
  }, m.prototype.destroy = function () {
    this.css({position: "", left: "", right: "", top: "", bottom: "", transition: "", transform: ""})
  }, m
}), function (e, t) {
  typeof define == "function" && define.amd ? define("outlayer/outlayer", ["eventie/eventie", "eventEmitter/EventEmitter", "get-size/get-size", "fizzy-ui-utils/utils", "./item"], function (n, r, i, s, o) {
    return t(e, n, r, i, s, o)
  }) : typeof exports == "object" ? module.exports = t(e, require("eventie"), require("wolfy87-eventemitter"), require("get-size"), require("fizzy-ui-utils"), require("./item")) : e.Outlayer = t(e, e.eventie, e.EventEmitter, e.getSize, e.fizzyUIUtils, e.Outlayer.Item)
}(window, function (t, n, r, i, s, o) {
  function h(e, t) {
    var n = s.getQueryElement(e);
    if (!n) {
      u && u.error("Bad element for " + this.constructor.namespace + ": " + (n || e));
      return
    }
    this.element = n, a && (this.$element = a(this.element)), this.options = s.extend({}, this.constructor.defaults), this.option(t);
    var r = ++l;
    this.element.outlayerGUID = r, c[r] = this, this._create(), this.options.isInitLayout && this.layout()
  }

  var u = t.console, a = t.jQuery, f = function () {
  }, l = 0, c = {};
  return h.namespace = "outlayer", h.Item = o, h.defaults = {
    containerStyle: {position: "relative"},
    isInitLayout: !0,
    isOriginLeft: !0,
    isOriginTop: !0,
    isResizeBound: !0,
    isResizingContainer: !0,
    transitionDuration: "0.4s",
    hiddenStyle: {opacity: 0, transform: "scale(0.001)"},
    visibleStyle: {opacity: 1, transform: "scale(1)"}
  }, s.extend(h.prototype, r.prototype), h.prototype.option = function (e) {
    s.extend(this.options, e)
  }, h.prototype._create = function () {
    this.reloadItems(), this.stamps = [], this.stamp(this.options.stamp), s.extend(this.element.style, this.options.containerStyle), this.options.isResizeBound && this.bindResize()
  }, h.prototype.reloadItems = function () {
    this.items = this._itemize(this.element.children)
  }, h.prototype._itemize = function (e) {
    var t = this._filterFindItemElements(e), n = this.constructor.Item, r = [];
    for (var i = 0, s = t.length; i < s; i++) {
      var o = t[i], u = new n(o, this);
      r.push(u)
    }
    return r
  }, h.prototype._filterFindItemElements = function (e) {
    return s.filterFindElements(e, this.options.itemSelector)
  }, h.prototype.getItemElements = function () {
    var e = [];
    for (var t = 0, n = this.items.length; t < n; t++) e.push(this.items[t].element);
    return e
  }, h.prototype.layout = function () {
    this._resetLayout(), this._manageStamps();
    var e = this.options.isLayoutInstant !== undefined ? this.options.isLayoutInstant : !this._isLayoutInited;
    this.layoutItems(this.items, e), this._isLayoutInited = !0
  }, h.prototype._init = h.prototype.layout, h.prototype._resetLayout = function () {
    this.getSize()
  }, h.prototype.getSize = function () {
    this.size = i(this.element)
  }, h.prototype._getMeasurement = function (e, t) {
    var n = this.options[e], r;
    n ? (typeof n == "string" ? r = this.element.querySelector(n) : s.isElement(n) && (r = n), this[e] = r ? i(r)[t] : n) : this[e] = 0
  }, h.prototype.layoutItems = function (e, t) {
    e = this._getItemsForLayout(e), this._layoutItems(e, t), this._postLayout()
  }, h.prototype._getItemsForLayout = function (e) {
    var t = [];
    for (var n = 0, r = e.length; n < r; n++) {
      var i = e[n];
      i.isIgnored || t.push(i)
    }
    return t
  }, h.prototype._layoutItems = function (e, t) {
    this._emitCompleteOnItems("layout", e);
    if (!e || !e.length) return;
    var n = [];
    for (var r = 0, i = e.length; r < i; r++) {
      var s = e[r], o = this._getItemLayoutPosition(s);
      o.item = s, o.isInstant = t || s.isLayoutInstant, n.push(o)
    }
    this._processLayoutQueue(n)
  }, h.prototype._getItemLayoutPosition = function () {
    return {x: 0, y: 0}
  }, h.prototype._processLayoutQueue = function (e) {
    for (var t = 0, n = e.length; t < n; t++) {
      var r = e[t];
      this._positionItem(r.item, r.x, r.y, r.isInstant)
    }
  }, h.prototype._positionItem = function (e, t, n, r) {
    r ? e.goTo(t, n) : e.moveTo(t, n)
  }, h.prototype._postLayout = function () {
    this.resizeContainer()
  }, h.prototype.resizeContainer = function () {
    if (!this.options.isResizingContainer) return;
    var e = this._getContainerSize();
    e && (this._setContainerMeasure(e.width, !0), this._setContainerMeasure(e.height, !1))
  }, h.prototype._getContainerSize = f, h.prototype._setContainerMeasure = function (e, t) {
    if (e === undefined) return;
    var n = this.size;
    n.isBorderBox && (e += t ? n.paddingLeft + n.paddingRight + n.borderLeftWidth + n.borderRightWidth : n.paddingBottom + n.paddingTop + n.borderTopWidth + n.borderBottomWidth), e = Math.max(e, 0), this.element.style[t ? "width" : "height"] = e + "px"
  }, h.prototype._emitCompleteOnItems = function (e, t) {
    function r() {
      n.dispatchEvent(e + "Complete", null, [t])
    }

    function o() {
      s++, s === i && r()
    }

    var n = this, i = t.length;
    if (!t || !i) {
      r();
      return
    }
    var s = 0;
    for (var u = 0, a = t.length; u < a; u++) {
      var f = t[u];
      f.once(e, o)
    }
  }, h.prototype.dispatchEvent = function (e, t, n) {
    var r = t ? [t].concat(n) : n;
    this.emitEvent(e, r);
    if (a) {
      this.$element = this.$element || a(this.element);
      if (t) {
        var i = a.Event(t);
        i.type = e, this.$element.trigger(i, n)
      } else this.$element.trigger(e, n)
    }
  }, h.prototype.ignore = function (e) {
    var t = this.getItem(e);
    t && (t.isIgnored = !0)
  }, h.prototype.unignore = function (e) {
    var t = this.getItem(e);
    t && delete t.isIgnored
  }, h.prototype.stamp = function (e) {
    e = this._find(e);
    if (!e) return;
    this.stamps = this.stamps.concat(e);
    for (var t = 0, n = e.length; t < n; t++) {
      var r = e[t];
      this.ignore(r)
    }
  }, h.prototype.unstamp = function (e) {
    e = this._find(e);
    if (!e) return;
    for (var t = 0, n = e.length; t < n; t++) {
      var r = e[t];
      s.removeFrom(this.stamps, r), this.unignore(r)
    }
  }, h.prototype._find = function (e) {
    if (!e) return;
    return typeof e == "string" && (e = this.element.querySelectorAll(e)), e = s.makeArray(e), e
  }, h.prototype._manageStamps = function () {
    if (!this.stamps || !this.stamps.length) return;
    this._getBoundingRect();
    for (var e = 0, t = this.stamps.length; e < t; e++) {
      var n = this.stamps[e];
      this._manageStamp(n)
    }
  }, h.prototype._getBoundingRect = function () {
    var e = this.element.getBoundingClientRect(), t = this.size;
    this._boundingRect = {
      left: e.left + t.paddingLeft + t.borderLeftWidth,
      top: e.top + t.paddingTop + t.borderTopWidth,
      right: e.right - (t.paddingRight + t.borderRightWidth),
      bottom: e.bottom - (t.paddingBottom + t.borderBottomWidth)
    }
  }, h.prototype._manageStamp = f, h.prototype._getElementOffset = function (e) {
    var t = e.getBoundingClientRect(), n = this._boundingRect, r = i(e), s = {
      left: t.left - n.left - r.marginLeft,
      top: t.top - n.top - r.marginTop,
      right: n.right - t.right - r.marginRight,
      bottom: n.bottom - t.bottom - r.marginBottom
    };
    return s
  }, h.prototype.handleEvent = function (e) {
    var t = "on" + e.type;
    this[t] && this[t](e)
  }, h.prototype.bindResize = function () {
    if (this.isResizeBound) return;
    n.bind(t, "resize", this), this.isResizeBound = !0
  }, h.prototype.unbindResize = function () {
    this.isResizeBound && n.unbind(t, "resize", this), this.isResizeBound = !1
  }, h.prototype.onresize = function () {
    function t() {
      e.resize(), delete e.resizeTimeout
    }

    this.resizeTimeout && clearTimeout(this.resizeTimeout);
    var e = this;
    this.resizeTimeout = setTimeout(t, 100)
  }, h.prototype.resize = function () {
    if (!this.isResizeBound || !this.needsResizeLayout()) return;
    this.layout()
  }, h.prototype.needsResizeLayout = function () {
    var e = i(this.element), t = this.size && e;
    return t && e.innerWidth !== this.size.innerWidth
  }, h.prototype.addItems = function (e) {
    var t = this._itemize(e);
    return t.length && (this.items = this.items.concat(t)), t
  }, h.prototype.appended = function (e) {
    var t = this.addItems(e);
    if (!t.length) return;
    this.layoutItems(t, !0), this.reveal(t)
  }, h.prototype.prepended = function (e) {
    var t = this._itemize(e);
    if (!t.length) return;
    var n = this.items.slice(0);
    this.items = t.concat(n), this._resetLayout(), this._manageStamps(), this.layoutItems(t, !0), this.reveal(t), this.layoutItems(n)
  }, h.prototype.reveal = function (e) {
    this._emitCompleteOnItems("reveal", e);
    var t = e && e.length;
    for (var n = 0; t && n < t; n++) {
      var r = e[n];
      r.reveal()
    }
  }, h.prototype.hide = function (e) {
    this._emitCompleteOnItems("hide", e);
    var t = e && e.length;
    for (var n = 0; t && n < t; n++) {
      var r = e[n];
      r.hide()
    }
  }, h.prototype.revealItemElements = function (e) {
    var t = this.getItems(e);
    this.reveal(t)
  }, h.prototype.hideItemElements = function (e) {
    var t = this.getItems(e);
    this.hide(t)
  }, h.prototype.getItem = function (e) {
    for (var t = 0, n = this.items.length; t < n; t++) {
      var r = this.items[t];
      if (r.element === e) return r
    }
  }, h.prototype.getItems = function (e) {
    e = s.makeArray(e);
    var t = [];
    for (var n = 0, r = e.length; n < r; n++) {
      var i = e[n], o = this.getItem(i);
      o && t.push(o)
    }
    return t
  }, h.prototype.remove = function (e) {
    var t = this.getItems(e);
    this._emitCompleteOnItems("remove", t);
    if (!t || !t.length) return;
    for (var n = 0, r = t.length; n < r; n++) {
      var i = t[n];
      i.remove(), s.removeFrom(this.items, i)
    }
  }, h.prototype.destroy = function () {
    var e = this.element.style;
    e.height = "", e.position = "", e.width = "";
    for (var t = 0, n = this.items.length; t < n; t++) {
      var r = this.items[t];
      r.destroy()
    }
    this.unbindResize();
    var i = this.element.outlayerGUID;
    delete c[i], delete this.element.outlayerGUID, a && a.removeData(this.element, this.constructor.namespace)
  }, h.data = function (e) {
    e = s.getQueryElement(e);
    var t = e && e.outlayerGUID;
    return t && c[t]
  }, h.create = function (e, t) {
    function n() {
      h.apply(this, arguments)
    }

    return Object.create ? n.prototype = Object.create(h.prototype) : s.extend(n.prototype, h.prototype), n.prototype.constructor = n, n.defaults = s.extend({}, h.defaults), s.extend(n.defaults, t), n.prototype.settings = {}, n.namespace = e, n.data = h.data, n.Item = function () {
      o.apply(this, arguments)
    }, n.Item.prototype = new o, s.htmlInit(n, e), a && a.bridget && a.bridget(e, n), n
  }, h.Item = o, h
}), function (e, t) {
  typeof define == "function" && define.amd ? define("masonry", ["outlayer/outlayer", "get-size/get-size", "fizzy-ui-utils/utils"], t) : typeof exports == "object" ? module.exports = t(require("outlayer"), require("get-size"), require("fizzy-ui-utils")) : e.Masonry = t(e.Outlayer, e.getSize, e.fizzyUIUtils)
}(window, function (t, n, r) {
  var i = t.create("masonry");
  return i.prototype._resetLayout = function () {
    this.getSize(), this._getMeasurement("columnWidth", "outerWidth"), this._getMeasurement("gutter", "outerWidth"), this.measureColumns();
    var e = this.cols;
    this.colYs = [];
    while (e--) this.colYs.push(0);
    this.maxY = 0
  }, i.prototype.measureColumns = function () {
    this.getContainerWidth();
    if (!this.columnWidth) {
      var e = this.items[0], t = e && e.element;
      this.columnWidth = t && n(t).outerWidth || this.containerWidth
    }
    var r = this.columnWidth += this.gutter, i = this.containerWidth + this.gutter, s = i / r, o = r - i % r,
      u = o && o < 1 ? "round" : "floor";
    s = Math[u](s), this.cols = Math.max(s, 1)
  }, i.prototype.getContainerWidth = function () {
    var e = this.options.isFitWidth ? this.element.parentNode : this.element, t = n(e);
    this.containerWidth = t && t.innerWidth
  }, i.prototype._getItemLayoutPosition = function (e) {
    e.getSize();
    var t = e.size.outerWidth % this.columnWidth, n = t && t < 1 ? "round" : "ceil",
      i = Math[n](e.size.outerWidth / this.columnWidth);
    i = Math.min(i, this.cols);
    var s = this._getColGroup(i), o = Math.min.apply(Math, s), u = r.indexOf(s, o), a = {x: this.columnWidth * u, y: o},
      f = o + e.size.outerHeight, l = this.cols + 1 - s.length;
    for (var c = 0; c < l; c++) this.colYs[u + c] = f;
    return a
  }, i.prototype._getColGroup = function (e) {
    if (e < 2) return this.colYs;
    var t = [], n = this.cols + 1 - e;
    for (var r = 0; r < n; r++) {
      var i = this.colYs.slice(r, r + e);
      t[r] = Math.max.apply(Math, i)
    }
    return t
  }, i.prototype._manageStamp = function (e) {
    var t = n(e), r = this._getElementOffset(e), i = this.options.isOriginLeft ? r.left : r.right, s = i + t.outerWidth,
      o = Math.floor(i / this.columnWidth);
    o = Math.max(0, o);
    var u = Math.floor(s / this.columnWidth);
    u -= s % this.columnWidth ? 0 : 1, u = Math.min(this.cols - 1, u);
    var a = (this.options.isOriginTop ? r.top : r.bottom) + t.outerHeight;
    for (var f = o; f <= u; f++) this.colYs[f] = Math.max(a, this.colYs[f])
  }, i.prototype._getContainerSize = function () {
    this.maxY = Math.max.apply(Math, this.colYs);
    var e = {height: this.maxY};
    return this.options.isFitWidth && (e.width = this._getContainerFitWidth()), e
  }, i.prototype._getContainerFitWidth = function () {
    var e = 0, t = this.cols;
    while (--t) {
      if (this.colYs[t] !== 0) break;
      e++
    }
    return (this.cols - e) * this.columnWidth - this.gutter
  }, i.prototype.needsResizeLayout = function () {
    var e = this.containerWidth;
    return this.getContainerWidth(), e !== this.containerWidth
  }, i
}), function (e, t) {
  typeof define == "function" && define.amd ? define("transit", ["jquery"], t) : typeof exports == "object" ? module.exports = t(require("jquery")) : t(e.jQuery)
}(this, function (e) {
  function r(e) {
    if (e in t.style) return e;
    var n = ["Moz", "Webkit", "O", "ms"], r = e.charAt(0).toUpperCase() + e.substr(1);
    for (var i = 0; i < n.length; ++i) {
      var s = n[i] + r;
      if (s in t.style) return s
    }
  }

  function i() {
    return t.style[n.transform] = "", t.style[n.transform] = "rotateY(90deg)", t.style[n.transform] !== ""
  }

  function f(e) {
    return typeof e == "string" && this.parse(e), this
  }

  function l(e, t, n) {
    t === !0 ? e.queue(n) : t ? e.queue(t, n) : e.each(function () {
      n.call(this)
    })
  }

  function c(t) {
    var r = [];
    return e.each(t, function (t) {
      t = e.camelCase(t), t = e.transit.propertyMap[t] || e.cssProps[t] || t, t = d(t), n[t] && (t = d(n[t])), e.inArray(t, r) === -1 && r.push(t)
    }), r
  }

  function h(t, n, r, i) {
    var s = c(t);
    e.cssEase[r] && (r = e.cssEase[r]);
    var o = "" + m(n) + " " + r;
    parseInt(i, 10) > 0 && (o += " " + m(i));
    var u = [];
    return e.each(s, function (e, t) {
      u.push(t + " " + o)
    }), u.join(", ")
  }

  function p(t, r) {
    r || (e.cssNumber[t] = !0), e.transit.propertyMap[t] = n.transform, e.cssHooks[t] = {
      get: function (n) {
        var r = e(n).css("transit:transform");
        return r.get(t)
      }, set: function (n, r) {
        var i = e(n).css("transit:transform");
        i.setFromString(t, r), e(n).css({"transit:transform": i})
      }
    }
  }

  function d(e) {
    return e.replace(/([A-Z])/g, function (e) {
      return "-" + e.toLowerCase()
    })
  }

  function v(e, t) {
    return typeof e == "string" && !e.match(/^[\-0-9\.]+$/) ? e : "" + e + t
  }

  function m(t) {
    var n = t;
    return typeof n == "string" && !n.match(/^[\-0-9\.]+/) && (n = e.fx.speeds[n] || e.fx.speeds._default), v(n, "ms")
  }

  e.transit = {
    version: "0.9.12",
    propertyMap: {
      marginLeft: "margin",
      marginRight: "margin",
      marginBottom: "margin",
      marginTop: "margin",
      paddingLeft: "padding",
      paddingRight: "padding",
      paddingBottom: "padding",
      paddingTop: "padding"
    },
    enabled: !0,
    useTransitionEnd: !1
  };
  var t = document.createElement("div"), n = {}, s = navigator.userAgent.toLowerCase().indexOf("chrome") > -1;
  n.transition = r("transition"), n.transitionDelay = r("transitionDelay"), n.transform = r("transform"), n.transformOrigin = r("transformOrigin"), n.filter = r("Filter"), n.transform3d = i();
  var o = {
    transition: "transitionend",
    MozTransition: "transitionend",
    OTransition: "oTransitionEnd",
    WebkitTransition: "webkitTransitionEnd",
    msTransition: "MSTransitionEnd"
  }, u = n.transitionEnd = o[n.transition] || null;
  for (var a in n) n.hasOwnProperty(a) && typeof e.support[a] == "undefined" && (e.support[a] = n[a]);
  return t = null, e.cssEase = {
    _default: "ease",
    "in": "ease-in",
    out: "ease-out",
    "in-out": "ease-in-out",
    snap: "cubic-bezier(0,1,.5,1)",
    easeInCubic: "cubic-bezier(.550,.055,.675,.190)",
    easeOutCubic: "cubic-bezier(.215,.61,.355,1)",
    easeInOutCubic: "cubic-bezier(.645,.045,.355,1)",
    easeInCirc: "cubic-bezier(.6,.04,.98,.335)",
    easeOutCirc: "cubic-bezier(.075,.82,.165,1)",
    easeInOutCirc: "cubic-bezier(.785,.135,.15,.86)",
    easeInExpo: "cubic-bezier(.95,.05,.795,.035)",
    easeOutExpo: "cubic-bezier(.19,1,.22,1)",
    easeInOutExpo: "cubic-bezier(1,0,0,1)",
    easeInQuad: "cubic-bezier(.55,.085,.68,.53)",
    easeOutQuad: "cubic-bezier(.25,.46,.45,.94)",
    easeInOutQuad: "cubic-bezier(.455,.03,.515,.955)",
    easeInQuart: "cubic-bezier(.895,.03,.685,.22)",
    easeOutQuart: "cubic-bezier(.165,.84,.44,1)",
    easeInOutQuart: "cubic-bezier(.77,0,.175,1)",
    easeInQuint: "cubic-bezier(.755,.05,.855,.06)",
    easeOutQuint: "cubic-bezier(.23,1,.32,1)",
    easeInOutQuint: "cubic-bezier(.86,0,.07,1)",
    easeInSine: "cubic-bezier(.47,0,.745,.715)",
    easeOutSine: "cubic-bezier(.39,.575,.565,1)",
    easeInOutSine: "cubic-bezier(.445,.05,.55,.95)",
    easeInBack: "cubic-bezier(.6,-.28,.735,.045)",
    easeOutBack: "cubic-bezier(.175, .885,.32,1.275)",
    easeInOutBack: "cubic-bezier(.68,-.55,.265,1.55)"
  }, e.cssHooks["transit:transform"] = {
    get: function (t) {
      return e(t).data("transform") || new f
    }, set: function (t, r) {
      var i = r;
      i instanceof f || (i = new f(i)), n.transform === "WebkitTransform" && !s ? t.style[n.transform] = i.toString(!0) : t.style[n.transform] = i.toString(), e(t).data("transform", i)
    }
  }, e.cssHooks.transform = {set: e.cssHooks["transit:transform"].set}, e.cssHooks.filter = {
    get: function (e) {
      return e.style[n.filter]
    }, set: function (e, t) {
      e.style[n.filter] = t
    }
  }, e.fn.jquery < "1.8" && (e.cssHooks.transformOrigin = {
    get: function (e) {
      return e.style[n.transformOrigin]
    }, set: function (e, t) {
      e.style[n.transformOrigin] = t
    }
  }, e.cssHooks.transition = {
    get: function (e) {
      return e.style[n.transition]
    }, set: function (e, t) {
      e.style[n.transition] = t
    }
  }), p("scale"), p("scaleX"), p("scaleY"), p("translate"), p("rotate"), p("rotateX"), p("rotateY"), p("rotate3d"), p("perspective"), p("skewX"), p("skewY"), p("x", !0), p("y", !0), f.prototype = {
    setFromString: function (e, t) {
      var n = typeof t == "string" ? t.split(",") : t.constructor === Array ? t : [t];
      n.unshift(e), f.prototype.set.apply(this, n)
    }, set: function (e) {
      var t = Array.prototype.slice.apply(arguments, [1]);
      this.setter[e] ? this.setter[e].apply(this, t) : this[e] = t.join(",")
    }, get: function (e) {
      return this.getter[e] ? this.getter[e].apply(this) : this[e] || 0
    }, setter: {
      rotate: function (e) {
        this.rotate = v(e, "deg")
      }, rotateX: function (e) {
        this.rotateX = v(e, "deg")
      }, rotateY: function (e) {
        this.rotateY = v(e, "deg")
      }, scale: function (e, t) {
        t === undefined && (t = e), this.scale = e + "," + t
      }, skewX: function (e) {
        this.skewX = v(e, "deg")
      }, skewY: function (e) {
        this.skewY = v(e, "deg")
      }, perspective: function (e) {
        this.perspective = v(e, "px")
      }, x: function (e) {
        this.set("translate", e, null)
      }, y: function (e) {
        this.set("translate", null, e)
      }, translate: function (e, t) {
        this._translateX === undefined && (this._translateX = 0), this._translateY === undefined && (this._translateY = 0), e !== null && e !== undefined && (this._translateX = v(e, "px")), t !== null && t !== undefined && (this._translateY = v(t, "px")), this.translate = this._translateX + "," + this._translateY
      }
    }, getter: {
      x: function () {
        return this._translateX || 0
      }, y: function () {
        return this._translateY || 0
      }, scale: function () {
        var e = (this.scale || "1,1").split(",");
        return e[0] && (e[0] = parseFloat(e[0])), e[1] && (e[1] = parseFloat(e[1])), e[0] === e[1] ? e[0] : e
      }, rotate3d: function () {
        var e = (this.rotate3d || "0,0,0,0deg").split(",");
        for (var t = 0; t <= 3; ++t) e[t] && (e[t] = parseFloat(e[t]));
        return e[3] && (e[3] = v(e[3], "deg")), e
      }
    }, parse: function (e) {
      var t = this;
      e.replace(/([a-zA-Z0-9]+)\((.*?)\)/g, function (e, n, r) {
        t.setFromString(n, r)
      })
    }, toString: function (e) {
      var t = [];
      for (var r in this) if (this.hasOwnProperty(r)) {
        if (!n.transform3d && (r === "rotateX" || r === "rotateY" || r === "perspective" || r === "transformOrigin")) continue;
        r[0] !== "_" && (e && r === "scale" ? t.push(r + "3d(" + this[r] + ",1)") : e && r === "translate" ? t.push(r + "3d(" + this[r] + ",0)") : t.push(r + "(" + this[r] + ")"))
      }
      return t.join(" ")
    }
  }, e.fn.transition = e.fn.transit = function (t, r, i, s) {
    var o = this, a = 0, f = !0, c = e.extend(!0, {}, t);
    typeof r == "function" && (s = r, r = undefined), typeof r == "object" && (i = r.easing, a = r.delay || 0, f = typeof r.queue == "undefined" ? !0 : r.queue, s = r.complete, r = r.duration), typeof i == "function" && (s = i, i = undefined), typeof c.easing != "undefined" && (i = c.easing, delete c.easing), typeof c.duration != "undefined" && (r = c.duration, delete c.duration), typeof c.complete != "undefined" && (s = c.complete, delete c.complete), typeof c.queue != "undefined" && (f = c.queue, delete c.queue), typeof c.delay != "undefined" && (a = c.delay, delete c.delay), typeof r == "undefined" && (r = e.fx.speeds._default), typeof i == "undefined" && (i = e.cssEase._default), r = m(r);
    var p = h(c, r, i, a), d = e.transit.enabled && n.transition, v = d ? parseInt(r, 10) + parseInt(a, 10) : 0;
    if (v === 0) {
      var g = function (e) {
        o.css(c), s && s.apply(o), e && e()
      };
      return l(o, f, g), o
    }
    var y = {}, b = function (t) {
      var r = !1, i = function () {
        r && o.unbind(u, i), v > 0 && o.each(function () {
          this.style[n.transition] = y[this] || null
        }), typeof s == "function" && s.apply(o), typeof t == "function" && t()
      };
      v > 0 && u && e.transit.useTransitionEnd ? (r = !0, o.bind(u, i)) : window.setTimeout(i, v), o.each(function () {
        v > 0 && (this.style[n.transition] = p), e(this).css(c)
      })
    }, w = function (e) {
      this.offsetWidth, b(e)
    };
    return l(o, f, w), this
  }, e.transit.getTransitionValue = h, e
}), function (e) {
  "use strict";

  function s(e, t) {
    e.style.WebkitTransform = t, e.style.msTransform = t, e.style.transform = t
  }

  function o() {
    var n = t.clientWidth, r = e.innerWidth;
    return n < r ? r : n
  }

  function u(e, t) {
    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
    return e
  }

  function a(e, t) {
    this.el = e, this.options = u({}, this.options), u(this.options, t), this._init()
  }

  var t = e.document.documentElement, n = {
      WebkitTransition: "webkitTransitionEnd",
      MozTransition: "transitionend",
      OTransition: "oTransitionEnd",
      msTransition: "MSTransitionEnd",
      transition: "transitionend"
    }, r = n[Modernizr.prefixed("transition")],
    i = {transitions: Modernizr.csstransitions, support3d: Modernizr.csstransforms3d};
  a.prototype.options = {}, a.prototype._init = function () {
    this.grid = this.el.querySelector("section.grid-wrap > ul.grid"), this.gridItems = [].slice.call(this.grid.querySelectorAll("li:not(.grid-sizer)")), this.itemsCount = this.gridItems.length, this.slideshow = this.el.querySelector("section.slideshow > ul"), this.slideshowItems = [].slice.call(this.slideshow.children), this.current = -1, this.ctrlPrev = this.el.querySelector("section.slideshow > nav > span.nav-prev"), this.ctrlNext = this.el.querySelector("section.slideshow > nav > span.nav-next"), this.ctrlClose = this.el.querySelector("section.slideshow > nav > span.nav-close"), this._initMasonry(), this._initEvents()
  }, a.prototype._initMasonry = function () {
    var e = this.grid;
    imagesLoaded(e, function () {
      new Masonry(e, {itemSelector: "li", columnWidth: e.querySelector(".grid-sizer")})
    })
  }, a.prototype._initEvents = function () {
    var n = this;
    this.gridItems.forEach(function (e, t) {
      e.addEventListener("click", function () {
        n._openSlideshow(t)
      })
    }), this.ctrlPrev.addEventListener("click", function () {
      n._navigate("prev")
    }), this.ctrlNext.addEventListener("click", function () {
      n._navigate("next")
    }), this.ctrlClose.addEventListener("click", function () {
      n._closeSlideshow()
    }), e.addEventListener("resize", function () {
      n._resizeHandler()
    }), document.addEventListener("keydown", function (e) {
      if (n.isSlideshowVisible) {
        var t = e.keyCode || e.which;
        switch (t) {
          case 37:
            n._navigate("prev");
            break;
          case 39:
            n._navigate("next");
            break;
          case 27:
            n._closeSlideshow()
        }
      }
    }), e.addEventListener("scroll", function () {
      n.isSlideshowVisible ? e.scrollTo(n.scrollPosition ? n.scrollPosition.x : 0, n.scrollPosition ? n.scrollPosition.y : 0) : n.scrollPosition = {
        x: e.pageXOffset || t.scrollLeft,
        y: e.pageYOffset || t.scrollTop
      }
    })
  }, a.prototype._openSlideshow = function (e) {
    this.isSlideshowVisible = !0, this.current = e, classie.addClass(this.el, "slideshow-open"), this._setViewportItems(), classie.addClass(this.currentItem, "current"), classie.addClass(this.currentItem, "show");
    if (this.prevItem) {
      classie.addClass(this.prevItem, "show");
      var t = Number(-1 * (o() / 2 + this.prevItem.offsetWidth / 2));
      s(this.prevItem, i.support3d ? "translate3d(" + t + "px, 0, -150px)" : "translate(" + t + "px)")
    }
    if (this.nextItem) {
      classie.addClass(this.nextItem, "show");
      var t = Number(o() / 2 + this.nextItem.offsetWidth / 2);
      s(this.nextItem, i.support3d ? "translate3d(" + t + "px, 0, -150px)" : "translate(" + t + "px)")
    }
  }, a.prototype._navigate = function (e) {
    if (this.isAnimating) return;
    if (e === "next" && this.current === this.itemsCount - 1 || e === "prev" && this.current === 0) {
      this._closeSlideshow();
      return
    }
    this.isAnimating = !0, this._setViewportItems();
    var t = this, n = this.currentItem.offsetWidth,
      u = i.support3d ? "translate3d(-" + Number(o() / 2 + n / 2) + "px, 0, -150px)" : "translate(-" + Number(o() / 2 + n / 2) + "px)",
      a = i.support3d ? "translate3d(" + Number(o() / 2 + n / 2) + "px, 0, -150px)" : "translate(" + Number(o() / 2 + n / 2) + "px)",
      f = "", l, c, h;
    e === "next" ? (l = i.support3d ? "translate3d( -" + Number(o() * 2 / 2 + n / 2) + "px, 0, -150px )" : "translate(-" + Number(o() * 2 / 2 + n / 2) + "px)", c = i.support3d ? "translate3d( " + Number(o() * 2 / 2 + n / 2) + "px, 0, -150px )" : "translate(" + Number(o() * 2 / 2 + n / 2) + "px)") : (l = i.support3d ? "translate3d( " + Number(o() * 2 / 2 + n / 2) + "px, 0, -150px )" : "translate(" + Number(o() * 2 / 2 + n / 2) + "px)", c = i.support3d ? "translate3d( -" + Number(o() * 2 / 2 + n / 2) + "px, 0, -150px )" : "translate(-" + Number(o() * 2 / 2 + n / 2) + "px)"), classie.removeClass(t.slideshow, "animatable");
    if (e === "next" && this.current < this.itemsCount - 2 || e === "prev" && this.current > 1) h = this.slideshowItems[e === "next" ? this.current + 2 : this.current - 2], s(h, c), classie.addClass(h, "show");
    var p = function () {
      classie.addClass(t.slideshow, "animatable"), classie.removeClass(t.currentItem, "current");
      var n = e === "next" ? t.nextItem : t.prevItem;
      classie.addClass(n, "current"), s(t.currentItem, e === "next" ? u : a), t.nextItem && s(t.nextItem, e === "next" ? f : l), t.prevItem && s(t.prevItem, e === "next" ? l : f), h && s(h, e === "next" ? a : u);
      var o = function (n) {
        if (i.transitions) {
          if (n.propertyName.indexOf("transform") === -1) return !1;
          this.removeEventListener(r, o)
        }
        t.prevItem && e === "next" ? classie.removeClass(t.prevItem, "show") : t.nextItem && e === "prev" && classie.removeClass(t.nextItem, "show"), e === "next" ? (t.prevItem = t.currentItem, t.currentItem = t.nextItem, h && (t.nextItem = h)) : (t.nextItem = t.currentItem, t.currentItem = t.prevItem, h && (t.prevItem = h)), t.current = e === "next" ? t.current + 1 : t.current - 1, t.isAnimating = !1
      };
      i.transitions ? t.currentItem.addEventListener(r, o) : o()
    };
    setTimeout(p, 25)
  }, a.prototype._closeSlideshow = function (e) {
    classie.removeClass(this.el, "slideshow-open"), classie.removeClass(this.slideshow, "animatable");
    var t = this, n = function (e) {
      if (i.transitions) {
        if (e.target.tagName.toLowerCase() !== "ul") return;
        this.removeEventListener(r, n)
      }
      classie.removeClass(t.currentItem, "current"), classie.removeClass(t.currentItem, "show"), t.prevItem && classie.removeClass(t.prevItem, "show"), t.nextItem && classie.removeClass(t.nextItem, "show"), t.slideshowItems.forEach(function (e) {
        s(e, "")
      }), t.isSlideshowVisible = !1
    };
    i.transitions ? this.el.addEventListener(r, n) : n()
  }, a.prototype._setViewportItems = function () {
    this.currentItem = null, this.prevItem = null, this.nextItem = null, this.current > 0 && (this.prevItem = this.slideshowItems[this.current - 1]), this.current < this.itemsCount - 1 && (this.nextItem = this.slideshowItems[this.current + 1]), this.currentItem = this.slideshowItems[this.current]
  }, a.prototype._resizeHandler = function () {
    function t() {
      e._resize(), e._resizeTimeout = null
    }

    var e = this;
    this._resizeTimeout && clearTimeout(this._resizeTimeout), this._resizeTimeout = setTimeout(t, 50)
  }, a.prototype._resize = function () {
    if (this.isSlideshowVisible) {
      if (this.prevItem) {
        var e = Number(-1 * (o() / 2 + this.prevItem.offsetWidth / 2));
        s(this.prevItem, i.support3d ? "translate3d(" + e + "px, 0, -150px)" : "translate(" + e + "px)")
      }
      if (this.nextItem) {
        var e = Number(o() / 2 + this.nextItem.offsetWidth / 2);
        s(this.nextItem, i.support3d ? "translate3d(" + e + "px, 0, -150px)" : "translate(" + e + "px)")
      }
    }
  }, e.CBPGridGallery = a
}(window), define("grid-gallery", function () {
}), function (e, t, n, r) {
  "use strict";

  function l(e, t, n) {
    return setTimeout(m(e, n), t)
  }

  function c(e, t, n) {
    return Array.isArray(e) ? (h(e, n[t], n), !0) : !1
  }

  function h(e, t, n) {
    var i;
    if (!e) return;
    if (e.forEach) e.forEach(t, n); else if (e.length !== r) {
      i = 0;
      while (i < e.length) t.call(n, e[i], i, e), i++
    } else for (i in e) e.hasOwnProperty(i) && t.call(n, e[i], i, e)
  }

  function p(e, t, n) {
    var i = Object.keys(t), s = 0;
    while (s < i.length) {
      if (!n || n && e[i[s]] === r) e[i[s]] = t[i[s]];
      s++
    }
    return e
  }

  function d(e, t) {
    return p(e, t, !0)
  }

  function v(e, t, n) {
    var r = t.prototype, i;
    i = e.prototype = Object.create(r), i.constructor = e, i._super = r, n && p(i, n)
  }

  function m(e, t) {
    return function () {
      return e.apply(t, arguments)
    }
  }

  function g(e, t) {
    return typeof e == o ? e.apply(t ? t[0] || r : r, t) : e
  }

  function y(e, t) {
    return e === r ? t : e
  }

  function b(e, t, n) {
    h(x(t), function (t) {
      e.addEventListener(t, n, !1)
    })
  }

  function w(e, t, n) {
    h(x(t), function (t) {
      e.removeEventListener(t, n, !1)
    })
  }

  function E(e, t) {
    while (e) {
      if (e == t) return !0;
      e = e.parentNode
    }
    return !1
  }

  function S(e, t) {
    return e.indexOf(t) > -1
  }

  function x(e) {
    return e.trim().split(/\s+/g)
  }

  function T(e, t, n) {
    if (e.indexOf && !n) return e.indexOf(t);
    var r = 0;
    while (r < e.length) {
      if (n && e[r][n] == t || !n && e[r] === t) return r;
      r++
    }
    return -1
  }

  function N(e) {
    return Array.prototype.slice.call(e, 0)
  }

  function C(e, t, n) {
    var r = [], i = [], s = 0;
    while (s < e.length) {
      var o = t ? e[s][t] : e[s];
      T(i, o) < 0 && r.push(e[s]), i[s] = o, s++
    }
    return n && (t ? r = r.sort(function (n, r) {
      return n[t] > r[t]
    }) : r = r.sort()), r
  }

  function k(e, t) {
    var n, s, o = t[0].toUpperCase() + t.slice(1), u = 0;
    while (u < i.length) {
      n = i[u], s = n ? n + o : t;
      if (s in e) return s;
      u++
    }
    return r
  }

  function A() {
    return L++
  }

  function O(e) {
    var t = e.ownerDocument;
    return t.defaultView || t.parentWindow
  }

  function et(e, t) {
    var n = this;
    this.manager = e, this.callback = t, this.element = e.element, this.target = e.options.inputTarget, this.domHandler = function (t) {
      g(e.options.enable, [e]) && n.handler(t)
    }, this.init()
  }

  function tt(e) {
    var t, n = e.options.inputClass;
    return n ? t = n : D ? t = St : P ? t = Ot : _ ? t = _t : t = gt, new t(e, nt)
  }

  function nt(e, t, n) {
    var r = n.pointers.length, i = n.changedPointers.length, s = t & q && r - i === 0, o = t & (U | z) && r - i === 0;
    n.isFirst = !!s, n.isFinal = !!o, s && (e.session = {}), n.eventType = t, rt(e, n), e.emit("hammer.input", n), e.recognize(n), e.session.prevInput = n
  }

  function rt(e, t) {
    var n = e.session, r = t.pointers, i = r.length;
    n.firstInput || (n.firstInput = ot(t)), i > 1 && !n.firstMultiple ? n.firstMultiple = ot(t) : i === 1 && (n.firstMultiple = !1);
    var s = n.firstInput, o = n.firstMultiple, u = o ? o.center : s.center, a = t.center = ut(r);
    t.timeStamp = f(), t.deltaTime = t.timeStamp - s.timeStamp, t.angle = ct(u, a), t.distance = lt(u, a), it(n, t), t.offsetDirection = ft(t.deltaX, t.deltaY), t.scale = o ? pt(o.pointers, r) : 1, t.rotation = o ? ht(o.pointers, r) : 0, st(n, t);
    var l = e.element;
    E(t.srcEvent.target, l) && (l = t.srcEvent.target), t.target = l
  }

  function it(e, t) {
    var n = t.center, r = e.offsetDelta || {}, i = e.prevDelta || {}, s = e.prevInput || {};
    if (t.eventType === q || s.eventType === U) i = e.prevDelta = {
      x: s.deltaX || 0,
      y: s.deltaY || 0
    }, r = e.offsetDelta = {x: n.x, y: n.y};
    t.deltaX = i.x + (n.x - r.x), t.deltaY = i.y + (n.y - r.y)
  }

  function st(e, t) {
    var n = e.lastInterval || t, i = t.timeStamp - n.timeStamp, s, o, u, f;
    if (t.eventType != z && (i > I || n.velocity === r)) {
      var l = n.deltaX - t.deltaX, c = n.deltaY - t.deltaY, h = at(i, l, c);
      o = h.x, u = h.y, s = a(h.x) > a(h.y) ? h.x : h.y, f = ft(l, c), e.lastInterval = t
    } else s = n.velocity, o = n.velocityX, u = n.velocityY, f = n.direction;
    t.velocity = s, t.velocityX = o, t.velocityY = u, t.direction = f
  }

  function ot(e) {
    var t = [], n = 0;
    while (n < e.pointers.length) t[n] = {clientX: u(e.pointers[n].clientX), clientY: u(e.pointers[n].clientY)}, n++;
    return {timeStamp: f(), pointers: t, center: ut(t), deltaX: e.deltaX, deltaY: e.deltaY}
  }

  function ut(e) {
    var t = e.length;
    if (t === 1) return {x: u(e[0].clientX), y: u(e[0].clientY)};
    var n = 0, r = 0, i = 0;
    while (i < t) n += e[i].clientX, r += e[i].clientY, i++;
    return {x: u(n / t), y: u(r / t)}
  }

  function at(e, t, n) {
    return {x: t / e || 0, y: n / e || 0}
  }

  function ft(e, t) {
    return e === t ? W : a(e) >= a(t) ? e > 0 ? X : V : t > 0 ? $ : J
  }

  function lt(e, t, n) {
    n || (n = Y);
    var r = t[n[0]] - e[n[0]], i = t[n[1]] - e[n[1]];
    return Math.sqrt(r * r + i * i)
  }

  function ct(e, t, n) {
    n || (n = Y);
    var r = t[n[0]] - e[n[0]], i = t[n[1]] - e[n[1]];
    return Math.atan2(i, r) * 180 / Math.PI
  }

  function ht(e, t) {
    return ct(t[1], t[0], Z) - ct(e[1], e[0], Z)
  }

  function pt(e, t) {
    return lt(t[0], t[1], Z) / lt(e[0], e[1], Z)
  }

  function gt() {
    this.evEl = vt, this.evWin = mt, this.allow = !0, this.pressed = !1, et.apply(this, arguments)
  }

  function St() {
    this.evEl = wt, this.evWin = Et, et.apply(this, arguments), this.store = this.manager.session.pointerEvents = []
  }

  function Ct() {
    this.evTarget = Tt, this.evWin = Nt, this.started = !1, et.apply(this, arguments)
  }

  function kt(e, t) {
    var n = N(e.touches), r = N(e.changedTouches);
    return t & (U | z) && (n = C(n.concat(r), "identifier", !0)), [n, r]
  }

  function Ot() {
    this.evTarget = At, this.targetIds = {}, et.apply(this, arguments)
  }

  function Mt(e, t) {
    var n = N(e.touches), r = this.targetIds;
    if (t & (q | R) && n.length === 1) return r[n[0].identifier] = !0, [n, n];
    var i, s, o = N(e.changedTouches), u = [], a = this.target;
    s = n.filter(function (e) {
      return E(e.target, a)
    });
    if (t === q) {
      i = 0;
      while (i < s.length) r[s[i].identifier] = !0, i++
    }
    i = 0;
    while (i < o.length) r[o[i].identifier] && u.push(o[i]), t & (U | z) && delete r[o[i].identifier], i++;
    if (!u.length) return;
    return [C(s.concat(u), "identifier", !0), u]
  }

  function _t() {
    et.apply(this, arguments);
    var e = m(this.handler, this);
    this.touch = new Ot(this.manager, e), this.mouse = new gt(this.manager, e)
  }

  function Rt(e, t) {
    this.manager = e, this.set(t)
  }

  function Ut(e) {
    if (S(e, Ft)) return Ft;
    var t = S(e, It), n = S(e, qt);
    return t && n ? It + " " + qt : t || n ? t ? It : qt : S(e, jt) ? jt : Bt
  }

  function Qt(e) {
    this.id = A(), this.manager = null, this.options = d(e || {}, this.defaults), this.options.enable = y(this.options.enable, !0), this.state = zt, this.simultaneous = {}, this.requireFail = []
  }

  function Gt(e) {
    return e & Jt ? "cancel" : e & Vt ? "end" : e & Xt ? "move" : e & Wt ? "start" : ""
  }

  function Yt(e) {
    return e == J ? "down" : e == $ ? "up" : e == X ? "left" : e == V ? "right" : ""
  }

  function Zt(e, t) {
    var n = t.manager;
    return n ? n.get(e) : e
  }

  function en() {
    Qt.apply(this, arguments)
  }

  function tn() {
    en.apply(this, arguments), this.pX = null, this.pY = null
  }

  function nn() {
    en.apply(this, arguments)
  }

  function rn() {
    Qt.apply(this, arguments), this._timer = null, this._input = null
  }

  function sn() {
    en.apply(this, arguments)
  }

  function on() {
    en.apply(this, arguments)
  }

  function un() {
    Qt.apply(this, arguments), this.pTime = !1, this.pCenter = !1, this._timer = null, this._input = null, this.count = 0
  }

  function an(e, t) {
    return t = t || {}, t.recognizers = y(t.recognizers, an.defaults.preset), new cn(e, t)
  }

  function cn(e, t) {
    t = t || {}, this.options = d(t, an.defaults), this.options.inputTarget = this.options.inputTarget || e, this.handlers = {}, this.session = {}, this.recognizers = [], this.element = e, this.input = tt(this), this.touchAction = new Rt(this, this.options.touchAction), hn(this, !0), h(t.recognizers, function (e) {
      var t = this.add(new e[0](e[1]));
      e[2] && t.recognizeWith(e[2]), e[3] && t.requireFailure(e[3])
    }, this)
  }

  function hn(e, t) {
    var n = e.element;
    h(e.options.cssProps, function (e, r) {
      n.style[k(n.style, r)] = t ? e : ""
    })
  }

  function pn(e, n) {
    var r = t.createEvent("Event");
    r.initEvent(e, !0, !0), r.gesture = n, n.target.dispatchEvent(r)
  }

  var i = ["", "webkit", "moz", "MS", "ms", "o"], s = t.createElement("div"), o = "function", u = Math.round,
    a = Math.abs, f = Date.now, L = 1, M = /mobile|tablet|ip(ad|hone|od)|android/i, _ = "ontouchstart" in e,
    D = k(e, "PointerEvent") !== r, P = _ && M.test(navigator.userAgent), H = "touch", B = "pen", j = "mouse",
    F = "kinect", I = 25, q = 1, R = 2, U = 4, z = 8, W = 1, X = 2, V = 4, $ = 8, J = 16, K = X | V, Q = $ | J,
    G = K | Q, Y = ["x", "y"], Z = ["clientX", "clientY"];
  et.prototype = {
    handler: function () {
    }, init: function () {
      this.evEl && b(this.element, this.evEl, this.domHandler), this.evTarget && b(this.target, this.evTarget, this.domHandler), this.evWin && b(O(this.element), this.evWin, this.domHandler)
    }, destroy: function () {
      this.evEl && w(this.element, this.evEl, this.domHandler), this.evTarget && w(this.target, this.evTarget, this.domHandler), this.evWin && w(O(this.element), this.evWin, this.domHandler)
    }
  };
  var dt = {mousedown: q, mousemove: R, mouseup: U}, vt = "mousedown", mt = "mousemove mouseup";
  v(gt, et, {
    handler: function (t) {
      var n = dt[t.type];
      n & q && t.button === 0 && (this.pressed = !0), n & R && t.which !== 1 && (n = U);
      if (!this.pressed || !this.allow) return;
      n & U && (this.pressed = !1), this.callback(this.manager, n, {
        pointers: [t],
        changedPointers: [t],
        pointerType: j,
        srcEvent: t
      })
    }
  });
  var yt = {pointerdown: q, pointermove: R, pointerup: U, pointercancel: z, pointerout: z},
    bt = {2: H, 3: B, 4: j, 5: F}, wt = "pointerdown", Et = "pointermove pointerup pointercancel";
  e.MSPointerEvent && (wt = "MSPointerDown", Et = "MSPointerMove MSPointerUp MSPointerCancel"), v(St, et, {
    handler: function (t) {
      var n = this.store, r = !1, i = t.type.toLowerCase().replace("ms", ""), s = yt[i],
        o = bt[t.pointerType] || t.pointerType, u = o == H, a = T(n, t.pointerId, "pointerId");
      s & q && (t.button === 0 || u) ? a < 0 && (n.push(t), a = n.length - 1) : s & (U | z) && (r = !0);
      if (a < 0) return;
      n[a] = t, this.callback(this.manager, s, {
        pointers: n,
        changedPointers: [t],
        pointerType: o,
        srcEvent: t
      }), r && n.splice(a, 1)
    }
  });
  var xt = {touchstart: q, touchmove: R, touchend: U, touchcancel: z}, Tt = "touchstart",
    Nt = "touchstart touchmove touchend touchcancel";
  v(Ct, et, {
    handler: function (t) {
      var n = xt[t.type];
      n === q && (this.started = !0);
      if (!this.started) return;
      var r = kt.call(this, t, n);
      n & (U | z) && r[0].length - r[1].length === 0 && (this.started = !1), this.callback(this.manager, n, {
        pointers: r[0],
        changedPointers: r[1],
        pointerType: H,
        srcEvent: t
      })
    }
  });
  var Lt = {touchstart: q, touchmove: R, touchend: U, touchcancel: z}, At = "touchstart touchmove touchend touchcancel";
  v(Ot, et, {
    handler: function (t) {
      var n = Lt[t.type], r = Mt.call(this, t, n);
      if (!r) return;
      this.callback(this.manager, n, {pointers: r[0], changedPointers: r[1], pointerType: H, srcEvent: t})
    }
  }), v(_t, et, {
    handler: function (t, n, r) {
      var i = r.pointerType == H, s = r.pointerType == j;
      if (i) this.mouse.allow = !1; else if (s && !this.mouse.allow) return;
      n & (U | z) && (this.mouse.allow = !0), this.callback(t, n, r)
    }, destroy: function () {
      this.touch.destroy(), this.mouse.destroy()
    }
  });
  var Dt = k(s.style, "touchAction"), Pt = Dt !== r, Ht = "compute", Bt = "auto", jt = "manipulation", Ft = "none",
    It = "pan-x", qt = "pan-y";
  Rt.prototype = {
    set: function (e) {
      e == Ht && (e = this.compute()), Pt && (this.manager.element.style[Dt] = e), this.actions = e.toLowerCase().trim()
    }, update: function () {
      this.set(this.manager.options.touchAction)
    }, compute: function () {
      var e = [];
      return h(this.manager.recognizers, function (t) {
        g(t.options.enable, [t]) && (e = e.concat(t.getTouchAction()))
      }), Ut(e.join(" "))
    }, preventDefaults: function (e) {
      if (Pt) return;
      var t = e.srcEvent, n = e.offsetDirection;
      if (this.manager.session.prevented) {
        t.preventDefault();
        return
      }
      var r = this.actions, i = S(r, Ft), s = S(r, qt), o = S(r, It);
      if (i || s && n & K || o && n & Q) return this.preventSrc(t)
    }, preventSrc: function (e) {
      this.manager.session.prevented = !0, e.preventDefault()
    }
  };
  var zt = 1, Wt = 2, Xt = 4, Vt = 8, $t = Vt, Jt = 16, Kt = 32;
  Qt.prototype = {
    defaults: {}, set: function (e) {
      return p(this.options, e), this.manager && this.manager.touchAction.update(), this
    }, recognizeWith: function (e) {
      if (c(e, "recognizeWith", this)) return this;
      var t = this.simultaneous;
      return e = Zt(e, this), t[e.id] || (t[e.id] = e, e.recognizeWith(this)), this
    }, dropRecognizeWith: function (e) {
      return c(e, "dropRecognizeWith", this) ? this : (e = Zt(e, this), delete this.simultaneous[e.id], this)
    }, requireFailure: function (e) {
      if (c(e, "requireFailure", this)) return this;
      var t = this.requireFail;
      return e = Zt(e, this), T(t, e) === -1 && (t.push(e), e.requireFailure(this)), this
    }, dropRequireFailure: function (e) {
      if (c(e, "dropRequireFailure", this)) return this;
      e = Zt(e, this);
      var t = T(this.requireFail, e);
      return t > -1 && this.requireFail.splice(t, 1), this
    }, hasRequireFailures: function () {
      return this.requireFail.length > 0
    }, canRecognizeWith: function (e) {
      return !!this.simultaneous[e.id]
    }, emit: function (e) {
      function r(r) {
        t.manager.emit(t.options.event + (r ? Gt(n) : ""), e)
      }

      var t = this, n = this.state;
      n < Vt && r(!0), r(), n >= Vt && r(!0)
    }, tryEmit: function (e) {
      if (this.canEmit()) return this.emit(e);
      this.state = Kt
    }, canEmit: function () {
      var e = 0;
      while (e < this.requireFail.length) {
        if (!(this.requireFail[e].state & (Kt | zt))) return !1;
        e++
      }
      return !0
    }, recognize: function (e) {
      var t = p({}, e);
      if (!g(this.options.enable, [this, t])) {
        this.reset(), this.state = Kt;
        return
      }
      this.state & ($t | Jt | Kt) && (this.state = zt), this.state = this.process(t), this.state & (Wt | Xt | Vt | Jt) && this.tryEmit(t)
    }, process: function (e) {
    }, getTouchAction: function () {
    }, reset: function () {
    }
  }, v(en, Qt, {
    defaults: {pointers: 1}, attrTest: function (e) {
      var t = this.options.pointers;
      return t === 0 || e.pointers.length === t
    }, process: function (e) {
      var t = this.state, n = e.eventType, r = t & (Wt | Xt), i = this.attrTest(e);
      if (r && (n & z || !i)) return t | Jt;
      if (r || i) return n & U ? t | Vt : t & Wt ? t | Xt : Wt;
      return Kt
    }
  }), v(tn, en, {
    defaults: {event: "pan", threshold: 10, pointers: 1, direction: G}, getTouchAction: function () {
      var e = this.options.direction, t = [];
      return e & K && t.push(qt), e & Q && t.push(It), t
    }, directionTest: function (e) {
      var t = this.options, n = !0, r = e.distance, i = e.direction, s = e.deltaX, o = e.deltaY;
      return i & t.direction || (t.direction & K ? (i = s === 0 ? W : s < 0 ? X : V, n = s != this.pX, r = Math.abs(e.deltaX)) : (i = o === 0 ? W : o < 0 ? $ : J, n = o != this.pY, r = Math.abs(e.deltaY))), e.direction = i, n && r > t.threshold && i & t.direction
    }, attrTest: function (e) {
      return en.prototype.attrTest.call(this, e) && (this.state & Wt || !(this.state & Wt) && this.directionTest(e))
    }, emit: function (e) {
      this.pX = e.deltaX, this.pY = e.deltaY;
      var t = Yt(e.direction);
      t && this.manager.emit(this.options.event + t, e), this._super.emit.call(this, e)
    }
  }), v(nn, en, {
    defaults: {event: "pinch", threshold: 0, pointers: 2}, getTouchAction: function () {
      return [Ft]
    }, attrTest: function (e) {
      return this._super.attrTest.call(this, e) && (Math.abs(e.scale - 1) > this.options.threshold || this.state & Wt)
    }, emit: function (e) {
      this._super.emit.call(this, e);
      if (e.scale !== 1) {
        var t = e.scale < 1 ? "in" : "out";
        this.manager.emit(this.options.event + t, e)
      }
    }
  }), v(rn, Qt, {
    defaults: {event: "press", pointers: 1, time: 500, threshold: 5}, getTouchAction: function () {
      return [Bt]
    }, process: function (e) {
      var t = this.options, n = e.pointers.length === t.pointers, r = e.distance < t.threshold,
        i = e.deltaTime > t.time;
      this._input = e;
      if (!r || !n || e.eventType & (U | z) && !i) this.reset(); else if (e.eventType & q) this.reset(), this._timer = l(function () {
        this.state = $t, this.tryEmit()
      }, t.time, this); else if (e.eventType & U) return $t;
      return Kt
    }, reset: function () {
      clearTimeout(this._timer)
    }, emit: function (e) {
      if (this.state !== $t) return;
      e && e.eventType & U ? this.manager.emit(this.options.event + "up", e) : (this._input.timeStamp = f(), this.manager.emit(this.options.event, this._input))
    }
  }), v(sn, en, {
    defaults: {event: "rotate", threshold: 0, pointers: 2}, getTouchAction: function () {
      return [Ft]
    }, attrTest: function (e) {
      return this._super.attrTest.call(this, e) && (Math.abs(e.rotation) > this.options.threshold || this.state & Wt)
    }
  }), v(on, en, {
    defaults: {event: "swipe", threshold: 10, velocity: .65, direction: K | Q, pointers: 1},
    getTouchAction: function () {
      return tn.prototype.getTouchAction.call(this)
    },
    attrTest: function (e) {
      var t = this.options.direction, n;
      return t & (K | Q) ? n = e.velocity : t & K ? n = e.velocityX : t & Q && (n = e.velocityY), this._super.attrTest.call(this, e) && t & e.direction && e.distance > this.options.threshold && a(n) > this.options.velocity && e.eventType & U
    },
    emit: function (e) {
      var t = Yt(e.direction);
      t && this.manager.emit(this.options.event + t, e), this.manager.emit(this.options.event, e)
    }
  }), v(un, Qt, {
    defaults: {
      event: "tap",
      pointers: 1,
      taps: 1,
      interval: 300,
      time: 250,
      threshold: 2,
      posThreshold: 10
    }, getTouchAction: function () {
      return [jt]
    }, process: function (e) {
      var t = this.options, n = e.pointers.length === t.pointers, r = e.distance < t.threshold,
        i = e.deltaTime < t.time;
      this.reset();
      if (e.eventType & q && this.count === 0) return this.failTimeout();
      if (r && i && n) {
        if (e.eventType != U) return this.failTimeout();
        var s = this.pTime ? e.timeStamp - this.pTime < t.interval : !0,
          o = !this.pCenter || lt(this.pCenter, e.center) < t.posThreshold;
        this.pTime = e.timeStamp, this.pCenter = e.center, !o || !s ? this.count = 1 : this.count += 1, this._input = e;
        var u = this.count % t.taps;
        if (u === 0) return this.hasRequireFailures() ? (this._timer = l(function () {
          this.state = $t, this.tryEmit()
        }, t.interval, this), Wt) : $t
      }
      return Kt
    }, failTimeout: function () {
      return this._timer = l(function () {
        this.state = Kt
      }, this.options.interval, this), Kt
    }, reset: function () {
      clearTimeout(this._timer)
    }, emit: function () {
      this.state == $t && (this._input.tapCount = this.count, this.manager.emit(this.options.event, this._input))
    }
  }), an.VERSION = "2.0.4", an.defaults = {
    domEvents: !1,
    touchAction: Ht,
    enable: !0,
    inputTarget: null,
    inputClass: null,
    preset: [[sn, {enable: !1}], [nn, {enable: !1}, ["rotate"]], [on, {direction: K}], [tn, {direction: K}, ["swipe"]], [un], [un, {
      event: "doubletap",
      taps: 2
    }, ["tap"]], [rn]],
    cssProps: {
      userSelect: "none",
      touchSelect: "none",
      touchCallout: "none",
      contentZooming: "none",
      userDrag: "none",
      tapHighlightColor: "rgba(0,0,0,0)"
    }
  };
  var fn = 1, ln = 2;
  cn.prototype = {
    set: function (e) {
      return p(this.options, e), e.touchAction && this.touchAction.update(), e.inputTarget && (this.input.destroy(), this.input.target = e.inputTarget, this.input.init()), this
    }, stop: function (e) {
      this.session.stopped = e ? ln : fn
    }, recognize: function (e) {
      var t = this.session;
      if (t.stopped) return;
      this.touchAction.preventDefaults(e);
      var n, r = this.recognizers, i = t.curRecognizer;
      if (!i || i && i.state & $t) i = t.curRecognizer = null;
      var s = 0;
      while (s < r.length) n = r[s], t.stopped !== ln && (!i || n == i || n.canRecognizeWith(i)) ? n.recognize(e) : n.reset(), !i && n.state & (Wt | Xt | Vt) && (i = t.curRecognizer = n), s++
    }, get: function (e) {
      if (e instanceof Qt) return e;
      var t = this.recognizers;
      for (var n = 0; n < t.length; n++) if (t[n].options.event == e) return t[n];
      return null
    }, add: function (e) {
      if (c(e, "add", this)) return this;
      var t = this.get(e.options.event);
      return t && this.remove(t), this.recognizers.push(e), e.manager = this, this.touchAction.update(), e
    }, remove: function (e) {
      if (c(e, "remove", this)) return this;
      var t = this.recognizers;
      return e = this.get(e), t.splice(T(t, e), 1), this.touchAction.update(), this
    }, on: function (e, t) {
      var n = this.handlers;
      return h(x(e), function (e) {
        n[e] = n[e] || [], n[e].push(t)
      }), this
    }, off: function (e, t) {
      var n = this.handlers;
      return h(x(e), function (e) {
        t ? n[e].splice(T(n[e], t), 1) : delete n[e]
      }), this
    }, emit: function (e, t) {
      this.options.domEvents && pn(e, t);
      var n = this.handlers[e] && this.handlers[e].slice();
      if (!n || !n.length) return;
      t.type = e, t.preventDefault = function () {
        t.srcEvent.preventDefault()
      };
      var r = 0;
      while (r < n.length) n[r](t), r++
    }, destroy: function () {
      this.element && hn(this, !1), this.handlers = {}, this.session = {}, this.input.destroy(), this.element = null
    }
  }, p(an, {
    INPUT_START: q,
    INPUT_MOVE: R,
    INPUT_END: U,
    INPUT_CANCEL: z,
    STATE_POSSIBLE: zt,
    STATE_BEGAN: Wt,
    STATE_CHANGED: Xt,
    STATE_ENDED: Vt,
    STATE_RECOGNIZED: $t,
    STATE_CANCELLED: Jt,
    STATE_FAILED: Kt,
    DIRECTION_NONE: W,
    DIRECTION_LEFT: X,
    DIRECTION_RIGHT: V,
    DIRECTION_UP: $,
    DIRECTION_DOWN: J,
    DIRECTION_HORIZONTAL: K,
    DIRECTION_VERTICAL: Q,
    DIRECTION_ALL: G,
    Manager: cn,
    Input: et,
    TouchAction: Rt,
    TouchInput: Ot,
    MouseInput: gt,
    PointerEventInput: St,
    TouchMouseInput: _t,
    SingleTouchInput: Ct,
    Recognizer: Qt,
    AttrRecognizer: en,
    Tap: un,
    Pan: tn,
    Swipe: on,
    Pinch: nn,
    Rotate: sn,
    Press: rn,
    on: b,
    off: w,
    each: h,
    merge: d,
    extend: p,
    inherit: v,
    bindFn: m,
    prefixed: k
  }), typeof define == o && define.amd ? define("hammer", [], function () {
    return an
  }) : typeof module != "undefined" && module.exports ? module.exports = an : e[n] = an
}(window, document, "Hammer"), function (e, t) {
  function r(e, t, n) {
    var r = e.children(), i = !1;
    e.empty();
    for (var s = 0, u = r.length; s < u; s++) {
      var a = r.eq(s);
      e.append(a), n && e.append(n);
      if (o(e, t)) {
        a.remove(), i = !0;
        break
      }
      n && n.detach()
    }
    return i
  }

  function i(t, n, r, u, a) {
    var f = !1,
      l = "a table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style",
      c = "script, .dotdotdot-keep";
    return t.contents().detach().each(function () {
      var h = this, p = e(h);
      if (typeof h == "undefined" || h.nodeType == 3 && e.trim(h.data).length == 0) return !0;
      if (p.is(c)) t.append(p); else {
        if (f) return !0;
        t.append(p), a && !p.is(u.after) && !p.find(u.after).length && t[t.is(l) ? "after" : "append"](a), o(r, u) && (h.nodeType == 3 ? f = s(p, n, r, u, a) : f = i(p, n, r, u, a), f || (p.detach(), f = !0)), f || a && a.detach()
      }
    }), f
  }

  function s(t, n, r, i, s) {
    var a = t[0];
    if (!a) return !1;
    var c = l(a), p = c.indexOf(" ") !== -1 ? " " : "　", d = i.wrap == "letter" ? "" : p, v = c.split(d), m = -1,
      g = -1, y = 0, b = v.length - 1;
    i.fallbackToLetter && y == 0 && b == 0 && (d = "", v = c.split(d), b = v.length - 1);
    while (y <= b && (y != 0 || b != 0)) {
      var w = Math.floor((y + b) / 2);
      if (w == g) break;
      g = w, f(a, v.slice(0, g + 1).join(d) + i.ellipsis), o(r, i) ? (b = g, i.fallbackToLetter && y == 0 && b == 0 && (d = "", v = v[0].split(d), m = -1, g = -1, y = 0, b = v.length - 1)) : (m = g, y = g)
    }
    if (m == -1 || v.length == 1 && v[0].length == 0) {
      var E = t.parent();
      t.detach();
      var S = s && s.closest(E).length ? s.length : 0;
      E.contents().length > S ? a = h(E.contents().eq(-1 - S), n) : (a = h(E, n, !0), S || E.detach()), a && (c = u(l(a), i), f(a, c), S && s && e(a).parent().append(s))
    } else c = u(v.slice(0, m + 1).join(d), i), f(a, c);
    return !0
  }

  function o(e, t) {
    return e.innerHeight() > t.maxHeight
  }

  function u(t, n) {
    while (e.inArray(t.slice(-1), n.lastCharacter.remove) > -1) t = t.slice(0, -1);
    return e.inArray(t.slice(-1), n.lastCharacter.noEllipsis) < 0 && (t += n.ellipsis), t
  }

  function a(e) {
    return {width: e.innerWidth(), height: e.innerHeight()}
  }

  function f(e, t) {
    e.innerText ? e.innerText = t : e.nodeValue ? e.nodeValue = t : e.textContent && (e.textContent = t)
  }

  function l(e) {
    return e.innerText ? e.innerText : e.nodeValue ? e.nodeValue : e.textContent ? e.textContent : ""
  }

  function c(e) {
    do e = e.previousSibling; while (e && e.nodeType !== 1 && e.nodeType !== 3);
    return e
  }

  function h(t, n, r) {
    var i = t && t[0], s;
    if (i) {
      if (!r) {
        if (i.nodeType === 3) return i;
        if (e.trim(t.text())) return h(t.contents().last(), n)
      }
      s = c(i);
      while (!s) {
        t = t.parent();
        if (t.is(n) || !t.length) return !1;
        s = c(t[0])
      }
      if (s) return h(e(s), n)
    }
    return !1
  }

  function p(t, n) {
    return t ? typeof t == "string" ? (t = e(t, n), t.length ? t : !1) : t.jquery ? t : !1 : !1
  }

  function d(e) {
    var t = e.innerHeight(), n = ["paddingTop", "paddingBottom"];
    for (var r = 0, i = n.length; r < i; r++) {
      var s = parseInt(e.css(n[r]), 10);
      isNaN(s) && (s = 0), t -= s
    }
    return t
  }

  if (e.fn.dotdotdot) return;
  e.fn.dotdotdot = function (t) {
    if (this.length == 0) return e.fn.dotdotdot.debug('No element found for "' + this.selector + '".'), this;
    if (this.length > 1) return this.each(function () {
      e(this).dotdotdot(t)
    });
    var s = this;
    s.data("dotdotdot") && s.trigger("destroy.dot"), s.data("dotdotdot-style", s.attr("style") || ""), s.css("word-wrap", "break-word"), s.css("white-space") === "nowrap" && s.css("white-space", "normal"), s.bind_events = function () {
      return s.bind("update.dot", function (t, n) {
        t.preventDefault(), t.stopPropagation(), f.maxHeight = typeof f.height == "number" ? f.height : d(s), f.maxHeight += f.tolerance;
        if (typeof n != "undefined") {
          if (typeof n == "string" || n instanceof HTMLElement) n = e("<div />").append(n).contents();
          n instanceof e && (u = n)
        }
        v = s.wrapInner('<div class="dotdotdot" />').children(), v.contents().detach().end().append(u.clone(!0)).find("br").replaceWith("  <br />  ").end().css({
          height: "auto",
          width: "auto",
          border: "none",
          padding: 0,
          margin: 0
        });
        var a = !1, c = !1;
        return l.afterElement && (a = l.afterElement.clone(!0), a.show(), l.afterElement.detach()), o(v, f) && (f.wrap == "children" ? c = r(v, f, a) : c = i(v, s, v, f, a)), v.replaceWith(v.contents()), v = null, e.isFunction(f.callback) && f.callback.call(s[0], c, u), l.isTruncated = c, c
      }).bind("isTruncated.dot", function (e, t) {
        return e.preventDefault(), e.stopPropagation(), typeof t == "function" && t.call(s[0], l.isTruncated), l.isTruncated
      }).bind("originalContent.dot", function (e, t) {
        return e.preventDefault(), e.stopPropagation(), typeof t == "function" && t.call(s[0], u), u
      }).bind("destroy.dot", function (e) {
        e.preventDefault(), e.stopPropagation(), s.unwatch().unbind_events().contents().detach().end().append(u).attr("style", s.data("dotdotdot-style") || "").data("dotdotdot", !1)
      }), s
    }, s.unbind_events = function () {
      return s.unbind(".dot"), s
    }, s.watch = function () {
      s.unwatch();
      if (f.watch == "window") {
        var t = e(window), n = t.width(), r = t.height();
        t.bind("resize.dot" + l.dotId, function () {
          if (n != t.width() || r != t.height() || !f.windowResizeFix) n = t.width(), r = t.height(), h && clearInterval(h), h = setTimeout(function () {
            s.trigger("update.dot")
          }, 100)
        })
      } else c = a(s), h = setInterval(function () {
        if (s.is(":visible")) {
          var e = a(s);
          if (c.width != e.width || c.height != e.height) s.trigger("update.dot"), c = e
        }
      }, 500);
      return s
    }, s.unwatch = function () {
      return e(window).unbind("resize.dot" + l.dotId), h && clearInterval(h), s
    };
    var u = s.contents(), f = e.extend(!0, {}, e.fn.dotdotdot.defaults, t), l = {}, c = {}, h = null, v = null;
    return f.lastCharacter.remove instanceof Array || (f.lastCharacter.remove = e.fn.dotdotdot.defaultArrays.lastCharacter.remove), f.lastCharacter.noEllipsis instanceof Array || (f.lastCharacter.noEllipsis = e.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis), l.afterElement = p(f.after, s), l.isTruncated = !1, l.dotId = n++, s.data("dotdotdot", !0).bind_events().trigger("update.dot"), f.watch && s.watch(), s
  }, e.fn.dotdotdot.defaults = {
    ellipsis: "... ",
    wrap: "word",
    fallbackToLetter: !0,
    lastCharacter: {},
    tolerance: 0,
    callback: null,
    after: null,
    height: null,
    watch: !1,
    windowResizeFix: !0
  }, e.fn.dotdotdot.defaultArrays = {
    lastCharacter: {
      remove: [" ", "　", ",", ";", ".", "!", "?"],
      noEllipsis: []
    }
  }, e.fn.dotdotdot.debug = function (e) {
  };
  var n = 1, v = e.fn.html;
  e.fn.html = function (n) {
    return n != t && !e.isFunction(n) && this.data("dotdotdot") ? this.trigger("update", [n]) : v.apply(this, arguments)
  };
  var m = e.fn.text;
  e.fn.text = function (n) {
    return n != t && !e.isFunction(n) && this.data("dotdotdot") ? (n = e("<div />").text(n).html(), this.trigger("update", [n])) : m.apply(this, arguments)
  }
}(jQuery), define("dotdotdot", ["jquery"], function () {
});
var WaveSurfer = {
  defaultParams: {
    height: 128,
    waveColor: "#999",
    progressColor: "#555",
    cursorColor: "#333",
    cursorWidth: 1,
    skipLength: 2,
    minPxPerSec: 20,
    pixelRatio: window.devicePixelRatio,
    fillParent: !0,
    scrollParent: !1,
    hideScrollbar: !1,
    normalize: !1,
    audioContext: null,
    container: null,
    dragSelection: !0,
    loopSelection: !0,
    audioRate: 1,
    interact: !0,
    splitChannels: !1,
    mediaContainer: null,
    mediaControls: !1,
    renderer: "Canvas",
    backend: "WebAudio",
    mediaType: "audio"
  }, init: function (e) {
    if (this.params = WaveSurfer.util.extend({}, this.defaultParams, e), this.container = "string" == typeof e.container ? document.querySelector(this.params.container) : this.params.container, !this.container) throw new Error("Container element not found");
    if (null == this.params.mediaContainer ? this.mediaContainer = this.container : "string" == typeof this.params.mediaContainer ? this.mediaContainer = document.querySelector(this.params.mediaContainer) : this.mediaContainer = this.params.mediaContainer, !this.mediaContainer) throw new Error("Media Container element not found");
    this.savedVolume = 0, this.isMuted = !1, this.tmpEvents = [], this.createDrawer(), this.createBackend()
  }, createDrawer: function () {
    var e = this;
    this.drawer = Object.create(WaveSurfer.Drawer[this.params.renderer]), this.drawer.init(this.container, this.params), this.drawer.on("redraw", function () {
      e.drawBuffer(), e.drawer.progress(e.backend.getPlayedPercents())
    }), this.drawer.on("click", function (t, n) {
      setTimeout(function () {
        e.seekTo(n)
      }, 0)
    }), this.drawer.on("scroll", function (t) {
      e.fireEvent("scroll", t)
    })
  }, createBackend: function () {
    var e = this;
    this.backend && this.backend.destroy(), "AudioElement" == this.params.backend && (this.params.backend = "MediaElement"), "WebAudio" != this.params.backend || WaveSurfer.WebAudio.supportsWebAudio() || (this.params.backend = "MediaElement"), this.backend = Object.create(WaveSurfer[this.params.backend]), this.backend.init(this.params), this.backend.on("finish", function () {
      e.fireEvent("finish")
    }), this.backend.on("play", function () {
      e.fireEvent("play")
    }), this.backend.on("pause", function () {
      e.fireEvent("pause")
    }), this.backend.on("audioprocess", function (t) {
      e.drawer.progress(e.backend.getPlayedPercents()), e.fireEvent("audioprocess", t)
    })
  }, getDuration: function () {
    return this.backend.getDuration()
  }, getCurrentTime: function () {
    return this.backend.getCurrentTime()
  }, play: function (e, t) {
    this.backend.play(e, t)
  }, pause: function () {
    this.backend.pause()
  }, playPause: function () {
    this.backend.isPaused() ? this.play() : this.pause()
  }, isPlaying: function () {
    return !this.backend.isPaused()
  }, skipBackward: function (e) {
    this.skip(-e || -this.params.skipLength)
  }, skipForward: function (e) {
    this.skip(e || this.params.skipLength)
  }, skip: function (e) {
    var t = this.getCurrentTime() || 0, n = this.getDuration() || 1;
    t = Math.max(0, Math.min(n, t + (e || 0))), this.seekAndCenter(t / n)
  }, seekAndCenter: function (e) {
    this.seekTo(e), this.drawer.recenter(e)
  }, seekTo: function (e) {
    var t = this.backend.isPaused(), n = this.params.scrollParent;
    t && (this.params.scrollParent = !1), this.backend.seekTo(e * this.getDuration()), this.drawer.progress(this.backend.getPlayedPercents()), t || (this.backend.pause(), this.backend.play()), this.params.scrollParent = n, this.fireEvent("seek", e)
  }, stop: function () {
    this.pause(), this.seekTo(0), this.drawer.progress(0)
  }, setVolume: function (e) {
    this.backend.setVolume(e)
  }, setPlaybackRate: function (e) {
    this.backend.setPlaybackRate(e)
  }, toggleMute: function () {
    this.isMuted ? (this.backend.setVolume(this.savedVolume), this.isMuted = !1) : (this.savedVolume = this.backend.getVolume(), this.backend.setVolume(0), this.isMuted = !0)
  }, toggleScroll: function () {
    this.params.scrollParent = !this.params.scrollParent, this.drawBuffer()
  }, toggleInteraction: function () {
    this.params.interact = !this.params.interact
  }, drawBuffer: function () {
    var e = Math.round(this.getDuration() * this.params.minPxPerSec * this.params.pixelRatio),
      t = this.drawer.getWidth(), n = e;
    this.params.fillParent && (!this.params.scrollParent || t > e) && (n = t);
    var r = this.backend.getPeaks(n);
    this.drawer.drawPeaks(r, n), this.fireEvent("redraw", r, n)
  }, zoom: function (e) {
    this.params.minPxPerSec = e, this.params.scrollParent = !0, this.drawBuffer(), this.seekAndCenter(this.getCurrentTime() / this.getDuration()), this.fireEvent("zoom", e)
  }, loadArrayBuffer: function (e) {
    this.decodeArrayBuffer(e, function (e) {
      this.loadDecodedBuffer(e)
    }.bind(this))
  }, loadDecodedBuffer: function (e) {
    this.backend.load(e), this.drawBuffer(), this.fireEvent("ready")
  }, loadBlob: function (e) {
    var t = this, n = new FileReader;
    n.addEventListener("progress", function (e) {
      t.onProgress(e)
    }), n.addEventListener("load", function (e) {
      t.loadArrayBuffer(e.target.result)
    }), n.addEventListener("error", function () {
      t.fireEvent("error", "Error reading file")
    }), n.readAsArrayBuffer(e), this.empty()
  }, load: function (e, t) {
    switch (this.params.backend) {
      case"WebAudio":
        return this.loadBuffer(e);
      case"MediaElement":
        return this.loadMediaElement(e, t)
    }
  }, loadBuffer: function (e) {
    return this.empty(), this.getArrayBuffer(e, this.loadArrayBuffer.bind(this))
  }, loadMediaElement: function (e, t) {
    this.empty(), this.backend.load(e, this.mediaContainer, t), this.tmpEvents.push(this.backend.once("canplay", function () {
      this.drawBuffer(), this.fireEvent("ready")
    }.bind(this)), this.backend.once("error", function (e) {
      this.fireEvent("error", e)
    }.bind(this))), !t && this.backend.supportsWebAudio() && this.getArrayBuffer(e, function (e) {
      this.decodeArrayBuffer(e, function (e) {
        this.backend.buffer = e, this.drawBuffer()
      }.bind(this))
    }.bind(this))
  }, decodeArrayBuffer: function (e, t) {
    this.backend.decodeArrayBuffer(e, this.fireEvent.bind(this, "decoded"), this.fireEvent.bind(this, "error", "Error decoding audiobuffer")), this.tmpEvents.push(this.once("decoded", t))
  }, getArrayBuffer: function (e, t) {
    var n = this, r = WaveSurfer.util.ajax({url: e, responseType: "arraybuffer"});
    return this.tmpEvents.push(r.on("progress", function (e) {
      n.onProgress(e)
    }), r.on("success", t), r.on("error", function (e) {
      n.fireEvent("error", "XHR error: " + e.target.statusText)
    })), r
  }, onProgress: function (e) {
    if (e.lengthComputable) var t = e.loaded / e.total; else t = e.loaded / (e.loaded + 1e6);
    this.fireEvent("loading", Math.round(100 * t), e.target)
  }, exportPCM: function (e, t, n) {
    e = e || 1024, t = t || 1e4, n = n || !1;
    var r = this.backend.getPeaks(e, t), i = [].map.call(r, function (e) {
      return Math.round(e * t) / t
    }), s = JSON.stringify(i);
    return n || window.open("data:application/json;charset=utf-8," + encodeURIComponent(s)), s
  }, clearTmpEvents: function () {
    this.tmpEvents.forEach(function (e) {
      e.un()
    })
  }, empty: function () {
    this.backend.isPaused() || (this.stop(), this.backend.disconnectSource()), this.clearTmpEvents(), this.drawer.progress(0), this.drawer.setWidth(0), this.drawer.drawPeaks({length: this.drawer.getWidth()}, 0)
  }, destroy: function () {
    this.fireEvent("destroy"), this.clearTmpEvents(), this.unAll(), this.backend.destroy(), this.drawer.destroy()
  }
};
WaveSurfer.create = function (e) {
  var t = Object.create(WaveSurfer);
  return t.init(e), t
}, WaveSurfer.util = {
  extend: function (e) {
    var t = Array.prototype.slice.call(arguments, 1);
    return t.forEach(function (t) {
      Object.keys(t).forEach(function (n) {
        e[n] = t[n]
      })
    }), e
  }, getId: function () {
    return "wavesurfer_" + Math.random().toString(32).substring(2)
  }, ajax: function (e) {
    var t = Object.create(WaveSurfer.Observer), n = new XMLHttpRequest, r = !1;
    return n.open(e.method || "GET", e.url, !0), n.responseType = e.responseType || "json", n.addEventListener("progress", function (e) {
      t.fireEvent("progress", e), e.lengthComputable && e.loaded == e.total && (r = !0)
    }), n.addEventListener("load", function (e) {
      r || t.fireEvent("progress", e), t.fireEvent("load", e), 200 == n.status || 206 == n.status ? t.fireEvent("success", n.response, e) : t.fireEvent("error", e)
    }), n.addEventListener("error", function (e) {
      t.fireEvent("error", e)
    }), n.send(), t.xhr = n, t
  }
}, WaveSurfer.Observer = {
  on: function (e, t) {
    this.handlers || (this.handlers = {});
    var n = this.handlers[e];
    return n || (n = this.handlers[e] = []), n.push(t), {name: e, callback: t, un: this.un.bind(this, e, t)}
  }, un: function (e, t) {
    if (this.handlers) {
      var n = this.handlers[e];
      if (n) if (t) for (var r = n.length - 1; r >= 0; r--) n[r] == t && n.splice(r, 1); else n.length = 0
    }
  }, unAll: function () {
    this.handlers = null
  }, once: function (e, t) {
    var n = this, r = function () {
      t.apply(this, arguments), setTimeout(function () {
        n.un(e, r)
      }, 0)
    };
    return this.on(e, r)
  }, fireEvent: function (e) {
    if (this.handlers) {
      var t = this.handlers[e], n = Array.prototype.slice.call(arguments, 1);
      t && t.forEach(function (e) {
        e.apply(null, n)
      })
    }
  }
}, WaveSurfer.util.extend(WaveSurfer, WaveSurfer.Observer), WaveSurfer.WebAudio = {
  scriptBufferSize: 256, PLAYING_STATE: 0, PAUSED_STATE: 1, FINISHED_STATE: 2, supportsWebAudio: function () {
    return !!window.AudioContext || !!window.webkitAudioContext
  }, getAudioContext: function () {
    return WaveSurfer.WebAudio.audioContext || (WaveSurfer.WebAudio.audioContext = new (window.AudioContext || window.webkitAudioContext)), WaveSurfer.WebAudio.audioContext
  }, getOfflineAudioContext: function (e) {
    return WaveSurfer.WebAudio.offlineAudioContext || (WaveSurfer.WebAudio.offlineAudioContext = new (window.OfflineAudioContext || window.webkitOfflineAudioContext)(1, 2, e)), WaveSurfer.WebAudio.offlineAudioContext
  }, init: function (e) {
    this.params = e, this.ac = e.audioContext || this.getAudioContext(), this.lastPlay = this.ac.currentTime, this.startPosition = 0, this.scheduledPause = null, this.states = [Object.create(WaveSurfer.WebAudio.state.playing), Object.create(WaveSurfer.WebAudio.state.paused), Object.create(WaveSurfer.WebAudio.state.finished)], this.createVolumeNode(), this.createScriptNode(), this.createAnalyserNode(), this.setState(this.PAUSED_STATE), this.setPlaybackRate(this.params.audioRate)
  }, disconnectFilters: function () {
    this.filters && (this.filters.forEach(function (e) {
      e && e.disconnect()
    }), this.filters = null, this.analyser.connect(this.gainNode))
  }, setState: function (e) {
    this.state !== this.states[e] && (this.state = this.states[e], this.state.init.call(this))
  }, setFilter: function () {
    this.setFilters([].slice.call(arguments))
  }, setFilters: function (e) {
    this.disconnectFilters(), e && e.length && (this.filters = e, this.analyser.disconnect(), e.reduce(function (e, t) {
      return e.connect(t), t
    }, this.analyser).connect(this.gainNode))
  }, createScriptNode: function () {
    this.ac.createScriptProcessor ? this.scriptNode = this.ac.createScriptProcessor(this.scriptBufferSize) : this.scriptNode = this.ac.createJavaScriptNode(this.scriptBufferSize), this.scriptNode.connect(this.ac.destination)
  }, addOnAudioProcess: function () {
    var e = this;
    this.scriptNode.onaudioprocess = function () {
      var t = e.getCurrentTime();
      t >= e.getDuration() ? (e.setState(e.FINISHED_STATE), e.fireEvent("pause")) : t >= e.scheduledPause ? (e.setState(e.PAUSED_STATE), e.fireEvent("pause")) : e.state === e.states[e.PLAYING_STATE] && e.fireEvent("audioprocess", t)
    }
  }, removeOnAudioProcess: function () {
    this.scriptNode.onaudioprocess = null
  }, createAnalyserNode: function () {
    this.analyser = this.ac.createAnalyser(), this.analyser.connect(this.gainNode)
  }, createVolumeNode: function () {
    this.ac.createGain ? this.gainNode = this.ac.createGain() : this.gainNode = this.ac.createGainNode(), this.gainNode.connect(this.ac.destination)
  }, setVolume: function (e) {
    this.gainNode.gain.value = e
  }, getVolume: function () {
    return this.gainNode.gain.value
  }, decodeArrayBuffer: function (e, t, n) {
    this.offlineAc || (this.offlineAc = this.getOfflineAudioContext(this.ac ? this.ac.sampleRate : 44100)), this.offlineAc.decodeAudioData(e, function (e) {
      t(e)
    }.bind(this), n)
  }, getPeaks: function (e) {
    for (var t = this.buffer.length / e, n = ~~(t / 10) || 1, r = this.buffer.numberOfChannels, i = [], s = [], o = 0; r > o; o++) for (var u = i[o] = [], a = this.buffer.getChannelData(o), f = 0; e > f; f++) {
      for (var l = ~~(f * t), c = ~~(l + t), h = a[0], p = a[0], d = l; c > d; d += n) {
        var v = a[d];
        v > p && (p = v), h > v && (h = v)
      }
      u[2 * f] = p, u[2 * f + 1] = h, (0 == o || p > s[2 * f]) && (s[2 * f] = p), (0 == o || h < s[2 * f + 1]) && (s[2 * f + 1] = h)
    }
    return this.params.splitChannels ? i : s
  }, getPlayedPercents: function () {
    return this.state.getPlayedPercents.call(this)
  }, disconnectSource: function () {
    this.source && this.source.disconnect()
  }, destroy: function () {
    this.isPaused() || this.pause(), this.unAll(), this.buffer = null, this.disconnectFilters(), this.disconnectSource(), this.gainNode.disconnect(), this.scriptNode.disconnect(), this.analyser.disconnect()
  }, load: function (e) {
    this.startPosition = 0, this.lastPlay = this.ac.currentTime, this.buffer = e, this.createSource()
  }, createSource: function () {
    this.disconnectSource(), this.source = this.ac.createBufferSource(), this.source.start = this.source.start || this.source.noteGrainOn, this.source.stop = this.source.stop || this.source.noteOff, this.source.playbackRate.value = this.playbackRate, this.source.buffer = this.buffer, this.source.connect(this.analyser)
  }, isPaused: function () {
    return this.state !== this.states[this.PLAYING_STATE]
  }, getDuration: function () {
    return this.buffer ? this.buffer.duration : 0
  }, seekTo: function (e, t) {
    return this.scheduledPause = null, null == e && (e = this.getCurrentTime(), e >= this.getDuration() && (e = 0)), null == t && (t = this.getDuration()), this.startPosition = e, this.lastPlay = this.ac.currentTime, this.state === this.states[this.FINISHED_STATE] && this.setState(this.PAUSED_STATE), {
      start: e,
      end: t
    }
  }, getPlayedTime: function () {
    return (this.ac.currentTime - this.lastPlay) * this.playbackRate
  }, play: function (e, t) {
    this.createSource();
    var n = this.seekTo(e, t);
    e = n.start, t = n.end, this.scheduledPause = t, this.source.start(0, e, t - e), this.setState(this.PLAYING_STATE), this.fireEvent("play")
  }, pause: function () {
    this.scheduledPause = null, this.startPosition += this.getPlayedTime(), this.source && this.source.stop(0), this.setState(this.PAUSED_STATE), this.fireEvent("pause")
  }, getCurrentTime: function () {
    return this.state.getCurrentTime.call(this)
  }, setPlaybackRate: function (e) {
    e = e || 1, this.isPaused() ? this.playbackRate = e : (this.pause(), this.playbackRate = e, this.play())
  }
}, WaveSurfer.WebAudio.state = {}, WaveSurfer.WebAudio.state.playing = {
  init: function () {
    this.addOnAudioProcess()
  }, getPlayedPercents: function () {
    var e = this.getDuration();
    return this.getCurrentTime() / e || 0
  }, getCurrentTime: function () {
    return this.startPosition + this.getPlayedTime()
  }
}, WaveSurfer.WebAudio.state.paused = {
  init: function () {
    this.removeOnAudioProcess()
  }, getPlayedPercents: function () {
    var e = this.getDuration();
    return this.getCurrentTime() / e || 0
  }, getCurrentTime: function () {
    return this.startPosition
  }
}, WaveSurfer.WebAudio.state.finished = {
  init: function () {
    this.removeOnAudioProcess(), this.fireEvent("finish")
  }, getPlayedPercents: function () {
    return 1
  }, getCurrentTime: function () {
    return this.getDuration()
  }
}, WaveSurfer.util.extend(WaveSurfer.WebAudio, WaveSurfer.Observer), WaveSurfer.MediaElement = Object.create(WaveSurfer.WebAudio), WaveSurfer.util.extend(WaveSurfer.MediaElement, {
  init: function (e) {
    this.params = e, this.media = {
      currentTime: 0, duration: 0, paused: !0, playbackRate: 1, play: function () {
      }, pause: function () {
      }
    }, this.mediaType = e.mediaType.toLowerCase(), this.elementPosition = e.elementPosition
  }, load: function (e, t, n) {
    var r = this, i = document.createElement(this.mediaType);
    i.controls = this.params.mediaControls, i.autoplay = !1, i.preload = "auto", i.src = e, i.style.width = "100%", i.addEventListener("error", function () {
      r.fireEvent("error", "Error loading media element")
    }), i.addEventListener("canplay", function () {
      r.fireEvent("canplay")
    }), i.addEventListener("ended", function () {
      r.fireEvent("finish")
    }), i.addEventListener("timeupdate", function () {
      r.fireEvent("audioprocess", r.getCurrentTime())
    });
    var s = t.querySelector(this.mediaType);
    s && t.removeChild(s), t.appendChild(i), this.media = i, this.peaks = n, this.onPlayEnd = null, this.buffer = null, this.setPlaybackRate(this.playbackRate)
  }, isPaused: function () {
    return !this.media || this.media.paused
  }, getDuration: function () {
    var e = this.media.duration;
    return e >= 1 / 0 && (e = this.media.seekable.end()), e
  }, getCurrentTime: function () {
    return this.media && this.media.currentTime
  }, getPlayedPercents: function () {
    return this.getCurrentTime() / this.getDuration() || 0
  }, setPlaybackRate: function (e) {
    this.playbackRate = e || 1, this.media.playbackRate = this.playbackRate
  }, seekTo: function (e) {
    null != e && (this.media.currentTime = e), this.clearPlayEnd()
  }, play: function (e, t) {
    this.seekTo(e), this.media.play(), t && this.setPlayEnd(t), this.fireEvent("play")
  }, pause: function () {
    this.media && this.media.pause(), this.clearPlayEnd(), this.fireEvent("pause")
  }, setPlayEnd: function (e) {
    var t = this;
    this.onPlayEnd = function (n) {
      n >= e && (t.pause(), t.seekTo(e))
    }, this.on("audioprocess", this.onPlayEnd)
  }, clearPlayEnd: function () {
    this.onPlayEnd && (this.un("audioprocess", this.onPlayEnd), this.onPlayEnd = null)
  }, getPeaks: function (e) {
    return this.buffer ? WaveSurfer.WebAudio.getPeaks.call(this, e) : this.peaks || []
  }, getVolume: function () {
    return this.media.volume
  }, setVolume: function (e) {
    this.media.volume = e
  }, destroy: function () {
    this.pause(), this.unAll(), this.media && this.media.parentNode && this.media.parentNode.removeChild(this.media), this.media = null
  }
}), WaveSurfer.AudioElement = WaveSurfer.MediaElement, WaveSurfer.Drawer = {
  init: function (e, t) {
    this.container = e, this.params = t, this.width = 0, this.height = t.height * this.params.pixelRatio, this.lastPos = 0, this.createWrapper(), this.createElements()
  }, createWrapper: function () {
    this.wrapper = this.container.appendChild(document.createElement("wave")), this.style(this.wrapper, {
      display: "block",
      position: "relative",
      userSelect: "none",
      webkitUserSelect: "none",
      height: this.params.height + "px"
    }), (this.params.fillParent || this.params.scrollParent) && this.style(this.wrapper, {
      width: "100%",
      overflowX: this.params.hideScrollbar ? "hidden" : "auto",
      overflowY: "hidden"
    }), this.setupWrapperEvents()
  }, handleEvent: function (e) {
    e.preventDefault();
    var t = this.wrapper.getBoundingClientRect();
    return (e.clientX - t.left + this.wrapper.scrollLeft) / this.wrapper.scrollWidth || 0
  }, setupWrapperEvents: function () {
    var e = this;
    this.wrapper.addEventListener("click", function (t) {
      var n = e.wrapper.offsetHeight - e.wrapper.clientHeight;
      if (0 != n) {
        var r = e.wrapper.getBoundingClientRect();
        if (t.clientY >= r.bottom - n) return
      }
      e.params.interact && e.fireEvent("click", t, e.handleEvent(t))
    }), this.wrapper.addEventListener("scroll", function (t) {
      e.fireEvent("scroll", t)
    })
  }, drawPeaks: function (e, t) {
    this.resetScroll(), this.setWidth(t), this.params.barWidth ? this.drawBars(e) : this.drawWave(e)
  }, style: function (e, t) {
    return Object.keys(t).forEach(function (n) {
      e.style[n] !== t[n] && (e.style[n] = t[n])
    }), e
  }, resetScroll: function () {
    null !== this.wrapper && (this.wrapper.scrollLeft = 0)
  }, recenter: function (e) {
    var t = this.wrapper.scrollWidth * e;
    this.recenterOnPosition(t, !0)
  }, recenterOnPosition: function (e, t) {
    var n = this.wrapper.scrollLeft, r = ~~(this.wrapper.clientWidth / 2), i = e - r, s = i - n,
      o = this.wrapper.scrollWidth - this.wrapper.clientWidth;
    if (0 != o) {
      if (!t && s >= -r && r > s) {
        var u = 5;
        s = Math.max(-u, Math.min(u, s)), i = n + s
      }
      i = Math.max(0, Math.min(o, i)), i != n && (this.wrapper.scrollLeft = i)
    }
  }, getWidth: function () {
    return Math.round(this.container.clientWidth * this.params.pixelRatio)
  }, setWidth: function (e) {
    e != this.width && (this.width = e, this.params.fillParent || this.params.scrollParent ? this.style(this.wrapper, {width: ""}) : this.style(this.wrapper, {width: ~~(this.width / this.params.pixelRatio) + "px"}), this.updateSize())
  }, setHeight: function (e) {
    e != this.height && (this.height = e, this.style(this.wrapper, {height: ~~(this.height / this.params.pixelRatio) + "px"}), this.updateSize())
  }, progress: function (e) {
    var t = 1 / this.params.pixelRatio, n = Math.round(e * this.width) * t;
    if (n < this.lastPos || n - this.lastPos >= t) {
      if (this.lastPos = n, this.params.scrollParent) {
        var r = ~~(this.wrapper.scrollWidth * e);
        this.recenterOnPosition(r)
      }
      this.updateProgress(e)
    }
  }, destroy: function () {
    this.unAll(), this.wrapper && (this.container.removeChild(this.wrapper), this.wrapper = null)
  }, createElements: function () {
  }, updateSize: function () {
  }, drawWave: function (e, t) {
  }, clearWave: function () {
  }, updateProgress: function (e) {
  }
}, WaveSurfer.util.extend(WaveSurfer.Drawer, WaveSurfer.Observer), WaveSurfer.Drawer.Canvas = Object.create(WaveSurfer.Drawer), WaveSurfer.util.extend(WaveSurfer.Drawer.Canvas, {
  createElements: function () {
    var e = this.wrapper.appendChild(this.style(document.createElement("canvas"), {
      position: "absolute",
      zIndex: 1,
      left: 0,
      top: 0,
      bottom: 0
    }));
    if (this.waveCc = e.getContext("2d"), this.progressWave = this.wrapper.appendChild(this.style(document.createElement("wave"), {
      position: "absolute",
      zIndex: 2,
      left: 0,
      top: 0,
      bottom: 0,
      overflow: "hidden",
      width: "0",
      display: "none",
      boxSizing: "border-box",
      borderRightStyle: "solid",
      borderRightWidth: this.params.cursorWidth + "px",
      borderRightColor: this.params.cursorColor
    })), this.params.waveColor != this.params.progressColor) {
      var t = this.progressWave.appendChild(document.createElement("canvas"));
      this.progressCc = t.getContext("2d")
    }
  }, updateSize: function () {
    var e = Math.round(this.width / this.params.pixelRatio);
    this.waveCc.canvas.width = this.width, this.waveCc.canvas.height = this.height, this.style(this.waveCc.canvas, {width: e + "px"}), this.style(this.progressWave, {display: "block"}), this.progressCc && (this.progressCc.canvas.width = this.width, this.progressCc.canvas.height = this.height, this.style(this.progressCc.canvas, {width: e + "px"})), this.clearWave()
  }, clearWave: function () {
    this.waveCc.clearRect(0, 0, this.width, this.height), this.progressCc && this.progressCc.clearRect(0, 0, this.width, this.height)
  }, drawBars: function (e, t) {
    if (e[0] instanceof Array) {
      var n = e;
      if (this.params.splitChannels) return this.setHeight(n.length * this.params.height * this.params.pixelRatio), void n.forEach(this.drawBars, this);
      e = n[0]
    }
    var r = .5 / this.params.pixelRatio, i = this.width, s = this.params.height * this.params.pixelRatio,
      o = s * t || 0, u = s / 2, a = ~~(e.length / 2), f = this.params.barWidth * this.params.pixelRatio,
      l = Math.max(this.params.pixelRatio, ~~(f / 2)), c = f + l, h = 1;
    if (this.params.normalize) {
      var p, d;
      d = Math.max.apply(Math, e), p = Math.min.apply(Math, e), h = d, -p > h && (h = -p)
    }
    var v = a / i;
    this.waveCc.fillStyle = this.params.waveColor, this.progressCc && (this.progressCc.fillStyle = this.params.progressColor), [this.waveCc, this.progressCc].forEach(function (t) {
      if (t) if (this.params.reflection) for (var n = 0; i > n; n += c) {
        var s = Math.round(e[Math.floor(2 * n * v)] / h * u);
        t.fillRect(n + r, u - s + o, f + r, 2 * s)
      } else {
        for (var n = 0; i > n; n += c) {
          var s = Math.round(e[Math.floor(2 * n * v)] / h * u);
          t.fillRect(n + r, u - s + o, f + r, s)
        }
        for (var n = 0; i > n; n += c) {
          var s = Math.round(e[2 * n * v + 1] / h * u);
          t.fillRect(n + r, u - s + o, f + r, s)
        }
      }
    }, this)
  }, drawWave: function (e, t) {
    if (e[0] instanceof Array) {
      var n = e;
      if (this.params.splitChannels) return this.setHeight(n.length * this.params.height * this.params.pixelRatio), void n.forEach(this.drawWave, this);
      e = n[0]
    }
    var r = .5 / this.params.pixelRatio, i = this.params.height * this.params.pixelRatio, s = i * t || 0, o = i / 2,
      u = ~~(e.length / 2), a = 1;
    this.params.fillParent && this.width != u && (a = this.width / u);
    var f = 1;
    if (this.params.normalize) {
      var l, c;
      c = Math.max.apply(Math, e), l = Math.min.apply(Math, e), f = c, -l > f && (f = -l)
    }
    this.waveCc.fillStyle = this.params.waveColor, this.progressCc && (this.progressCc.fillStyle = this.params.progressColor), [this.waveCc, this.progressCc].forEach(function (t) {
      if (t) {
        t.beginPath(), t.moveTo(r, o + s);
        for (var n = 0; u > n; n++) {
          var i = Math.round(e[2 * n] / f * o);
          t.lineTo(n * a + r, o - i + s)
        }
        for (var n = u - 1; n >= 0; n--) {
          var i = Math.round(e[2 * n + 1] / f * o);
          t.lineTo(n * a + r, o - i + s)
        }
        t.closePath(), t.fill(), t.fillRect(0, o + s - r, this.width, r)
      }
    }, this)
  }, updateProgress: function (e) {
    var t = Math.round(this.width * e) / this.params.pixelRatio;
    this.style(this.progressWave, {width: t + "px"})
  }
}), function () {
  var e = function () {
    var e = document.querySelectorAll("wavesurfer");
    Array.prototype.forEach.call(e, function (e) {
      var t = WaveSurfer.util.extend({container: e, backend: "MediaElement", mediaControls: !0}, e.dataset);
      e.style.display = "block";
      var n = WaveSurfer.create(t);
      if (e.dataset.peaks) var r = JSON.parse(e.dataset.peaks);
      n.load(e.dataset.url, r)
    })
  };
  "complete" === document.readyState ? e() : window.addEventListener("load", e)
}(), define("wavesurfer", function () {
}), define("lp_timeline/views/modules/LPTimelineModuleAudioView", ["jquery", "underscore", "backbone", "wavesurfer", "lp_timeline/views/LPTimelineAbstractItemView"], function (e, t, n, r, i) {
  var s;
  return s = i.extend({
    events: {click: "onClick"}, initialize: function () {
      return this.isReady = !1, this.model = this.$el.find(".module-data").data(), i.prototype.initialize.call(this)
    }, loadAudio: function (t) {
      var n, r, i, s, o, u, a, f, l, c, h, p = this;
      if (this.ws) return;
      console.log("LPTimelineModuleAudioView loadAudio"), r = this.$el.find(".module-audio-player"), i = this.$el.find(".audioplay-icon"), n = this.$el.find(".audiopause-icon"), o = this.$el.find(".remaining"), s = this.$el.find(".module-audio-preload"), u = this.$el.find(".total"), this.$el.find(".module-audio-click-text").remove(), s.show(), l = this, this.ws = Object.create(WaveSurfer), h = this.model.mediauri, f = this.model.id || "wave";
      try {
        this.ws.init({
          container: e("#" + f).get(0),
          waveColor: "#666",
          progressColor: "#81c0c6",
          barWidth: 2,
          height: 62,
          hideScrollbar: !0
        }), this.ws.on("ready", function () {
          return c(), s.remove(), t && p.ws.playPause(), p.isReady = !0, i.click(function () {
            return p.ws.playPause()
          }), n.click(function () {
            return p.ws.playPause()
          })
        }), this.ws.on("play", function () {
          return i.toggle(), n.toggle(), r.addClass("pause")
        }), this.ws.on("pause", function () {
          return i.toggle(), n.toggle(), r.removeClass("pause")
        }), this.ws.on("audioprocess", function () {
          return c()
        }), this.ws.load(h)
      } catch (d) {
        a = d, console.log("AUDIO ERROR", a)
      }
      return c = function () {
        var e, t;
        return e = app.utils.millisecondsToTime(l.ws.getCurrentTime() * 1e3), t = app.utils.millisecondsToTime(l.ws.getDuration() * 1e3), o.text(e), u.text(t)
      }
    }, redraw: function () {
      if (this.isReady) return this.ws.empty(), this.ws.drawBuffer()
    }, stop: function () {
      if (this.isReady && this.ws.isPlaying()) return this.ws.pause()
    }, onClick: function () {
      if (this.isMobile) return this.loadAudio(!0)
    }, destroy: function () {
      return this.ws = null, i.prototype.destroy.call(this)
    }
  })
}), function (window, undefined) {
  function returnTrue() {
    return !0
  }

  function returnFalse() {
    return !1
  }

  var document = window.document;
  document.createElement("video"), document.createElement("audio");
  var VideoJS = function (e, t, n) {
    var r;
    if (typeof e == "string") {
      e.indexOf("#") === 0 && (e = e.slice(1));
      if (_V_.players[e]) return _V_.players[e];
      r = _V_.el(e)
    } else r = e;
    if (!r || !r.nodeName) throw new TypeError("The element or ID supplied is not valid. (VideoJS)");
    return r.player || new _V_.Player(r, t, n)
  }, _V_ = VideoJS, CDN_VERSION = "3.2";
  VideoJS.players = {}, VideoJS.options = {
    techOrder: ["html5", "flash"],
    html5: {},
    flash: {swf: "http://vjs.zencdn.net/c/video-js.swf"},
    width: "auto",
    height: "auto",
    defaultVolume: 0,
    components: {posterImage: {}, textTrackDisplay: {}, loadingSpinner: {}, bigPlayButton: {}, controlBar: {}}
  }, CDN_VERSION != "GENERATED_CDN_VSN" && (_V_.options.flash.swf = "http://vjs.zencdn.net/" + CDN_VERSION + "/video-js.swf"), _V_.merge = function (e, t, n) {
    t || (t = {});
    for (var r in t) t.hasOwnProperty(r) && (!n || !e.hasOwnProperty(r)) && (e[r] = t[r]);
    return e
  }, _V_.extend = function (e) {
    this.merge(this, e, !0)
  }, _V_.extend({
    tech: {}, controlSets: {}, isIE: function () {
      return !1
    }, isFF: function () {
      return !!_V_.ua.match("Firefox")
    }, isIPad: function () {
      return navigator.userAgent.match(/iPad/i) !== null
    }, isIPhone: function () {
      return navigator.userAgent.match(/iPhone/i) !== null
    }, isIOS: function () {
      return VideoJS.isIPhone() || VideoJS.isIPad()
    }, iOSVersion: function () {
      var e = navigator.userAgent.match(/OS (\d+)_/i);
      if (e && e[1]) return e[1]
    }, isAndroid: function () {
      return navigator.userAgent.match(/Android.*AppleWebKit/i) !== null
    }, androidVersion: function () {
      var e = navigator.userAgent.match(/Android (\d+)\./i);
      if (e && e[1]) return e[1]
    }, testVid: document.createElement("video"), ua: navigator.userAgent, support: {}, each: function (e, t) {
      if (!e || e.length === 0) return;
      for (var n = 0, r = e.length; n < r; n++) t.call(this, e[n], n)
    }, eachProp: function (e, t) {
      if (!e) return;
      for (var n in e) e.hasOwnProperty(n) && t.call(this, n, e[n])
    }, el: function (e) {
      return document.getElementById(e)
    }, createElement: function (e, t) {
      var n = document.createElement(e), r;
      for (r in t) t.hasOwnProperty(r) && (r.indexOf("-") !== -1 ? n.setAttribute(r, t[r]) : n[r] = t[r]);
      return n
    }, insertFirst: function (e, t) {
      t.firstChild ? t.insertBefore(e, t.firstChild) : t.appendChild(e)
    }, addClass: function (e, t) {
      (" " + e.className + " ").indexOf(" " + t + " ") == -1 && (e.className = e.className === "" ? t : e.className + " " + t)
    }, removeClass: function (e, t) {
      if (e.className.indexOf(t) == -1) return;
      var n = e.className.split(" ");
      n.splice(n.indexOf(t), 1), e.className = n.join(" ")
    }, remove: function (e, t) {
      if (!t) return;
      var n = t.indexOf(e);
      if (n != -1) return t.splice(n, 1)
    }, blockTextSelection: function () {
      document.body.focus(), document.onselectstart = function () {
        return !1
      }
    }, unblockTextSelection: function () {
      document.onselectstart = function () {
        return !0
      }
    }, formatTime: function (e, t) {
      t = t || e;
      var n = Math.floor(e % 60), r = Math.floor(e / 60 % 60), i = Math.floor(e / 3600), s = Math.floor(t / 60 % 60),
        o = Math.floor(t / 3600);
      return i = i > 0 || o > 0 ? i + ":" : "", r = ((i || s >= 10) && r < 10 ? "0" + r : r) + ":", n = n < 10 ? "0" + n : n, i + r + n
    }, uc: function (e) {
      return e.charAt(0).toUpperCase() + e.slice(1)
    }, getRelativePosition: function (e, t) {
      return Math.max(0, Math.min(1, (e - _V_.findPosX(t)) / t.offsetWidth))
    }, getComputedStyleValue: function (e, t) {
      return window.getComputedStyle(e, null).getPropertyValue(t)
    }, trim: function (e) {
      return e.toString().replace(/^\s+/, "").replace(/\s+$/, "")
    }, round: function (e, t) {
      return t || (t = 0), Math.round(e * Math.pow(10, t)) / Math.pow(10, t)
    }, isEmpty: function (e) {
      for (var t in e) return !1;
      return !0
    }, createTimeRange: function (e, t) {
      return {
        length: 1, start: function () {
          return e
        }, end: function () {
          return t
        }
      }
    }, cache: {}, guid: 1, expando: "vdata" + (new Date).getTime(), getData: function (e) {
      var t = e[_V_.expando];
      return t || (t = e[_V_.expando] = _V_.guid++, _V_.cache[t] = {}), _V_.cache[t]
    }, removeData: function (e) {
      var t = e[_V_.expando];
      if (!t) return;
      delete _V_.cache[t];
      try {
        delete e[_V_.expando]
      } catch (n) {
        e.removeAttribute ? e.removeAttribute(_V_.expando) : e[_V_.expando] = null
      }
    }, proxy: function (e, t, n) {
      t.guid || (t.guid = _V_.guid++);
      var r = function () {
        return t.apply(e, arguments)
      };
      return r.guid = n ? n + "_" + t.guid : t.guid, r
    }, get: function (e, t, n) {
      var r = e.indexOf("file:") == 0 || window.location.href.indexOf("file:") == 0 && e.indexOf("http:") == -1;
      typeof XMLHttpRequest == "undefined" && (XMLHttpRequest = function () {
        try {
          return new ActiveXObject("Msxml2.XMLHTTP.6.0")
        } catch (e) {
        }
        try {
          return new ActiveXObject("Msxml2.XMLHTTP.3.0")
        } catch (t) {
        }
        try {
          return new ActiveXObject("Msxml2.XMLHTTP")
        } catch (n) {
        }
        throw new Error("This browser does not support XMLHttpRequest.")
      });
      var i = new XMLHttpRequest;
      try {
        i.open("GET", e)
      } catch (s) {
        return _V_.log("VideoJS XMLHttpRequest (open)", s), !1
      }
      i.onreadystatechange = _V_.proxy(this, function () {
        i.readyState == 4 && (i.status == 200 || r && i.status == 0 ? t(i.responseText) : n && n())
      });
      try {
        i.send()
      } catch (s) {
        _V_.log("VideoJS XMLHttpRequest (send)", s), n && n(s)
      }
    }, setLocalStorage: function (e, t) {
      var n = window.localStorage || !1;
      if (!n) return;
      try {
        n[e] = t
      } catch (r) {
        r.code == 22 || r.code == 1014 ? _V_.log("LocalStorage Full (VideoJS)", r) : _V_.log("LocalStorage Error (VideoJS)", r)
      }
    }, getAbsoluteURL: function (e) {
      return e.match(/^https?:\/\//) || (e = _V_.createElement("div", {innerHTML: '<a href="' + e + '">x</a>'}).firstChild.href), e
    }
  }), _V_.log = function () {
    _V_.log.history = _V_.log.history || [], _V_.log.history.push(arguments);
    if (window.console) {
      arguments.callee = arguments.callee.caller;
      var e = [].slice.call(arguments);
      typeof console.log == "object" ? _V_.log.apply.call(console.log, console, e) : console.log.apply(console, e)
    }
  }, function (e) {
    function t() {
    }

    for (var n = "assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,timeStamp,profile,profileEnd,time,timeEnd,trace,warn".split(","), r; r = n.pop();) e[r] = e[r] || t
  }(function () {
    try {
      return console.log(), window.console
    } catch (e) {
      return window.console = {}
    }
  }()), "getBoundingClientRect" in document.documentElement ? _V_.findPosX = function (e) {
    var t;
    try {
      t = e.getBoundingClientRect()
    } catch (n) {
    }
    if (!t) return 0;
    var r = document.documentElement, i = document.body, s = r.clientLeft || i.clientLeft || 0,
      o = window.pageXOffset || i.scrollLeft, u = t.left + o - s;
    return u
  } : _V_.findPosX = function (e) {
    var t = e.offsetLeft;
    while (e = obj.offsetParent) e.className.indexOf("video-js") == -1, t += e.offsetLeft;
    return t
  }, function () {
    var e = !1, t = /xyz/.test(function () {
      xyz
    }) ? /\b_super\b/ : /.*/;
    _V_.Class = function () {
    }, _V_.Class.extend = function (n) {
      function o() {
        if (!e && this.init) return this.init.apply(this, arguments);
        if (!e) return arguments.callee.prototype.init()
      }

      var r = this.prototype;
      e = !0;
      var i = new this;
      e = !1;
      for (var s in n) i[s] = typeof n[s] == "function" && typeof r[s] == "function" && t.test(n[s]) ? function (e, t) {
        return function () {
          var n = this._super;
          this._super = r[e];
          var i = t.apply(this, arguments);
          return this._super = n, i
        }
      }(s, n[s]) : n[s];
      return o.prototype = i, o.constructor = o, o.extend = arguments.callee, o
    }
  }(), _V_.Component = _V_.Class.extend({
    init: function (e, t) {
      this.player = e, t = this.options = _V_.merge(this.options || {}, t), t.el ? this.el = t.el : this.el = this.createElement(), this.initComponents()
    }, destroy: function () {
    }, createElement: function (e, t) {
      return _V_.createElement(e || "div", t)
    }, buildCSSClass: function () {
      return ""
    }, initComponents: function () {
      var e = this.options;
      e && e.components && this.eachProp(e.components, function (e, t) {
        var n = this.proxy(function () {
          this[e] = this.addComponent(e, t)
        });
        t.loadEvent ? this.one(t.loadEvent, n) : n()
      })
    }, addComponent: function (e, t) {
      var n, r;
      return typeof e == "string" ? (t = t || {}, r = t.componentClass || _V_.uc(e), n = new _V_[r](this.player || this, t)) : n = e, this.el.appendChild(n.el), n
    }, removeComponent: function (e) {
      this.el.removeChild(e.el)
    }, show: function () {
      this.el.style.display = "block"
    }, hide: function () {
      this.el.style.display = "none"
    }, fadeIn: function () {
      this.removeClass("vjs-fade-out"), this.addClass("vjs-fade-in")
    }, fadeOut: function () {
      this.removeClass("vjs-fade-in"), this.addClass("vjs-fade-out")
    }, lockShowing: function () {
      var e = this.el.style;
      e.display = "block", e.opacity = 1, e.visiblity = "visible"
    }, unlockShowing: function () {
      var e = this.el.style;
      e.display = "", e.opacity = "", e.visiblity = ""
    }, addClass: function (e) {
      _V_.addClass(this.el, e)
    }, removeClass: function (e) {
      _V_.removeClass(this.el, e)
    }, addEvent: function (e, t, n) {
      return _V_.addEvent(this.el, e, _V_.proxy(this, t))
    }, removeEvent: function (e, t) {
      return _V_.removeEvent(this.el, e, t)
    }, triggerEvent: function (e, t) {
      return _V_.triggerEvent(this.el, e, t)
    }, one: function (e, t) {
      _V_.one(this.el, e, _V_.proxy(this, t))
    }, ready: function (e) {
      return e ? (this.isReady ? e.call(this) : (this.readyQueue === undefined && (this.readyQueue = []), this.readyQueue.push(e)), this) : this
    }, triggerReady: function () {
      this.isReady = !0, this.readyQueue && this.readyQueue.length > 0 && (this.each(this.readyQueue, function (e) {
        e.call(this)
      }), this.readyQueue = [], this.triggerEvent("ready"))
    }, each: function (e, t) {
      _V_.each.call(this, e, t)
    }, eachProp: function (e, t) {
      _V_.eachProp.call(this, e, t)
    }, extend: function (e) {
      _V_.merge(this, e)
    }, proxy: function (e, t) {
      return _V_.proxy(this, e, t)
    }
  }), _V_.Control = _V_.Component.extend({
    buildCSSClass: function () {
      return "vjs-control " + this._super()
    }
  }), _V_.ControlBar = _V_.Component.extend({
    options: {
      loadEvent: "play",
      components: {
        playToggle: {},
        fullscreenToggle: {},
        currentTimeDisplay: {},
        timeDivider: {},
        durationDisplay: {},
        remainingTimeDisplay: {},
        progressControl: {},
        volumeControl: {},
        muteToggle: {}
      }
    }, init: function (e, t) {
      this._super(e, t), e.addEvent("play", this.proxy(function () {
        this.fadeIn(), this.player.addEvent("mouseover", this.proxy(this.fadeIn)), this.player.addEvent("mouseout", this.proxy(this.fadeOut))
      }))
    }, createElement: function () {
      return _V_.createElement("div", {className: "vjs-controls"})
    }, fadeIn: function () {
      this._super(), this.player.triggerEvent("controlsvisible")
    }, fadeOut: function () {
      this._super(), this.player.triggerEvent("controlshidden")
    }, lockShowing: function () {
      this.el.style.opacity = "1"
    }
  }), _V_.Button = _V_.Control.extend({
    init: function (e, t) {
      this._super(e, t), this.addEvent("click", this.onClick), this.addEvent("focus", this.onFocus), this.addEvent("blur", this.onBlur)
    }, createElement: function (e, t) {
      return t = _V_.merge({
        className: this.buildCSSClass(),
        innerHTML: '<div><span class="vjs-control-text">' + (this.buttonText || "Need Text") + "</span></div>",
        role: "button",
        tabIndex: 0
      }, t), this._super(e, t)
    }, onClick: function () {
    }, onFocus: function () {
      _V_.addEvent(document, "keyup", _V_.proxy(this, this.onKeyPress))
    }, onKeyPress: function (e) {
      if (e.which == 32 || e.which == 13) e.preventDefault(), this.onClick()
    }, onBlur: function () {
      _V_.removeEvent(document, "keyup", _V_.proxy(this, this.onKeyPress))
    }
  }), _V_.PlayButton = _V_.Button.extend({
    buttonText: "Play", buildCSSClass: function () {
      return "vjs-play-button " + this._super()
    }, onClick: function () {
      this.player.play()
    }
  }), _V_.PauseButton = _V_.Button.extend({
    buttonText: "Pause", buildCSSClass: function () {
      return "vjs-pause-button " + this._super()
    }, onClick: function () {
      this.player.pause()
    }
  }), _V_.PlayToggle = _V_.Button.extend({
    buttonText: "Play", init: function (e, t) {
      this._super(e, t), e.addEvent("play", _V_.proxy(this, this.onPlay)), e.addEvent("pause", _V_.proxy(this, this.onPause))
    }, buildCSSClass: function () {
      return "vjs-play-control " + this._super()
    }, onClick: function () {
      this.player.paused() ? this.player.play() : this.player.pause()
    }, onPlay: function () {
      _V_.removeClass(this.el, "vjs-paused"), _V_.addClass(this.el, "vjs-playing")
    }, onPause: function () {
      _V_.removeClass(this.el, "vjs-playing"), _V_.addClass(this.el, "vjs-paused")
    }
  }), _V_.FullscreenToggle = _V_.Button.extend({
    buttonText: "Fullscreen", buildCSSClass: function () {
      return "vjs-fullscreen-control " + this._super()
    }, onClick: function () {
      this.player.isFullScreen ? this.player.cancelFullScreen() : this.player.requestFullScreen()
    }
  }), _V_.BigPlayButton = _V_.Button.extend({
    init: function (e, t) {
      this._super(e, t), e.addEvent("play", _V_.proxy(this, this.hide)), e.addEvent("ended", _V_.proxy(this, this.show))
    }, createElement: function () {
      return this._super("div", {className: "vjs-big-play-button", innerHTML: "<span></span>"})
    }, onClick: function () {
      this.player.currentTime() && this.player.currentTime(0), this.player.play()
    }
  }), _V_.LoadingSpinner = _V_.Component.extend({
    init: function (e, t) {
      this._super(e, t), e.addEvent("canplay", _V_.proxy(this, this.hide)), e.addEvent("canplaythrough", _V_.proxy(this, this.hide)), e.addEvent("playing", _V_.proxy(this, this.hide)), e.addEvent("seeking", _V_.proxy(this, this.show)), e.addEvent("error", _V_.proxy(this, this.show)), e.addEvent("waiting", _V_.proxy(this, this.show))
    }, createElement: function () {
      var e, t;
      return typeof this.player.el.style.WebkitBorderRadius == "string" || typeof this.player.el.style.MozBorderRadius == "string" || typeof this.player.el.style.KhtmlBorderRadius == "string" || typeof this.player.el.style.borderRadius == "string" ? (e = "vjs-loading-spinner", t = "<div class='ball1'></div><div class='ball2'></div><div class='ball3'></div><div class='ball4'></div><div class='ball5'></div><div class='ball6'></div><div class='ball7'></div><div class='ball8'></div>") : (e = "vjs-loading-spinner-fallback", t = ""), this._super("div", {
        className: e,
        innerHTML: t
      })
    }
  }), _V_.CurrentTimeDisplay = _V_.Component.extend({
    init: function (e, t) {
      this._super(e, t), e.addEvent("timeupdate", _V_.proxy(this, this.updateContent))
    }, createElement: function () {
      var e = this._super("div", {className: "vjs-current-time vjs-time-controls vjs-control"});
      return this.content = _V_.createElement("div", {
        className: "vjs-current-time-display",
        innerHTML: "0:00"
      }), e.appendChild(_V_.createElement("div").appendChild(this.content)), e
    }, updateContent: function () {
      var e = this.player.scrubbing ? this.player.values.currentTime : this.player.currentTime();
      this.content.innerHTML = _V_.formatTime(e, this.player.duration())
    }
  }), _V_.DurationDisplay = _V_.Component.extend({
    init: function (e, t) {
      this._super(e, t), e.addEvent("timeupdate", _V_.proxy(this, this.updateContent))
    }, createElement: function () {
      var e = this._super("div", {className: "vjs-duration vjs-time-controls vjs-control"});
      return this.content = _V_.createElement("div", {
        className: "vjs-duration-display",
        innerHTML: "0:00"
      }), e.appendChild(_V_.createElement("div").appendChild(this.content)), e
    }, updateContent: function () {
      this.player.duration() && (this.content.innerHTML = _V_.formatTime(this.player.duration()))
    }
  }), _V_.TimeDivider = _V_.Component.extend({
    createElement: function () {
      return this._super("div", {className: "vjs-time-divider", innerHTML: "<div><span>/</span></div>"})
    }
  }), _V_.RemainingTimeDisplay = _V_.Component.extend({
    init: function (e, t) {
      this._super(e, t), e.addEvent("timeupdate", _V_.proxy(this, this.updateContent))
    }, createElement: function () {
      var e = this._super("div", {className: "vjs-remaining-time vjs-time-controls vjs-control"});
      return this.content = _V_.createElement("div", {
        className: "vjs-remaining-time-display",
        innerHTML: "-0:00"
      }), e.appendChild(_V_.createElement("div").appendChild(this.content)), e
    }, updateContent: function () {
      this.player.duration() && (this.content.innerHTML = "-" + _V_.formatTime(this.player.remainingTime()))
    }
  }), _V_.Slider = _V_.Component.extend({
    init: function (e, t) {
      this._super(e, t), e.addEvent(this.playerEvent, _V_.proxy(this, this.update)), this.addEvent("mousedown", this.onMouseDown), this.addEvent("focus", this.onFocus), this.addEvent("blur", this.onBlur), this.player.addEvent("controlsvisible", this.proxy(this.update)), this.update()
    }, createElement: function (e, t) {
      return t = _V_.merge({
        role: "slider",
        "aria-valuenow": 0,
        "aria-valuemin": 0,
        "aria-valuemax": 100,
        tabIndex: 0
      }, t), this._super(e, t)
    }, onMouseDown: function (e) {
      e.preventDefault(), _V_.blockTextSelection(), _V_.addEvent(document, "mousemove", _V_.proxy(this, this.onMouseMove)), _V_.addEvent(document, "mouseup", _V_.proxy(this, this.onMouseUp)), this.onMouseMove(e)
    }, onMouseUp: function (e) {
      _V_.unblockTextSelection(), _V_.removeEvent(document, "mousemove", this.onMouseMove, !1), _V_.removeEvent(document, "mouseup", this.onMouseUp, !1), this.update()
    }, update: function () {
      var e, t = this.getPercent();
      handle = this.handle, bar = this.bar, isNaN(t) && (t = 0), e = t;
      if (handle) {
        var n = this.el, r = n.offsetWidth, i = handle.el.offsetWidth, s = i ? i / r : 0, o = 1 - s;
        adjustedProgress = t * o, e = adjustedProgress + s / 2, handle.el.style.left = _V_.round(adjustedProgress * 100, 2) + "%"
      }
      bar.el.style.width = _V_.round(e * 100, 2) + "%"
    }, calculateDistance: function (e) {
      var t = this.el, n = _V_.findPosX(t), r = t.offsetWidth, i = this.handle;
      if (i) {
        var s = i.el.offsetWidth;
        n += s / 2, r -= s
      }
      return Math.max(0, Math.min(1, (e.pageX - n) / r))
    }, onFocus: function (e) {
      _V_.addEvent(document, "keyup", _V_.proxy(this, this.onKeyPress))
    }, onKeyPress: function (e) {
      e.which == 37 ? (e.preventDefault(), this.stepBack()) : e.which == 39 && (e.preventDefault(), this.stepForward())
    }, onBlur: function (e) {
      _V_.removeEvent(document, "keyup", _V_.proxy(this, this.onKeyPress))
    }
  }), _V_.ProgressControl = _V_.Component.extend({
    options: {components: {seekBar: {}}}, createElement: function () {
      return this._super("div", {className: "vjs-progress-control vjs-control"})
    }
  }), _V_.SeekBar = _V_.Slider.extend({
    options: {
      components: {
        loadProgressBar: {},
        bar: {componentClass: "PlayProgressBar"},
        handle: {componentClass: "SeekHandle"}
      }
    }, playerEvent: "timeupdate", init: function (e, t) {
      this._super(e, t)
    }, createElement: function () {
      return this._super("div", {className: "vjs-progress-holder"})
    }, getPercent: function () {
      return this.player.currentTime() / this.player.duration()
    }, onMouseDown: function (e) {
      this._super(e), this.player.scrubbing = !0, this.videoWasPlaying = !this.player.paused(), this.player.pause()
    }, onMouseMove: function (e) {
      var t = this.calculateDistance(e) * this.player.duration();
      t == this.player.duration() && (t -= .1), this.player.currentTime(t)
    }, onMouseUp: function (e) {
      this._super(e), this.player.scrubbing = !1, this.videoWasPlaying && this.player.play()
    }, stepForward: function () {
      this.player.currentTime(this.player.currentTime() + 1)
    }, stepBack: function () {
      this.player.currentTime(this.player.currentTime() - 1)
    }
  }), _V_.LoadProgressBar = _V_.Component.extend({
    init: function (e, t) {
      this._super(e, t), e.addEvent("progress", _V_.proxy(this, this.update))
    }, createElement: function () {
      return this._super("div", {
        className: "vjs-load-progress",
        innerHTML: '<span class="vjs-control-text">Loaded: 0%</span>'
      })
    }, update: function () {
      this.el.style && (this.el.style.width = _V_.round(this.player.bufferedPercent() * 100, 2) + "%")
    }
  }), _V_.PlayProgressBar = _V_.Component.extend({
    createElement: function () {
      return this._super("div", {
        className: "vjs-play-progress",
        innerHTML: '<span class="vjs-control-text">Progress: 0%</span>'
      })
    }
  }), _V_.SeekHandle = _V_.Component.extend({
    createElement: function () {
      return this._super("div", {
        className: "vjs-seek-handle",
        innerHTML: '<span class="vjs-control-text">00:00</span>'
      })
    }
  }), _V_.VolumeControl = _V_.Component.extend({
    options: {components: {volumeBar: {}}}, createElement: function () {
      return this._super("div", {className: "vjs-volume-control vjs-control"})
    }
  }), _V_.VolumeBar = _V_.Slider.extend({
    options: {
      components: {
        bar: {componentClass: "VolumeLevel"},
        handle: {componentClass: "VolumeHandle"}
      }
    }, playerEvent: "volumechange", createElement: function () {
      return this._super("div", {className: "vjs-volume-bar"})
    }, onMouseMove: function (e) {
      this.player.volume(this.calculateDistance(e))
    }, getPercent: function () {
      return this.player.volume()
    }, stepForward: function () {
      this.player.volume(this.player.volume() + .1)
    }, stepBack: function () {
      this.player.volume(this.player.volume() - .1)
    }
  }), _V_.VolumeLevel = _V_.Component.extend({
    createElement: function () {
      return this._super("div", {className: "vjs-volume-level", innerHTML: '<span class="vjs-control-text"></span>'})
    }
  }), _V_.VolumeHandle = _V_.Component.extend({
    createElement: function () {
      return this._super("div", {className: "vjs-volume-handle", innerHTML: '<span class="vjs-control-text"></span>'})
    }
  }), _V_.MuteToggle = _V_.Button.extend({
    init: function (e, t) {
      this._super(e, t), e.addEvent("volumechange", _V_.proxy(this, this.update))
    }, createElement: function () {
      return this._super("div", {
        className: "vjs-mute-control vjs-control",
        innerHTML: '<div><span class="vjs-control-text">Mute</span></div>'
      })
    }, onClick: function (e) {
      this.player.muted(this.player.muted() ? !1 : !0)
    }, update: function (e) {
      var t = this.player.volume(), n = 3;
      t == 0 || this.player.muted() ? n = 0 : t < .33 ? n = 1 : t < .67 && (n = 2), _V_.each.call(this, [0, 1, 2, 3], function (e) {
        _V_.removeClass(this.el, "vjs-vol-" + e)
      }), _V_.addClass(this.el, "vjs-vol-" + n)
    }
  }), _V_.PosterImage = _V_.Button.extend({
    init: function (e, t) {
      this._super(e, t), this.player.options.poster || this.hide(), e.addEvent("play", _V_.proxy(this, this.hide))
    }, createElement: function () {
      return _V_.createElement("img", {className: "vjs-poster", src: this.player.options.poster, tabIndex: -1})
    }, onClick: function () {
      this.player.play()
    }
  }), _V_.Menu = _V_.Component.extend({
    init: function (e, t) {
      this._super(e, t)
    }, addItem: function (e) {
      this.addComponent(e), e.addEvent("click", this.proxy(function () {
        this.unlockShowing()
      }))
    }, createElement: function () {
      return this._super("ul", {className: "vjs-menu"})
    }
  }), _V_.MenuItem = _V_.Button.extend({
    init: function (e, t) {
      this._super(e, t), t.selected && this.addClass("vjs-selected")
    }, createElement: function (e, t) {
      return this._super("li", _V_.merge({className: "vjs-menu-item", innerHTML: this.options.label}, t))
    }, onClick: function () {
      this.selected(!0)
    }, selected: function (e) {
      e ? this.addClass("vjs-selected") : this.removeClass("vjs-selected")
    }
  }), Array.prototype.indexOf || (Array.prototype.indexOf = function (e) {
    "use strict";
    if (this === void 0 || this === null) throw new TypeError;
    var t = Object(this), n = t.length >>> 0;
    if (n === 0) return -1;
    var r = 0;
    arguments.length > 0 && (r = Number(arguments[1]), r !== r ? r = 0 : r !== 0 && r !== 1 / 0 && r !== -1 / 0 && (r = (r > 0 || -1) * Math.floor(Math.abs(r))));
    if (r >= n) return -1;
    var i = r >= 0 ? r : Math.max(n - Math.abs(r), 0);
    for (; i < n; i++) if (i in t && t[i] === e) return i;
    return -1
  }), _V_.extend({
    addEvent: function (e, t, n) {
      var r = _V_.getData(e), i;
      r && !r.handler && (r.handler = function (t) {
        t = _V_.fixEvent(t);
        var n = _V_.getData(e).events[t.type];
        if (n) {
          var r = [];
          _V_.each(n, function (e, t) {
            r[t] = e
          });
          for (var i = 0, s = r.length; i < s; i++) r[i].call(e, t)
        }
      }), r.events || (r.events = {}), i = r.events[t], i || (i = r.events[t] = [], document.addEventListener ? e.addEventListener(t, r.handler, !1) : document.attachEvent && e.attachEvent("on" + t, r.handler)), n.guid || (n.guid = _V_.guid++), i.push(n)
    }, removeEvent: function (e, t, n) {
      var r = _V_.getData(e), i;
      if (!r.events) return;
      if (!t) {
        for (t in r.events) _V_.cleanUpEvents(e, t);
        return
      }
      i = r.events[t];
      if (!i) return;
      if (n && n.guid) for (var s = 0; s < i.length; s++) i[s].guid === n.guid && i.splice(s--, 1);
      _V_.cleanUpEvents(e, t)
    }, cleanUpEvents: function (e, t) {
      var n = _V_.getData(e);
      n.events[t].length === 0 && (delete n.events[t], document.removeEventListener ? e.removeEventListener(t, n.handler, !1) : document.detachEvent && e.detachEvent("on" + t, n.handler)), _V_.isEmpty(n.events) && (delete n.events, delete n.handler), _V_.isEmpty(n) && _V_.removeData(e)
    }, fixEvent: function (e) {
      if (e[_V_.expando]) return e;
      var t = e;
      e = new _V_.Event(t);
      for (var n = _V_.Event.props.length, r; n;) r = _V_.Event.props[--n], e[r] = t[r];
      e.target || (e.target = e.srcElement || document), e.target.nodeType === 3 && (e.target = e.target.parentNode), !e.relatedTarget && e.fromElement && (e.relatedTarget = e.fromElement === e.target ? e.toElement : e.fromElement);
      if (e.pageX == null && e.clientX != null) {
        var i = e.target.ownerDocument || document, s = i.documentElement, o = i.body;
        e.pageX = e.clientX + (s && s.scrollLeft || o && o.scrollLeft || 0) - (s && s.clientLeft || o && o.clientLeft || 0), e.pageY = e.clientY + (s && s.scrollTop || o && o.scrollTop || 0) - (s && s.clientTop || o && o.clientTop || 0)
      }
      return e.which == null && (e.charCode != null || e.keyCode != null) && (e.which = e.charCode != null ? e.charCode : e.keyCode), !e.metaKey && e.ctrlKey && (e.metaKey = e.ctrlKey), !e.which && e.button !== undefined && (e.which = e.button & 1 ? 1 : e.button & 2 ? 3 : e.button & 4 ? 2 : 0), e
    }, triggerEvent: function (e, t) {
      var n = _V_.getData(e), r = e.parentNode || e.ownerDocument, i = t.type || t, s;
      n && (s = n.handler), t = typeof t == "object" ? t[_V_.expando] ? t : new _V_.Event(i, t) : new _V_.Event(i), t.type = i, s && s.call(e, t), t.result = undefined, t.target = e
    }, one: function (e, t, n) {
      _V_.addEvent(e, t, function () {
        _V_.removeEvent(e, t, arguments.callee), n.apply(this, arguments)
      })
    }
  }), _V_.Event = function (e, t) {
    e && e.type ? (this.originalEvent = e, this.type = e.type, this.isDefaultPrevented = e.defaultPrevented || e.returnValue === !1 || e.getPreventDefault && e.getPreventDefault() ? returnTrue : returnFalse) : this.type = e, t && _V_.merge(this, t), this.timeStamp = (new Date).getTime(), this[_V_.expando] = !0
  }, _V_.Event.prototype = {
    preventDefault: function () {
      this.isDefaultPrevented = returnTrue;
      var e = this.originalEvent;
      if (!e) return;
      e.preventDefault ? e.preventDefault() : e.returnValue = !1
    }, stopPropagation: function () {
      this.isPropagationStopped = returnTrue;
      var e = this.originalEvent;
      if (!e) return;
      e.stopPropagation && e.stopPropagation(), e.cancelBubble = !0
    }, stopImmediatePropagation: function () {
      this.isImmediatePropagationStopped = returnTrue, this.stopPropagation()
    }, isDefaultPrevented: returnFalse, isPropagationStopped: returnFalse, isImmediatePropagationStopped: returnFalse
  }, _V_.Event.props = "altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");
  var JSON;
  JSON || (JSON = {}), function () {
    var cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;
    typeof JSON.parse != "function" && (JSON.parse = function (text, reviver) {
      function walk(e, t) {
        var n, r, i = e[t];
        if (i && typeof i == "object") for (n in i) Object.prototype.hasOwnProperty.call(i, n) && (r = walk(i, n), r !== undefined ? i[n] = r : delete i[n]);
        return reviver.call(e, t, i)
      }

      var j;
      text = String(text), cx.lastIndex = 0, cx.test(text) && (text = text.replace(cx, function (e) {
        return "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4)
      }));
      if (/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, ""))) return j = eval("(" + text + ")"), typeof reviver == "function" ? walk({"": j}, "") : j;
      throw new SyntaxError("JSON.parse")
    })
  }(), _V_.Player = _V_.Component.extend({
    init: function (e, t, n) {
      this.tag = e;
      var r = this.el = _V_.createElement("div"), i = this.options = {}, s = i.width = e.getAttribute("width"),
        o = i.height = e.getAttribute("height"), u = s || 300, a = o || 150;
      e.player = r.player = this, this.ready(n), e.parentNode.insertBefore(r, e), r.appendChild(e), r.id = this.id = e.id, r.className = e.className, e.id += "_html5_api", e.className = "vjs-tech", _V_.players[r.id] = this, r.setAttribute("width", u), r.setAttribute("height", a), r.style.width = u + "px", r.style.height = a + "px", e.removeAttribute("width"), e.removeAttribute("height"), _V_.merge(i, _V_.options), _V_.merge(i, this.getVideoTagSettings()), _V_.merge(i, t), e.removeAttribute("controls"), e.removeAttribute("poster");
      if (e.hasChildNodes()) for (var f = 0, l = e.childNodes; f < l.length; f++) (l[f].nodeName == "SOURCE" || l[f].nodeName == "TRACK") && e.removeChild(l[f]);
      this.values = {}, this.addClass("vjs-paused"), this.addEvent("ended", this.onEnded), this.addEvent("play", this.onPlay), this.addEvent("pause", this.onPause), this.addEvent("progress", this.onProgress), this.addEvent("error", this.onError), i.controls && this.ready(function () {
        this.initComponents()
      }), this.textTracks = [], i.tracks && i.tracks.length > 0 && this.addTextTracks(i.tracks);
      if (!i.sources || i.sources.length == 0) for (var f = 0, l = i.techOrder; f < l.length; f++) {
        var c = l[f], h = _V_[c];
        if (h.isSupported()) {
          this.loadTech(c);
          break
        }
      } else this.src(i.sources)
    }, values: {}, destroy: function () {
      this.stopTrackingProgress(), this.stopTrackingCurrentTime(), _V_.players[this.id] = null, delete _V_.players[this.id], this.tech.destroy(), this.el.parentNode.removeChild(this.el)
    }, createElement: function (e, t) {
    }, getVideoTagSettings: function () {
      var e = {sources: [], tracks: []};
      e.src = this.tag.getAttribute("src"), e.controls = this.tag.getAttribute("controls") !== null, e.poster = this.tag.getAttribute("poster"), e.preload = this.tag.getAttribute("preload"), e.autoplay = this.tag.getAttribute("autoplay") !== null, e.loop = this.tag.getAttribute("loop") !== null, e.muted = this.tag.getAttribute("muted") !== null;
      if (this.tag.hasChildNodes()) for (var t, n = 0, r = this.tag.childNodes; n < r.length; n++) t = r[n], t.nodeName == "SOURCE" && e.sources.push({
        src: t.getAttribute("src"),
        type: t.getAttribute("type"),
        media: t.getAttribute("media"),
        title: t.getAttribute("title")
      }), t.nodeName == "TRACK" && e.tracks.push({
        src: t.getAttribute("src"),
        kind: t.getAttribute("kind"),
        srclang: t.getAttribute("srclang"),
        label: t.getAttribute("label"),
        "default": t.getAttribute("default") !== null,
        title: t.getAttribute("title")
      });
      return e
    }, loadTech: function (e, t) {
      this.tech ? this.unloadTech() : e != "html5" && this.tag && (this.el.removeChild(this.tag), this.tag = !1), this.techName = e, this.isReady = !1;
      var n = function () {
        this.player.triggerReady(), this.support.progressEvent || this.player.manualProgressOn(), this.support.timeupdateEvent || this.player.manualTimeUpdatesOn()
      }, r = _V_.merge({source: t, parentEl: this.el}, this.options[e]);
      t && (t.src == this.values.src && this.values.currentTime > 0 && (r.startTime = this.values.currentTime), this.values.src = t.src), this.tech = new _V_[e](this, r), this.tech.ready(n)
    }, unloadTech: function () {
      this.tech.destroy(), this.manualProgress && this.manualProgressOff(), this.manualTimeUpdates && this.manualTimeUpdatesOff(), this.tech = !1
    }, manualProgressOn: function () {
      this.manualProgress = !0, this.trackProgress(), this.tech.addEvent("progress", function () {
        this.removeEvent("progress", arguments.callee), this.support.progressEvent = !0, this.player.manualProgressOff()
      })
    }, manualProgressOff: function () {
      this.manualProgress = !1, this.stopTrackingProgress()
    }, trackProgress: function () {
      this.progressInterval = setInterval(_V_.proxy(this, function () {
        this.values.bufferEnd < this.buffered().end(0) ? this.triggerEvent("progress") : this.bufferedPercent() == 1 && (this.stopTrackingProgress(), this.triggerEvent("progress"))
      }), 500)
    }, stopTrackingProgress: function () {
      clearInterval(this.progressInterval)
    }, manualTimeUpdatesOn: function () {
      this.manualTimeUpdates = !0, this.addEvent("play", this.trackCurrentTime), this.addEvent("pause", this.stopTrackingCurrentTime), this.tech.addEvent("timeupdate", function () {
        this.removeEvent("timeupdate", arguments.callee), this.support.timeupdateEvent = !0, this.player.manualTimeUpdatesOff()
      })
    }, manualTimeUpdatesOff: function () {
      this.manualTimeUpdates = !1, this.stopTrackingCurrentTime(), this.removeEvent("play", this.trackCurrentTime), this.removeEvent("pause", this.stopTrackingCurrentTime)
    }, trackCurrentTime: function () {
      this.currentTimeInterval && this.stopTrackingCurrentTime(), this.currentTimeInterval = setInterval(_V_.proxy(this, function () {
        this.triggerEvent("timeupdate")
      }), 250)
    }, stopTrackingCurrentTime: function () {
      clearInterval(this.currentTimeInterval)
    }, onEnded: function () {
      this.options.loop ? (this.currentTime(0), this.play()) : (this.pause(), this.currentTime(0), this.pause())
    }, onPlay: function () {
      _V_.removeClass(this.el, "vjs-paused"), _V_.addClass(this.el, "vjs-playing")
    }, onPause: function () {
      _V_.removeClass(this.el, "vjs-playing"), _V_.addClass(this.el, "vjs-paused")
    }, onProgress: function () {
      this.bufferedPercent() == 1 && this.triggerEvent("loadedalldata")
    }, onError: function (e) {
      _V_.log("Video Error", e)
    }, techCall: function (e, t) {
      if (!this.tech.isReady) this.tech.ready(function () {
        this[e](t)
      }); else try {
        this.tech[e](t)
      } catch (n) {
        _V_.log(n)
      }
    }, techGet: function (e) {
      if (this.tech.isReady) try {
        return this.tech[e]()
      } catch (t) {
        this.tech[e] === undefined ? _V_.log("Video.js: " + e + " method not defined for " + this.techName + " playback technology.", t) : t.name == "TypeError" ? (_V_.log("Video.js: " + e + " unavailable on " + this.techName + " playback technology element.", t), this.tech.isReady = !1) : _V_.log(t)
      }
      return
    }, play: function () {
      return this.techCall("play"), this
    }, pause: function () {
      return this.techCall("pause"), this
    }, paused: function () {
      return this.techGet("paused") === !1 ? !1 : !0
    }, currentTime: function (e) {
      return e !== undefined ? (this.values.lastSetCurrentTime = e, this.techCall("setCurrentTime", e), this.manualTimeUpdates && this.triggerEvent("timeupdate"), this) : this.values.currentTime = this.techGet("currentTime") || 0
    }, duration: function () {
      return parseFloat(this.techGet("duration"))
    }, remainingTime: function () {
      return this.duration() - this.currentTime()
    }, buffered: function () {
      var e = this.techGet("buffered"), t = 0, n = this.values.bufferEnd = this.values.bufferEnd || 0, r;
      return e && e.length > 0 && e.end(0) !== n && (n = e.end(0), this.values.bufferEnd = n), _V_.createTimeRange(t, n)
    }, bufferedPercent: function () {
      return this.duration() ? this.buffered().end(0) / this.duration() : 0
    }, volume: function (e) {
      var t;
      return e !== undefined ? (t = Math.max(0, Math.min(1, parseFloat(e))), this.values.volume = t, this.techCall("setVolume", t), _V_.setLocalStorage("volume", t), this) : (t = parseFloat(this.techGet("volume")), isNaN(t) ? 1 : t)
    }, muted: function (e) {
      return e !== undefined ? (this.techCall("setMuted", e), this) : this.techGet("muted") || !1
    }, width: function (e, t) {
      return e !== undefined ? (this.el.width = e, this.el.style.width = e + "px", t || this.triggerEvent("resize"), this) : parseInt(this.el.getAttribute("width"))
    }, height: function (e) {
      return e !== undefined ? (this.el.height = e, this.el.style.height = e + "px", this.triggerEvent("resize"), this) : parseInt(this.el.getAttribute("height"))
    }, size: function (e, t) {
      return this.width(e, !0).height(t)
    }, supportsFullScreen: function () {
      return this.techGet("supportsFullScreen") || !1
    }, requestFullScreen: function () {
      var e = _V_.support.requestFullScreen;
      return this.isFullScreen = !0, e ? (_V_.addEvent(document, e.eventName, this.proxy(function () {
        this.isFullScreen = document[e.isFullScreen], this.isFullScreen == 0 && _V_.removeEvent(document, e.eventName, arguments.callee), this.triggerEvent("fullscreenchange")
      })), this.tech.support.fullscreenResize === !1 && this.options.flash.iFrameMode != 1 ? (this.pause(), this.unloadTech(), _V_.addEvent(document, e.eventName, this.proxy(function () {
        _V_.removeEvent(document, e.eventName, arguments.callee), this.loadTech(this.techName, {src: this.values.src})
      })), this.el[e.requestFn]()) : this.el[e.requestFn]()) : this.tech.supportsFullScreen() ? (this.triggerEvent("fullscreenchange"), this.techCall("enterFullScreen")) : (this.triggerEvent("fullscreenchange"), this.enterFullWindow()), this
    }, cancelFullScreen: function () {
      var e = _V_.support.requestFullScreen;
      return this.isFullScreen = !1, e ? this.tech.support.fullscreenResize === !1 && this.options.flash.iFrameMode != 1 ? (this.pause(), this.unloadTech(), _V_.addEvent(document, e.eventName, this.proxy(function () {
        _V_.removeEvent(document, e.eventName, arguments.callee), this.loadTech(this.techName, {src: this.values.src})
      })), document[e.cancelFn]()) : document[e.cancelFn]() : this.tech.supportsFullScreen() ? (this.techCall("exitFullScreen"), this.triggerEvent("fullscreenchange")) : (this.exitFullWindow(), this.triggerEvent("fullscreenchange")), this
    }, enterFullWindow: function () {
      this.isFullWindow = !0, this.docOrigOverflow = document.documentElement.style.overflow, _V_.addEvent(document, "keydown", _V_.proxy(this, this.fullWindowOnEscKey)), document.documentElement.style.overflow = "hidden", _V_.addClass(document.body, "vjs-full-window"), _V_.addClass(this.el, "vjs-fullscreen"), this.triggerEvent("enterFullWindow")
    }, fullWindowOnEscKey: function (e) {
      e.keyCode == 27 && (this.isFullScreen == 1 ? this.cancelFullScreen() : this.exitFullWindow())
    }, exitFullWindow: function () {
      this.isFullWindow = !1, _V_.removeEvent(document, "keydown", this.fullWindowOnEscKey), document.documentElement.style.overflow = this.docOrigOverflow, _V_.removeClass(document.body, "vjs-full-window"), _V_.removeClass(this.el, "vjs-fullscreen"), this.triggerEvent("exitFullWindow")
    }, selectSource: function (e) {
      for (var t = 0, n = this.options.techOrder; t < n.length; t++) {
        var r = n[t], i = _V_[r];
        if (i.isSupported()) for (var s = 0, o = e; s < o.length; s++) {
          var u = o[s];
          if (i.canPlaySource.call(this, u)) return {source: u, tech: r}
        }
      }
      return !1
    }, src: function (e) {
      if (e instanceof Array) {
        var t = this.selectSource(e), e, n;
        t ? (e = t.source, n = t.tech, n == this.techName ? this.src(e) : this.loadTech(n, e)) : _V_.log("No compatible source and playback technology were found.")
      } else e instanceof Object ? _V_[this.techName].canPlaySource(e) ? this.src(e.src) : this.src([e]) : (this.values.src = e, this.isReady ? (this.techCall("src", e), this.options.preload == "auto" && this.load(), this.options.autoplay && this.play()) : this.ready(function () {
        this.src(e)
      }));
      return this
    }, load: function () {
      return this.techCall("load"), this
    }, currentSrc: function () {
      return this.techGet("currentSrc") || this.values.src || ""
    }, preload: function (e) {
      return e !== undefined ? (this.techCall("setPreload", e), this.options.preload = e, this) : this.techGet("preload")
    }, autoplay: function (e) {
      return e !== undefined ? (this.techCall("setAutoplay", e), this.options.autoplay = e, this) : this.techGet("autoplay", e)
    }, loop: function (e) {
      return e !== undefined ? (this.techCall("setLoop", e), this.options.loop = e, this) : this.techGet("loop")
    }, controls: function () {
      return this.options.controls
    }, poster: function () {
      return this.techGet("poster")
    }, error: function () {
      return this.techGet("error")
    }, ended: function () {
      return this.techGet("ended")
    }
  }), function () {
    var e, t, n, r, i = _V_.Player.prototype;
    document.cancelFullscreen !== undefined ? (e = "requestFullscreen", t = "exitFullscreen", n = "fullscreenchange", r = "fullScreen") : _V_.each(["moz", "webkit"], function (i) {
      (i != "moz" || document.mozFullScreenEnabled) && document[i + "CancelFullScreen"] !== undefined && (e = i + "RequestFullScreen", t = i + "CancelFullScreen", n = i + "fullscreenchange", i == "webkit" ? r = i + "IsFullScreen" : r = i + "FullScreen")
    }), e && (_V_.support.requestFullScreen = {requestFn: e, cancelFn: t, eventName: n, isFullScreen: r})
  }(), _V_.PlaybackTech = _V_.Component.extend({
    init: function (e, t) {
    }, onClick: function () {
      this.player.options.controls && _V_.PlayToggle.prototype.onClick.call(this)
    }
  }), _V_.apiMethods = "play,pause,paused,currentTime,setCurrentTime,duration,buffered,volume,setVolume,muted,setMuted,width,height,supportsFullScreen,enterFullScreen,src,load,currentSrc,preload,setPreload,autoplay,setAutoplay,loop,setLoop,error,networkState,readyState,seeking,initialTime,startOffsetTime,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks,defaultPlaybackRate,playbackRate,mediaGroup,controller,controls,defaultMuted".split(","), _V_.each(_V_.apiMethods, function (e) {
    _V_.PlaybackTech.prototype[e] = function () {
      throw new Error("The '" + e + "' method is not available on the playback technology's API")
    }
  }), _V_.html5 = _V_.PlaybackTech.extend({
    init: function (e, t, n) {
      this.player = e, this.el = this.createElement(), this.ready(n), this.addEvent("click", this.proxy(this.onClick));
      var r = t.source;
      r && this.el.currentSrc == r.src ? e.triggerEvent("loadstart") : r && (this.el.src = r.src), e.ready(function () {
        this.options.autoplay && this.paused() && (this.tag.poster = null, this.play())
      }), this.setupTriggers(), this.triggerReady()
    }, destroy: function () {
      this.player.tag = !1, this.removeTriggers(), this.el.parentNode.removeChild(this.el)
    }, createElement: function () {
      var e = _V_.html5, t = this.player, n = t.tag, r;
      if (!n || this.support.movingElementInDOM === !1) n && t.el.removeChild(n), r = _V_.createElement("video", {
        id: n.id || t.el.id + "_html5_api",
        className: n.className || "vjs-tech"
      }), n = r, _V_.insertFirst(n, t.el);
      return _V_.each(["autoplay", "preload", "loop", "muted"], function (e) {
        t.options[e] !== null && (n[e] = t.options[e])
      }, this), n
    }, setupTriggers: function () {
      _V_.each.call(this, _V_.html5.events, function (e) {
        _V_.addEvent(this.el, e, _V_.proxy(this.player, this.eventHandler))
      })
    }, removeTriggers: function () {
      _V_.each.call(this, _V_.html5.events, function (e) {
        _V_.removeEvent(this.el, e, _V_.proxy(this.player, this.eventHandler))
      })
    }, eventHandler: function (e) {
      e.stopPropagation(), this.triggerEvent(e)
    }, play: function () {
      this.el.play()
    }, pause: function () {
      this.el.pause()
    }, paused: function () {
      return this.el.paused
    }, currentTime: function () {
      return this.el.currentTime
    }, setCurrentTime: function (e) {
      try {
        this.el.currentTime = e
      } catch (t) {
        _V_.log(t, "Video isn't ready. (VideoJS)")
      }
    }, duration: function () {
      return this.el.duration || 0
    }, buffered: function () {
      return this.el.buffered
    }, volume: function () {
      return this.el.volume
    }, setVolume: function (e) {
      this.el.volume = e
    }, muted: function () {
      return this.el.muted
    }, setMuted: function (e) {
      this.el.muted = e
    }, width: function () {
      return this.el.offsetWidth
    }, height: function () {
      return this.el.offsetHeight
    }, supportsFullScreen: function () {
      return typeof this.el.webkitEnterFullScreen == "function" && !navigator.userAgent.match("Chrome") && !navigator.userAgent.match("Mac OS X 10.5") ? !0 : !1
    }, enterFullScreen: function () {
      try {
        this.el.webkitEnterFullScreen()
      } catch (e) {
        e.code == 11 && _V_.log("VideoJS: Video not ready.")
      }
    }, src: function (e) {
      this.el.src = e
    }, load: function () {
      this.el.load()
    }, currentSrc: function () {
      return this.el.currentSrc
    }, preload: function () {
      return this.el.preload
    }, setPreload: function (e) {
      this.el.preload = e
    }, autoplay: function () {
      return this.el.autoplay
    }, setAutoplay: function (e) {
      this.el.autoplay = e
    }, loop: function () {
      return this.el.loop
    }, setLoop: function (e) {
      this.el.loop = e
    }, error: function () {
      return this.el.error
    }, seeking: function () {
      return this.el.seeking
    }, ended: function () {
      return this.el.ended
    }, controls: function () {
      return this.player.options.controls
    }, defaultMuted: function () {
      return this.el.defaultMuted
    }
  }), _V_.html5.isSupported = function () {
    return !!document.createElement("video").canPlayType
  }, _V_.html5.canPlaySource = function (e) {
    return !!document.createElement("video").canPlayType(e.type)
  }, _V_.html5.events = "loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange".split(","), _V_.html5.prototype.support = {
    fullscreen: typeof _V_.testVid.webkitEnterFullScreen !== undefined ? !_V_.ua.match("Chrome") && !_V_.ua.match("Mac OS X 10.5") ? !0 : !1 : !1,
    movingElementInDOM: !_V_.isIOS()
  }, _V_.isAndroid() && _V_.androidVersion() < 3 && (document.createElement("video").constructor.prototype.canPlayType = function (e) {
    return e && e.toLowerCase().indexOf("video/mp4") != -1 ? "maybe" : ""
  }), _V_.flash = _V_.PlaybackTech.extend({
    init: function (e, t) {
      this.player = e;
      var n = t.source, r = t.parentEl, i = this.el = _V_.createElement("div", {id: r.id + "_temp_flash"}),
        s = e.el.id + "_flash_api", o = e.options, u = _V_.merge({
          readyFunction: "_V_.flash.onReady",
          eventProxyFunction: "_V_.flash.onEvent",
          errorEventProxyFunction: "_V_.flash.onError",
          autoplay: o.autoplay,
          preload: o.preload,
          loop: o.loop,
          muted: o.muted
        }, t.flashVars), a = _V_.merge({wmode: "opaque", bgcolor: "#000000"}, t.params),
        f = _V_.merge({id: s, name: s, "class": "vjs-tech"}, t.attributes);
      n && (u.src = encodeURIComponent(_V_.getAbsoluteURL(n.src))), _V_.insertFirst(i, r), t.startTime && this.ready(function () {
        this.load(), this.play(), this.currentTime(t.startTime)
      });
      if (t.iFrameMode == 1 && !_V_.isFF) {
        var l = _V_.createElement("iframe", {
          id: s + "_iframe",
          name: s + "_iframe",
          className: "vjs-tech",
          scrolling: "no",
          marginWidth: 0,
          marginHeight: 0,
          frameBorder: 0
        });
        u.readyFunction = "ready", u.eventProxyFunction = "events", u.errorEventProxyFunction = "errors", _V_.addEvent(l, "load", _V_.proxy(this, function () {
          var e, n, r, i = l.contentWindow, s = "";
          e = l.contentDocument ? l.contentDocument : l.contentWindow.document, e.write(_V_.flash.getEmbedCode(t.swf, u, a, f)), i.player = this.player, i.ready = _V_.proxy(this.player, function (t) {
            var n = e.getElementById(t), r = this, i = r.tech;
            i.el = n, _V_.addEvent(n, "click", i.proxy(i.onClick)), _V_.flash.checkReady(i)
          }), i.events = _V_.proxy(this.player, function (e, t, n) {
            var r = this;
            r && r.techName == "flash" && r.triggerEvent(t)
          }), i.errors = _V_.proxy(this.player, function (e, t) {
            _V_.log("Flash Error", t)
          })
        })), i.parentNode.replaceChild(l, i)
      } else _V_.flash.embed(t.swf, i, u, a, f)
    }, destroy: function () {
      this.el.parentNode.removeChild(this.el)
    }, play: function () {
      this.el.vjs_play()
    }, pause: function () {
      this.el.vjs_pause()
    }, src: function (e) {
      e = _V_.getAbsoluteURL(e), this.el.vjs_src(e);
      if (this.player.autoplay()) {
        var t = this;
        setTimeout(function () {
          t.play()
        }, 0)
      }
    }, load: function () {
      this.el.vjs_load()
    }, poster: function () {
      this.el.vjs_getProperty("poster")
    }, buffered: function () {
      return _V_.createTimeRange(0, this.el.vjs_getProperty("buffered"))
    }, supportsFullScreen: function () {
      return !1
    }, enterFullScreen: function () {
      return !1
    }
  }), function () {
    var e = _V_.flash.prototype,
      t = "preload,currentTime,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),
      n = "error,currentSrc,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks".split(","),
      r = "load,play,pause".split(",");
    createSetter = function (t) {
      var n = t.charAt(0).toUpperCase() + t.slice(1);
      e["set" + n] = function (e) {
        return this.el.vjs_setProperty(t, e)
      }
    }, createGetter = function (t) {
      e[t] = function () {
        return this.el.vjs_getProperty(t)
      }
    }, _V_.each(t, function (e) {
      createGetter(e), createSetter(e)
    }), _V_.each(n, function (e) {
      createGetter(e)
    })
  }(), _V_.flash.isSupported = function () {
    return _V_.flash.version()[0] >= 10
  }, _V_.flash.canPlaySource = function (e) {
    if (e.type in _V_.flash.prototype.support.formats) return "maybe"
  }, _V_.flash.prototype.support = {
    formats: {
      "video/flv": "FLV",
      "video/x-flv": "FLV",
      "video/mp4": "MP4",
      "video/m4v": "MP4"
    }, progressEvent: !1, timeupdateEvent: !1, fullscreenResize: !1, parentResize: !_V_.ua.match("Firefox")
  }, _V_.flash.onReady = function (e) {
    var t = _V_.el(e), n = t.player || t.parentNode.player, r = n.tech;
    t.player = n, r.el = t, r.addEvent("click", r.onClick), _V_.flash.checkReady(r)
  }, _V_.flash.checkReady = function (e) {
    e.el.vjs_getProperty ? e.triggerReady() : setTimeout(function () {
      _V_.flash.checkReady(e)
    }, 50)
  }, _V_.flash.onEvent = function (e, t) {
    var n = _V_.el(e).player;
    n.triggerEvent(t)
  }, _V_.flash.onError = function (e, t) {
    var n = _V_.el(e).player;
    n.triggerEvent("error"), _V_.log("Flash Error", t, e)
  }, _V_.flash.version = function () {
    var e = "0,0,0";
    try {
      e = (new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version").replace(/\D+/g, ",").match(/^,?(.+),?$/)[1]
    } catch (t) {
      try {
        navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin && (e = (navigator.plugins["Shockwave Flash 2.0"] || navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g, ",").match(/^,?(.+),?$/)[1])
      } catch (t) {
      }
    }
    return e.split(",")
  }, _V_.flash.embed = function (e, t, n, r, i) {
    var s = _V_.flash.getEmbedCode(e, n, r, i), o = _V_.createElement("div", {innerHTML: s}).childNodes[0],
      u = t.parentNode;
    t.parentNode.replaceChild(o, t);
    if (_V_.isIE()) {
      var a = u.childNodes[0];
      setTimeout(function () {
        a.style.display = "block"
      }, 1e3)
    }
    return o
  }, _V_.flash.getEmbedCode = function (e, t, n, r) {
    var i = '<object type="application/x-shockwave-flash"', s = "", o = "";
    return attrsString = "", t && _V_.eachProp(t, function (e, t) {
      s += e + "=" + t + "&amp;"
    }), n = _V_.merge({
      movie: e,
      flashvars: s,
      allowScriptAccess: "always",
      allowNetworking: "all"
    }, n), _V_.eachProp(n, function (e, t) {
      o += '<param name="' + e + '" value="' + t + '" />'
    }), r = _V_.merge({data: e, width: "100%", height: "100%"}, r), _V_.eachProp(r, function (e, t) {
      attrsString += e + '="' + t + '" '
    }), i + attrsString + ">" + o + "</object>"
  }, _V_.merge(_V_.Player.prototype, {
    addTextTracks: function (e) {
      var t = this.textTracks = this.textTracks ? this.textTracks : [], n = 0, r = e.length, i, s;
      for (; n < r; n++) s = _V_.uc(e[n].kind || "subtitles"), i = new _V_[s + "Track"](this, e[n]), t.push(i), i["default"] && this.ready(_V_.proxy(i, i.show));
      return this
    }, showTextTrack: function (e, t) {
      var n = this.textTracks, r = 0, i = n.length, s, o, u;
      for (; r < i; r++) s = n[r], s.id === e ? (s.show(), o = s) : t && s.kind == t && s.mode > 0 && s.disable();
      return u = o ? o.kind : t ? t : !1, u && this.triggerEvent(u + "trackchange"), this
    }
  }), _V_.Track = _V_.Component.extend({
    init: function (e, t) {
      this._super(e, t), _V_.merge(this, {
        id: t.id || "vjs_" + t.kind + "_" + t.language + "_" + _V_.guid++,
        src: t.src,
        "default": t["default"],
        title: t.title,
        language: t.srclang,
        label: t.label,
        cues: [],
        activeCues: [],
        readyState: 0,
        mode: 0
      })
    }, createElement: function () {
      return this._super("div", {className: "vjs-" + this.kind + " vjs-text-track"})
    }, show: function () {
      this.activate(), this.mode = 2, this._super()
    }, hide: function () {
      this.activate(), this.mode = 1, this._super()
    }, disable: function () {
      this.mode == 2 && this.hide(), this.deactivate(), this.mode = 0
    }, activate: function () {
      this.readyState == 0 && this.load(), this.mode == 0 && (this.player.addEvent("timeupdate", this.proxy(this.update, this.id)), this.player.addEvent("ended", this.proxy(this.reset, this.id)), (this.kind == "captions" || this.kind == "subtitles") && this.player.textTrackDisplay.addComponent(this))
    }, deactivate: function () {
      this.player.removeEvent("timeupdate", this.proxy(this.update, this.id)), this.player.removeEvent("ended", this.proxy(this.reset, this.id)), this.reset(), this.player.textTrackDisplay.removeComponent(this)
    }, load: function () {
      this.readyState == 0 && (this.readyState = 1, _V_.get(this.src, this.proxy(this.parseCues), this.proxy(this.onError)))
    }, onError: function (e) {
      this.error = e, this.readyState = 3, this.triggerEvent("error")
    }, parseCues: function (e) {
      var t, n, r, i = e.split("\n"), s = "", o;
      for (var u = 1, a = i.length; u < a; u++) {
        s = _V_.trim(i[u]);
        if (s) {
          s.indexOf("-->") == -1 ? (o = s, s = _V_.trim(i[++u])) : o = this.cues.length, t = {
            id: o,
            index: this.cues.length
          }, n = s.split(" --> "), t.startTime = this.parseCueTime(n[0]), t.endTime = this.parseCueTime(n[1]), r = [];
          while (i[++u] && (s = _V_.trim(i[u]))) r.push(s);
          t.text = r.join("<br/>"), this.cues.push(t)
        }
      }
      this.readyState = 2, this.triggerEvent("loaded")
    }, parseCueTime: function (e) {
      var t = e.split(":"), n = 0, r, i, s, o, u, a;
      return t.length == 3 ? (r = t[0], i = t[1], s = t[2]) : (r = 0, i = t[0], s = t[1]), s = s.split(/\s+/), o = s.splice(0, 1)[0], o = o.split(/\.|,/), u = parseFloat(o[1]), o = o[0], n += parseFloat(r) * 3600, n += parseFloat(i) * 60, n += parseFloat(o), u && (n += u / 1e3), n
    }, update: function () {
      if (this.cues.length > 0) {
        var e = this.player.currentTime();
        if (this.prevChange === undefined || e < this.prevChange || this.nextChange <= e) {
          var t = this.cues, n = this.player.duration(), r = 0, i = !1, s = [], o, u, a = "", f, l, c;
          e >= this.nextChange || this.nextChange === undefined ? l = this.firstActiveIndex !== undefined ? this.firstActiveIndex : 0 : (i = !0, l = this.lastActiveIndex !== undefined ? this.lastActiveIndex : t.length - 1);
          for (; ;) {
            f = t[l];
            if (f.endTime <= e) r = Math.max(r, f.endTime), f.active && (f.active = !1); else if (e < f.startTime) {
              n = Math.min(n, f.startTime), f.active && (f.active = !1);
              if (!i) break
            } else i ? (s.splice(0, 0, f), u === undefined && (u = l), o = l) : (s.push(f), o === undefined && (o = l), u = l), n = Math.min(n, f.endTime), r = Math.max(r, f.startTime), f.active = !0;
            if (i) {
              if (l === 0) break;
              l--
            } else {
              if (l === t.length - 1) break;
              l++
            }
          }
          this.activeCues = s, this.nextChange = n, this.prevChange = r, this.firstActiveIndex = o, this.lastActiveIndex = u, this.updateDisplay(), this.triggerEvent("cuechange")
        }
      }
    }, updateDisplay: function () {
      var e = this.activeCues, t = "", n = 0, r = e.length;
      for (; n < r; n++) t += "<span class='vjs-tt-cue'>" + e[n].text + "</span>";
      this.el.innerHTML = t
    }, reset: function () {
      this.nextChange = 0, this.prevChange = this.player.duration(), this.firstActiveIndex = 0, this.lastActiveIndex = 0
    }
  }), _V_.CaptionsTrack = _V_.Track.extend({kind: "captions"}), _V_.SubtitlesTrack = _V_.Track.extend({kind: "subtitles"}), _V_.ChaptersTrack = _V_.Track.extend({kind: "chapters"}), _V_.TextTrackDisplay = _V_.Component.extend({
    createElement: function () {
      return this._super("div", {className: "vjs-text-track-display"})
    }
  }), _V_.TextTrackMenuItem = _V_.MenuItem.extend({
    init: function (e, t) {
      var n = this.track = t.track;
      t.label = n.label, t.selected = n["default"], this._super(e, t), this.player.addEvent(n.kind + "trackchange", _V_.proxy(this, this.update))
    }, onClick: function () {
      this._super(), this.player.showTextTrack(this.track.id, this.track.kind)
    }, update: function () {
      this.track.mode == 2 ? this.selected(!0) : this.selected(!1)
    }
  }), _V_.OffTextTrackMenuItem = _V_.TextTrackMenuItem.extend({
    init: function (e, t) {
      t.track = {kind: t.kind, player: e, label: "Off"}, this._super(e, t)
    }, onClick: function () {
      this._super(), this.player.showTextTrack(this.track.id, this.track.kind)
    }, update: function () {
      var e = this.player.textTracks, t = 0, n = e.length, r, i = !0;
      for (; t < n; t++) r = e[t], r.kind == this.track.kind && r.mode == 2 && (i = !1);
      i ? this.selected(!0) : this.selected(!1)
    }
  }), _V_.TextTrackButton = _V_.Button.extend({
    init: function (e, t) {
      this._super(e, t), this.menu = this.createMenu(), this.items.length === 0 && this.hide()
    }, createMenu: function () {
      var e = new _V_.Menu(this.player);
      return e.el.appendChild(_V_.createElement("li", {
        className: "vjs-menu-title",
        innerHTML: _V_.uc(this.kind)
      })), e.addItem(new _V_.OffTextTrackMenuItem(this.player, {kind: this.kind})), this.items = this.createItems(), this.each(this.items, function (t) {
        e.addItem(t)
      }), this.addComponent(e), e
    }, createItems: function () {
      var e = [];
      return this.each(this.player.textTracks, function (t) {
        t.kind === this.kind && e.push(new _V_.TextTrackMenuItem(this.player, {track: t}))
      }), e
    }, buildCSSClass: function () {
      return this.className + " vjs-menu-button " + this._super()
    }, onFocus: function () {
      this.menu.lockShowing(), _V_.one(this.menu.el.childNodes[this.menu.el.childNodes.length - 1], "blur", this.proxy(function () {
        this.menu.unlockShowing()
      }))
    }, onBlur: function () {
    }, onClick: function () {
      this.one("mouseout", this.proxy(function () {
        this.menu.unlockShowing(), this.el.blur()
      }))
    }
  }), _V_.CaptionsButton = _V_.TextTrackButton.extend({
    kind: "captions",
    buttonText: "Captions",
    className: "vjs-captions-button"
  }), _V_.SubtitlesButton = _V_.TextTrackButton.extend({
    kind: "subtitles",
    buttonText: "Subtitles",
    className: "vjs-subtitles-button"
  }), _V_.ChaptersButton = _V_.TextTrackButton.extend({
    kind: "chapters",
    buttonText: "Chapters",
    className: "vjs-chapters-button",
    createItems: function (e) {
      var t = [];
      return this.each(this.player.textTracks, function (e) {
        e.kind === this.kind && t.push(new _V_.TextTrackMenuItem(this.player, {track: e}))
      }), t
    },
    createMenu: function () {
      var e = this.player.textTracks, t = 0, n = e.length, r, i, s = this.items = [];
      for (; t < n; t++) {
        r = e[t];
        if (r.kind == this.kind && r["default"]) {
          if (r.readyState < 2) {
            this.chaptersTrack = r, r.addEvent("loaded", this.proxy(this.createMenu));
            return
          }
          i = r;
          break
        }
      }
      var o = this.menu = new _V_.Menu(this.player);
      o.el.appendChild(_V_.createElement("li", {className: "vjs-menu-title", innerHTML: _V_.uc(this.kind)}));
      if (i) {
        var u = i.cues, t = 0, n = u.length, a, f;
        for (; t < n; t++) a = u[t], f = new _V_.ChaptersTrackMenuItem(this.player, {
          track: i,
          cue: a
        }), s.push(f), o.addComponent(f)
      }
      return this.addComponent(o), this.items.length > 0 && this.show(), o
    }
  }), _V_.ChaptersTrackMenuItem = _V_.MenuItem.extend({
    init: function (e, t) {
      var n = this.track = t.track, r = this.cue = t.cue, i = e.currentTime();
      t.label = r.text, t.selected = r.startTime <= i && i < r.endTime, this._super(e, t), n.addEvent("cuechange", _V_.proxy(this, this.update))
    }, onClick: function () {
      this._super(), this.player.currentTime(this.cue.startTime), this.update(this.cue.startTime)
    }, update: function (e) {
      var t = this.cue, n = this.player.currentTime();
      t.startTime <= n && n < t.endTime ? this.selected(!0) : this.selected(!1)
    }
  }), _V_.merge(_V_.ControlBar.prototype.options.components, {
    subtitlesButton: {},
    captionsButton: {},
    chaptersButton: {}
  }), _V_.autoSetup = function () {
    var e, t, n, r = document.getElementsByTagName("video");
    if (r && r.length > 0) for (var i = 0, s = r.length; i < s; i++) {
      t = r[i];
      if (!t || !t.getAttribute) {
        _V_.autoSetupTimeout(1);
        break
      }
      t.player === undefined && (e = t.getAttribute("data-setup"), e !== null && (e = JSON.parse(e || "{}"), n = _V_(t, e)))
    } else _V_.windowLoaded || _V_.autoSetupTimeout(1)
  }, _V_.autoSetupTimeout = function (e) {
    setTimeout(_V_.autoSetup, e)
  }, _V_.addEvent(window, "load", function () {
    _V_.windowLoaded = !0
  }), _V_.autoSetup(), window.VideoJS = window._V_ = VideoJS
}(window), define("videojs", function () {
}), define("lp_timeline/views/modules/LPTimelineModuleVideoPlayer", ["jquery", "underscore", "backbone", "videojs", "fastdom", "lp_timeline/views/LPTimelineAbstractItemView"], function (e, t, n, r, i, s) {
  var o;
  return o = s.extend({
    _isPlaying: !1,
    _isLoaded: !1,
    _actions: [],
    events: {"click .close-button": "_onCloseClick"},
    DESTROY_ON_CLOSE: !0,
    params: {controls: !0, autoplay: !0, preload: "auto", loop: !1, width: 800, height: 450, poster: ""},
    isReady: function () {
      return this._ready || !1
    },
    isOpen: function () {
      return this._isOpen || !1
    },
    resize: function (t, n) {
      var r = this;
      s.prototype.onResize(t, n), this.modalText || (this.modalText = this.$el.find(".asset-modal-text"));
      if (!(this._video && this.$window && this.modalText)) return;
      return i.measure(function () {
        var s, o, u, a, f;
        return n == null && (n = r.$window.width()), t == null && (t = r.$window.height()), o = r.$window.height() - r.modalText.height() - 170, a = 9 / 16, f = n * (7 / 8), s = f * a, s > o && (s = o, f = o * (1 / a)), u = (t - s) * .5 - 60, i.mutate(function () {
          var t;
          return e(r._video.el).hasClass("fullscreen") ? t = {
            width: "",
            height: "",
            "margin-top": ""
          } : t = {width: f + "px", height: f * a + "px", "margin-top": u + "px"}, r.$el.css(t)
        })
      })
    },
    setVideo: function (e, t, n) {
      var r = this;
      return this._video ? (this._setTrack(t), this._isLoaded = !1, this._setSources(e, $video[0]), this._video.ready(function () {
        var e;
        r._isLoaded = !0, r.onResize(r.$window.height(), r.$window.width()), e = [];
        while (r._actions.length) e.push(r._actions.shift().call());
        return e
      })) : this._initVideo(e, t, n)
    },
    setNavigation: function (t) {
      var n = this;
      return this.$indicator = t[0], this.$navigation = t[1], this.$el.find(".carousel-indicators").remove(), this.$el.append(this.$indicator), this.$el.append(this.$navigation), this.$indicator.find("li").click(function (t) {
        return n.trigger("slide", e(t.currentTarget).data("index"))
      }), this.$navigation.find(".left").click(function () {
        return n.trigger("arrow", "previous")
      }), this.$navigation.find(".right").click(function () {
        return n.trigger("arrow", "next")
      })
    },
    fullscreen: function (e) {
      var t = this;
      return !this._video || !this._isLoaded ? this._actions.push(function () {
        return t.fullscreen(e)
      }) : (this._isFullscreen = e, e ? this._video.requestFullScreen() : this._video.cancelFullScreen())
    },
    play: function () {
      var e = this;
      return !this._video || !this._isLoaded ? this._actions.push(function () {
        return e.play()
      }) : (this._isPlaying = !0, this._video.play())
    },
    pause: function () {
      var e = this;
      return !this._video || !this._isLoaded ? this._actions.push(function () {
        return e.pause()
      }) : (this._isPlaying = !1, this._video.pause())
    },
    stop: function () {
      var e = this;
      return !this._video || !this._isLoaded ? this._actions.push(function () {
        return e.stop()
      }) : (this._isPlaying = !1, this._video.currentTime(0), this._video.pause())
    },
    open: function (t) {
      var n, r = this;
      t == null && (t = !0);
      if (this._isOpen) return;
      return this._isOpen = !0, n = 1200, this.$el.fadeIn({
        duration: n, complete: function () {
          if (t) return r.play()
        }
      }), this.trigger("open", this), e(document).bind("keydown", this._onKeyDown)
    },
    close: function (t) {
      var n, r = this;
      t == null && (t = !0);
      if (!this._isOpen) return;
      return this._isOpen = !1, n = t, e(document).unbind("keydown", this._onKeyDown), this.$navigation.find(".left").off(), this.$navigation.find(".right").off(), this.$el.fadeOut({
        complete: function () {
          r.stop(), n && r.trigger("closed", r);
          if (r.DESTROY_ON_CLOSE) return r._removeVideo()
        }
      })
    },
    initialize: function (n) {
      var r = this;
      return this.params = t.extend(this.params, n.params), Modernizr.iphone && (this.params.controls = !1), this._$error = this.$(".error-message"), this._flashError = this.$("#flash-fallback-html").html(), this._$container = this.$(".video-container").css({
        width: "100%",
        height: "100%"
      }), n.source && this._initVideo(n.source), this.modalText = this.$el.find(".asset-modal-text"), this.$window = e(window), t.bindAll(this, "_onKeyDown"), this._ready = !0, app.utils.delay(100, function () {
        return r.onResize(r.$window.height(), r.$window.width())
      })
    },
    destroy: function () {
      return this.params = null, this._actions = null, this._isLoaded = null, this._isPlaying = null, this._$error = null, this._flashError = null, this._$container = null, e(document).unbind("keydown", this._onKeyDown), this.$navigation && (this.$navigation.find(".left").off(), this.$navigation.find(".right").off()), this._removeVideo(), this.sharebox && (this.sharebox.destroy(), this.sharebox = null), this.remove()
    },
    _initVideo: function (t, n, r) {
      var i, s = this;
      return this._$container.appendTo("body"), i = e(document.createElement("VIDEO")).appendTo(this._$container).attr({
        "class": "video-js vjs-default-skin ike-video",
        width: this.params.width,
        height: this.params.height,
        controls: this.params.controls,
        poster: this.params.poster
      }), this._setSources(t, i[0]), this._setTrack(n, i[0]), _V_(i[0], this.params, function () {
        return s.$el.append(s._$container), s._onPlayerReady(i[0]), s.resize()
      })
    },
    _onPlayerReady: function (t) {
      var n, r = this;
      this.$window || (this.$window = e(window)), this._isLoaded = !0, this._video = _V_(t), this._video.addEvent("play", function () {
        return r._onPlayerPlay()
      }), this._video.addEvent("pause", function () {
        return r._onPlayerPause()
      }), this._video.addEvent("ended", function () {
        return r._onPlayerFinish()
      }), this._video.addEvent("loadeddata", function () {
        return r._onLoadedData()
      }), this._video.addEvent("fullscreenchange", function () {
        return r._onFullScreen()
      }), e(t).find("track").remove(), this.autoplay && !this.isMobile && this.play(), this.onResize(this.$window.height(), this.$window.width()), n = [];
      while (this._actions.length) n.push(this._actions.shift().call());
      return n
    },
    _removeVideo: function () {
      if (!this._video) return;
      return this._video.removeEvent("play"), this._video.removeEvent("pause"), this._video.removeEvent("ended"), this._video.removeEvent("loadeddata"), this._video.removeEvent("fullscreenchange"), e(this._video.el).remove(), this._video = null
    },
    _getType: function (e) {
      var t;
      t = e.split(".").pop().split("?").shift();
      switch (t) {
        case"mp4":
        case"ogg":
        case"webm":
          return "video/" + t;
        case"m3u8":
          return "application/x-mpegURL"
      }
    },
    _setSources: function (n, r) {
      var i, s, o = this;
      i = !1, s = t.map([n], function (e) {
        var t;
        return t = {src: e, type: o._getType(e)}, i || (i = _V_.html5.isSupported() && _V_.html5.canPlaySource(t)), t
      });
      if (!i && !_V_.flash.isSupported()) {
        this._$error.html(this._flashError), this._$error.show(), this.trigger("error", this, "flash");
        return
      }
      this._$error.hide();
      if (!this._video) return t.each(s, function (t) {
        var n;
        return n = e("<source />").appendTo(r).attr(t)
      });
      this._video.src(s);
      if (this._video.load != null) return this._video.load()
    },
    _setTrack: function (t, n) {
      var r, i;
      t == null && (t = "");
      if (Modernizr.iphone) return;
      if (this._video) {
        i = this._video.textTracks[0];
        if (!i) return;
        e(this._video.controlBar.captionsButton.menu.el).children().removeClass("vjs-selected");
        if (t === i.src) return;
        return i.src = t, i.readyState = 0, i.cues = []
      }
      return r = e(document.createElement("TRACK")).appendTo(n).attr({
        src: t,
        kind: "captions",
        srclang: "en",
        label: "English",
        language: "english"
      })
    },
    _onCloseClick: function () {
      return this.close()
    },
    _onLoadedData: function () {
      return this.trigger("loadeddata", this)
    },
    _onPlayerPlay: function () {
      return this.trigger("play", this)
    },
    _onPlayerPause: function () {
      return this.trigger("pause", this)
    },
    _onPlayerFinish: function () {
      return this.trigger("ended", this)
    },
    _onFullScreen: function (t) {
      if (this._video == null) return;
      return this._video.isFullScreen ? e(this._video.el).addClass("fullscreen") : e(this._video.el).removeClass("fullscreen"), this.trigger("fullscreenchange", this), this.resize()
    },
    _onKeyDown: function (e) {
      switch (e.which) {
        case 37:
          this.trigger("arrow", "previous");
          break;
        case 39:
          this.trigger("arrow", "next")
      }
      return e.preventDefault()
    }
  })
}), define("text", ["module"], function (e) {
  "use strict";
  var t, n, r = ["Msxml2.XMLHTTP", "Microsoft.XMLHTTP", "Msxml2.XMLHTTP.4.0"],
    i = /^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im, s = /<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,
    o = typeof location != "undefined" && location.href,
    u = o && location.protocol && location.protocol.replace(/\:/, ""), a = o && location.hostname,
    f = o && (location.port || undefined), l = [], c = e.config && e.config() || {};
  t = {
    version: "2.0.3", strip: function (e) {
      if (e) {
        e = e.replace(i, "");
        var t = e.match(s);
        t && (e = t[1])
      } else e = "";
      return e
    }, jsEscape: function (e) {
      return e.replace(/(['\\])/g, "\\$1").replace(/[\f]/g, "\\f").replace(/[\b]/g, "\\b").replace(/[\n]/g, "\\n").replace(/[\t]/g, "\\t").replace(/[\r]/g, "\\r").replace(/[\u2028]/g, "\\u2028").replace(/[\u2029]/g, "\\u2029")
    }, createXhr: c.createXhr || function () {
      var e, t, n;
      if (typeof XMLHttpRequest != "undefined") return new XMLHttpRequest;
      if (typeof ActiveXObject != "undefined") for (t = 0; t < 3; t += 1) {
        n = r[t];
        try {
          e = new ActiveXObject(n)
        } catch (i) {
        }
        if (e) {
          r = [n];
          break
        }
      }
      return e
    }, parseName: function (e) {
      var t = !1, n = e.indexOf("."), r = e.substring(0, n), i = e.substring(n + 1, e.length);
      return n = i.indexOf("!"), n !== -1 && (t = i.substring(n + 1, i.length), t = t === "strip", i = i.substring(0, n)), {
        moduleName: r,
        ext: i,
        strip: t
      }
    }, xdRegExp: /^((\w+)\:)?\/\/([^\/\\]+)/, useXhr: function (e, n, r, i) {
      var s, o, u, a = t.xdRegExp.exec(e);
      return a ? (s = a[2], o = a[3], o = o.split(":"), u = o[1], o = o[0], (!s || s === n) && (!o || o.toLowerCase() === r.toLowerCase()) && (!u && !o || u === i)) : !0
    }, finishLoad: function (e, n, r, i) {
      r = n ? t.strip(r) : r, c.isBuild && (l[e] = r), i(r)
    }, load: function (e, n, r, i) {
      if (i.isBuild && !i.inlineText) {
        r();
        return
      }
      c.isBuild = i.isBuild;
      var s = t.parseName(e), l = s.moduleName + "." + s.ext, h = n.toUrl(l), p = c.useXhr || t.useXhr;
      !o || p(h, u, a, f) ? t.get(h, function (n) {
        t.finishLoad(e, s.strip, n, r)
      }, function (e) {
        r.error && r.error(e)
      }) : n([l], function (e) {
        t.finishLoad(s.moduleName + "." + s.ext, s.strip, e, r)
      })
    }, write: function (e, n, r, i) {
      if (l.hasOwnProperty(n)) {
        var s = t.jsEscape(l[n]);
        r.asModule(e + "!" + n, "define(function () { return '" + s + "';});\n")
      }
    }, writeFile: function (e, n, r, i, s) {
      var o = t.parseName(n), u = o.moduleName + "." + o.ext, a = r.toUrl(o.moduleName + "." + o.ext) + ".js";
      t.load(u, r, function (n) {
        var r = function (e) {
          return i(a, e)
        };
        r.asModule = function (e, t) {
          return i.asModule(e, a, t)
        }, t.write(e, u, r, s)
      }, s)
    }
  };
  if (c.env === "node" || !c.env && typeof process != "undefined" && process.versions && !!process.versions.node) n = require.nodeRequire("fs"), t.get = function (e, t) {
    var r = n.readFileSync(e, "utf8");
    r.indexOf("﻿") === 0 && (r = r.substring(1)), t(r)
  }; else if (c.env === "xhr" || !c.env && t.createXhr()) t.get = function (e, n, r) {
    var i = t.createXhr();
    i.open("GET", e, !0), c.onXhr && c.onXhr(i, e), i.onreadystatechange = function (t) {
      var s, o;
      i.readyState === 4 && (s = i.status, s > 399 && s < 600 ? (o = new Error(e + " HTTP status: " + s), o.xhr = i, r(o)) : n(i.responseText))
    }, i.send(null)
  }; else if (c.env === "rhino" || !c.env && typeof Packages != "undefined" && typeof java != "undefined") t.get = function (e, t) {
    var n, r, i = "utf-8", s = new java.io.File(e), o = java.lang.System.getProperty("line.separator"),
      u = new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s), i)), a = "";
    try {
      n = new java.lang.StringBuffer, r = u.readLine(), r && r.length() && r.charAt(0) === 65279 && (r = r.substring(1)), n.append(r);
      while ((r = u.readLine()) !== null) n.append(o), n.append(r);
      a = String(n.toString())
    } finally {
      u.close()
    }
    t(a)
  };
  return t
}), define("text!partial/modal-template.html", [], function () {
  return "<div class='asset-modal'>\n    <div class='asset-click'></div>\n    <div class='asset-modal-content clearfix'>\n        <% if (type == 'image'){ %> \n            <div class='asset-modal-slide single-image'>\n                <img src='<%= data.image %>'>\n            </div> \n        <% } %>\n\n        <% if (type == 'audioAndImages'){ %> \n            <div class='asset-modal-slide audio'>\n                <img src='<%= data.image %>'>\n            </div>\n\n            <div class='module-audio-and-image'>\n                <div class='module-data' \n                    data-mediauri='<%= data.mediauri %>' \n                    data-id='modal_<%= data.id %>' >\n                </div> \n                <div class='module-audio-player'>\n                    <div class='audioplay-icon'></div>\n                    \n                    <div class='wave-wrapper'>\n                        <div id='modal_<%= data.id %>' class='wave'></div>\n                    </div>\n                    \n                    <div class='audio-remaining-txt'></div>\n\n                    <div class='module-overlay'></div>\n                </div>\n            </div>\n        <% } %>\n        \n        <% if (type == 'video'){ %>   \n            <div class='video-view'>\n                <div class='video-container'></div>\n            </div>\n        <% } %>  \n\n        <% if (type == 'gallery'){ %>    \n            <div class=\"asset-modal-counter\">\n                <span class=\"asset-modal-counter-txt\"></span>\n            </div>\n            <div class='asset-modal-slideshow'>\n                <% $.each( data.images, function(i, v){ %> \n                    <% console.log(\"asset-modal-slide\", v) %> \n                    <div class='asset-modal-slide'> \n                        <picture>\n                            <source media=\"(min-width: 2560px)\" data-srcset=\"<%= v.image_xlarge %>\">\n                            <source media=\"(min-width: 1920px)\" data-srcset=\"<%= v.image_large %>\">\n                            <source media=\"(min-width: 800px)\" data-srcset=\"<%= v.image_default %>\">\n                            <source media=\"(min-width: 240px)\" data-srcset=\"<%= v.image_small %>\">\n                            <img data-src=\"<%= v.image_default %>\" class=\"preload lazyload\" alt=\"alt\" src=\"<%= v.image_small %>\">\n                        </picture>\n\n                        <div class=\"show-device\"> \n                            <div class='asset-modal-mobile-text'> \n                                <h4 class='asset-modal-title-txt lg-mb-10'><%= v.title %></h4>\n                                 \n                                <span class='asset-modal-caption-txt'><%= unescape(v.caption) %></span> \n                                 \n                                <span class='asset-modal-credit-txt'><%= unescape(v.credit) %></span> \n                            </div>\n\n                            <div class='asset-modal-nav-dots clearfix'>\n                                <% for(var d = 0; d < data.images.length; d++){ %> \n                                <div class='asset-modal-nav-dot imageslideshow-icon<% if (d == i){ %> active<% } %>'></div> \n                                <% } %> \n                            </div> \n                        </div>\n                    </div>\n                <% }) %>\n            </div>  \n\n            <div class=\"asset-modal-slideshow-desktop hide-device\"> \n                <div class='asset-modal-text'> \n                    <h4 class='asset-modal-title-txt lg-mb-10'><%= data.title %></h4> \n\n                    <span class='asset-modal-caption-txt'><%= unescape(data.caption) %></span>\n\n                    <span class='asset-modal-credit-txt'><%= unescape(data.credit) %></span> \n                </div>\n\n                <div class='asset-modal-nav-dots'>\n                    <% i = data.images.length %> \n                    <% while (i){ %> \n                    <div class='asset-modal-nav-dot imageslideshow-icon'></div>\n                    <% i-- %> \n                    <% } %> \n                </div> \n            </div>\n\n            <div class='asset-modal-ui'>\n                <div class=\"asset-modal-prev\">\n                    <div class='leftarrow-icon'></div>\n                    <div class=\"asset-modal-prev-next-txt\"></div>\n                </div>\n                \n                <div class=\"asset-modal-next\">\n                    <div class='rightarrow-icon'></div>\n                    <div class=\"asset-modal-prev-next-txt\"></div>\n                </div>\n            </div> \n        <% } else { %>\n            <div class='asset-modal-text'> \n                <h4 class='asset-modal-title-txt lg-mb-10'><%= data.title %></h4>\n                 \n                <span class='asset-modal-caption-txt'><%= unescape(data.caption) %></span> \n                 \n                <span class='asset-modal-credit-txt'><%= unescape(data.credit) %></span> \n            </div>\n        <% } %>\n\n        \n    </div>\n     \n    <div class='asset-modal-close close-icon'></div>              \n</div>"
}), define("lp_timeline/views/modals/LPTimelineAssetsModalView", ["jquery", "underscore", "backbone", "transit", "grid-gallery", "hammer", "lazy", "dotdotdot", "fastdom", "lp_timeline/views/LPTimelineAbstractItemView", "lp_timeline/views/modules/LPTimelineModuleAudioView", "lp_timeline/views/modules/LPTimelineModuleVideoPlayer", "text!partial/modal-template.html"], function (e, t, n, r, i, s, o, u, a, f, l, c, h) {
  var p;
  return p = f.extend({
    MODAL_CLOSE: "LPTimelineAssetsModalView.MODAL_CLOSE",
    events: {
      "click .asset-click": "onCloseClick",
      "click .asset-modal-close": "onCloseClick",
      "click .asset-modal-prev": "onPrevClick",
      "click .asset-modal-next": "onNextClick",
      "click .asset-modal-nav-dot": "onNavClick"
    },
    index: 0,
    modal_template: t.template(h),
    initialize: function (n) {
      var r, i, s = this;
      return r = this, this.waveID = "wave_" + Math.floor(Date.now() / 1e3), this.type = n.type, i = {
        data: this.model,
        type: this.type
      }, this.images = this.model.images, this.images && (this.total = this.images.length), this.$el = e(this.modal_template(i)), this.$window = e(window), this.$prevArrow = this.$el.find(".asset-modal-prev"), this.$prevText = this.$prevArrow.find(".asset-modal-prev-next-txt"), this.$nextArrow = this.$el.find(".asset-modal-next"), this.$nextText = this.$nextArrow.find(".asset-modal-prev-next-txt"), this.$el.fadeIn(), app.utils.delay(100, function () {
        var n, i;
        s.initDivs();
        switch (s.type) {
          case"gallery":
            s.setSlideIndex(), s.dupeSlides(), s.initHammer(), s.$slides.find("picture, img").each(function (t, n) {
              return e(n).load(function () {
                return r.onSlideResize()
              })
            }), e(document).on("lazybeforeunveil", function () {
              return s.onSlideResize(), app.utils.delay(100, function () {
                return s.onSlideResize()
              }), app.utils.delay(500, function () {
                return s.onSlideResize()
              }), app.utils.delay(1e3, function () {
                return s.onSlideResize()
              })
            }), t.bindAll(s, "onKeyPress"), e(document).bind("keydown", function (e) {
              return s.onKeyPress(e)
            });
            break;
          case"audioAndImages":
            n = s.$el.find(".module-audio-and-image"), s.moduleAudioView = new l({el: n});
            break;
          case"video":
            i = s.$el.find(".video-view"), s.videoPlayer = new c({el: i, source: s.model.mediauri})
        }
      })
    },
    initDivs: function () {
      var e;
      return e = this, this.$titleTxt = this.$el.find(".asset-modal-text .asset-modal-title-txt"), this.$captionTxt = this.$el.find(".asset-modal-text .asset-modal-caption-txt"), this.$creditTxt = this.$el.find(".asset-modal-text .asset-modal-credit-txt"), this.$counterTxt = this.$el.find(".asset-modal-counter-txt"), this.$slideshow = this.$el.find(".asset-modal-slideshow"), this.$slides = this.$el.find(".asset-modal-slide"), this.$dots = this.$el.find(".hide-device .asset-modal-nav-dot"), this.$content = this.$el.find(".asset-modal-content"), this.bottomeText = this.$el.find(".asset-modal-slideshow-desktop"), this.$slideshow.width(100 * (this.total + 2) + "%"), this.$slides.width(100 / (this.total + 2) + "%")
    },
    dupeSlides: function () {
      var e, t;
      return e = this.$slides.first().clone().addClass("clone"), t = this.$slides.last().clone().addClass("clone"), e.appendTo(this.$slideshow), t.prependTo(this.$slideshow)
    },
    initHammer: function () {
      var e, t, n, r, i, o = this;
      return n = 0, t = 0, r = 0, i = this, e = new s(this.$slideshow[0]), e.on("panstart", function (e) {
        return r = n = o.$slideshow.position().left
      }), e.on("panmove", function (e) {
        var t;
        return t = n + e.deltaX, o.$slideshow.css("left", t)
      }), e.on("panend pancancel", function (e) {
        return e.deltaX < -100 ? i.onNextClick() : e.deltaX > 100 ? i.onPrevClick() : o.$slideshow.animate({left: r}, 150)
      })
    },
    setSlideIndex: function (e, t) {
      var n = this;
      e == null && (e = 0);
      if (this.animating) return;
      return a.mutate(function () {
        var r, i, s, o, u, a;
        return n.index = e, r = t !== void 0 ? n.images[t] : n.images[n.index], i = t !== void 0 ? t : n.index, n.setText(r), n.animating = !0, n.$dots.removeClass("active").eq(i).addClass("active"), s = t !== void 0 ? t + 1 : n.index + 1, n.$counterTxt.html("" + s + " of " + n.images.length), n.$slideshow.transition({left: -100 * (n.index + 1) + "%"}, function () {
          var e;
          t !== void 0 && (n.index = t), n.animating = !1;
          if (t !== void 0) return e = -100 * (t + 1), n.$slideshow.css({left: e + "%"})
        }), o = n.images.length, n.index === o - 1 ? n.$nextArrow.hide() : (u = n.index + 1, n.$nextArrow.show(), n.$nextText.html(n.images[u].title), n.$nextText.dotdotdot(), n.$nextText.css("margin-top", (40 - n.$nextText.height()) * .5)), n.index === 0 ? n.$prevArrow.hide() : (a = n.index - 1, n.$prevArrow.show(), n.$prevText.html(n.images[a].title), n.$prevText.dotdotdot(), n.$prevText.css("margin-top", (40 - n.$prevText.height()) * .5))
      })
    },
    setText: function (e) {
      return e && (this.$titleTxt.html(e.title), this.$captionTxt.html(e.caption), this.$creditTxt.html(e.credit)), this.onResize(this.$window.height(), this.$window.width())
    },
    onSlideResize: function () {
      var t = this;
      if (this.type === "gallery") return this.isBelowTablet ? a.mutate(function () {
        return t.$slides.find("img").attr({style: ""})
      }) : a.measure(function () {
        var n, r, i, s, o, u, f, l, c, h, p, d, v, m;
        r = t.bottomeText.length ? t.bottomeText.height() : 0, o = t.$window.height() - r - 40, u = t.$window.width() - 434, v = t.$slides, m = [];
        for (p = 0, d = v.length; p < d; p++) {
          c = v[p], n = e(c).find("img"), h = n.attr({style: ""}).width(), i = n.attr({style: ""}).height();
          if (h && i) {
            f = i, l = h, s = h / i;
            if (h > u || i > o) f = o, l = o * s;
            l > u && (l = u, f = l * (1 / s)), m.push(function (e, t, n) {
              return a.mutate(function () {
                return e.width(t), e.height(n)
              })
            }(n, l, f))
          } else m.push(void 0)
        }
        return m
      })
    },
    onKeyPress: function (e) {
      e.keyCode === 39 && this.onNextClick();
      if (e.keyCode === 37) return this.onPrevClick()
    },
    onNavClick: function (t) {
      var n, r;
      n = e(t.currentTarget), r = n.index();
      if (r >= 0) return this.setSlideIndex(r)
    },
    onCloseClick: function () {
      var e = this;
      return this.trigger(this.MODAL_CLOSE), this.$el.fadeOut(function () {
        return e.destroy()
      })
    },
    onPrevClick: function () {
      var e, t;
      if (this.animating || this.index === 0 && !this.isBelowTablet) return;
      return e = this.index - 1, this.index === 0 && (t = this.total - 1), this.setSlideIndex(e, t)
    },
    onNextClick: function () {
      var e, t;
      if (this.animating || this.index === this.images.length - 1 && !this.isBelowTablet) return;
      return e = this.index + 1, this.index === this.total - 1 && (t = 0), this.setSlideIndex(e, t)
    },
    onResize: function (e, t) {
      return this.height = e, this.width = t, f.prototype.onResize(this.height, this.width), this.videoPlayer && this.videoPlayer.resize(this.height, this.width), this.onSlideResize()
    },
    destroy: function () {
      var t = this;
      return e(document).off("lazybeforeunveil", function () {
        return t.onSlideResize(), app.utils.delay(1e3, function () {
          return t.onSlideResize()
        })
      }), e(document).off("keydown", function (e) {
        return t.onKeyPress(e)
      }), this.moduleAudioView != null && this.moduleAudioView.destroy(), this.videoPlayer != null && this.videoPlayer.destroy(), f.prototype.destroy.call(this)
    }
  })
}), define("lp_timeline/views/modules/LPTimelineModuleAudioAndImageView", ["jquery", "underscore", "backbone", "wavesurfer", "lp_timeline/views/modules/LPTimelineModuleAudioView"], function (e, t, n, r, i) {
  var s;
  return s = i.extend({
    events: {"click .module-audio-image": "onClick"}, initialize: function () {
      var t = this;
      return this.$el.find("img").load(function () {
        return e(window).resize()
      }), i.prototype.initialize.call(this)
    }, onClick: function () {
      return this.trigger(this.LAUNCH_MODAL, this)
    }
  })
}), !function (e) {
  "use strict";
  "function" == typeof define && define.amd ? define("slick", ["jquery"], e) : "undefined" != typeof exports ? module.exports = e(require("jquery")) : e(jQuery)
}(function (e) {
  "use strict";
  var t = window.Slick || {};
  t = function () {
    function t(t, r) {
      var i, s, o, u = this;
      if (u.defaults = {
        accessibility: !0,
        adaptiveHeight: !1,
        appendArrows: e(t),
        appendDots: e(t),
        arrows: !0,
        asNavFor: null,
        prevArrow: '<button type="button" data-role="none" class="slick-prev" aria-label="previous">Previous</button>',
        nextArrow: '<button type="button" data-role="none" class="slick-next" aria-label="next">Next</button>',
        autoplay: !1,
        autoplaySpeed: 3e3,
        centerMode: !1,
        centerPadding: "50px",
        cssEase: "ease",
        customPaging: function (e, t) {
          return '<button type="button" data-role="none">' + (t + 1) + "</button>"
        },
        dots: !1,
        dotsClass: "slick-dots",
        draggable: !0,
        easing: "linear",
        edgeFriction: .35,
        fade: !1,
        focusOnSelect: !1,
        infinite: !0,
        initialSlide: 0,
        lazyLoad: "ondemand",
        mobileFirst: !1,
        pauseOnHover: !0,
        pauseOnDotsHover: !1,
        respondTo: "window",
        responsive: null,
        rows: 1,
        rtl: !1,
        slide: "",
        slidesPerRow: 1,
        slidesToShow: 1,
        slidesToScroll: 1,
        speed: 500,
        swipe: !0,
        swipeToSlide: !1,
        touchMove: !0,
        touchThreshold: 5,
        useCSS: !0,
        variableWidth: !1,
        vertical: !1,
        verticalSwiping: !1,
        waitForAnimate: !0
      }, u.initials = {
        animating: !1,
        dragging: !1,
        autoPlayTimer: null,
        currentDirection: 0,
        currentLeft: null,
        currentSlide: 0,
        direction: 1,
        $dots: null,
        listWidth: null,
        listHeight: null,
        loadIndex: 0,
        $nextArrow: null,
        $prevArrow: null,
        slideCount: null,
        slideWidth: null,
        $slideTrack: null,
        $slides: null,
        sliding: !1,
        slideOffset: 0,
        swipeLeft: null,
        $list: null,
        touchObject: {},
        transformsEnabled: !1
      }, e.extend(u, u.initials), u.activeBreakpoint = null, u.animType = null, u.animProp = null, u.breakpoints = [], u.breakpointSettings = [], u.cssTransitions = !1, u.hidden = "hidden", u.paused = !1, u.positionProp = null, u.respondTo = null, u.rowCount = 1, u.shouldClick = !0, u.$slider = e(t), u.$slidesCache = null, u.transformType = null, u.transitionType = null, u.visibilityChange = "visibilitychange", u.windowWidth = 0, u.windowTimer = null, i = e(t).data("slick") || {}, u.options = e.extend({}, u.defaults, i, r), u.currentSlide = u.options.initialSlide, u.originalSettings = u.options, s = u.options.responsive || null, s && s.length > -1) {
        u.respondTo = u.options.respondTo || "window";
        for (o in s) s.hasOwnProperty(o) && (u.breakpoints.push(s[o].breakpoint), u.breakpointSettings[s[o].breakpoint] = s[o].settings);
        u.breakpoints.sort(function (e, t) {
          return u.options.mobileFirst === !0 ? e - t : t - e
        })
      }
      "undefined" != typeof document.mozHidden ? (u.hidden = "mozHidden", u.visibilityChange = "mozvisibilitychange") : "undefined" != typeof document.msHidden ? (u.hidden = "msHidden", u.visibilityChange = "msvisibilitychange") : "undefined" != typeof document.webkitHidden && (u.hidden = "webkitHidden", u.visibilityChange = "webkitvisibilitychange"), u.autoPlay = e.proxy(u.autoPlay, u), u.autoPlayClear = e.proxy(u.autoPlayClear, u), u.changeSlide = e.proxy(u.changeSlide, u), u.clickHandler = e.proxy(u.clickHandler, u), u.selectHandler = e.proxy(u.selectHandler, u), u.setPosition = e.proxy(u.setPosition, u), u.swipeHandler = e.proxy(u.swipeHandler, u), u.dragHandler = e.proxy(u.dragHandler, u), u.keyHandler = e.proxy(u.keyHandler, u), u.autoPlayIterator = e.proxy(u.autoPlayIterator, u), u.instanceUid = n++, u.htmlExpr = /^(?:\s*(<[\w\W]+>)[^>]*)$/, u.init(), u.checkResponsive(!0)
    }

    var n = 0;
    return t
  }(), t.prototype.addSlide = t.prototype.slickAdd = function (t, n, r) {
    var i = this;
    if ("boolean" == typeof n) r = n, n = null; else if (0 > n || n >= i.slideCount) return !1;
    i.unload(), "number" == typeof n ? 0 === n && 0 === i.$slides.length ? e(t).appendTo(i.$slideTrack) : r ? e(t).insertBefore(i.$slides.eq(n)) : e(t).insertAfter(i.$slides.eq(n)) : r === !0 ? e(t).prependTo(i.$slideTrack) : e(t).appendTo(i.$slideTrack), i.$slides = i.$slideTrack.children(this.options.slide), i.$slideTrack.children(this.options.slide).detach(), i.$slideTrack.append(i.$slides), i.$slides.each(function (t, n) {
      e(n).attr("data-slick-index", t)
    }), i.$slidesCache = i.$slides, i.reinit()
  }, t.prototype.animateHeight = function () {
    var e = this;
    if (1 === e.options.slidesToShow && e.options.adaptiveHeight === !0 && e.options.vertical === !1) {
      var t = e.$slides.eq(e.currentSlide).outerHeight(!0);
      e.$list.animate({height: t}, e.options.speed)
    }
  }, t.prototype.animateSlide = function (t, n) {
    var r = {}, i = this;
    i.animateHeight(), i.options.rtl === !0 && i.options.vertical === !1 && (t = -t), i.transformsEnabled === !1 ? i.options.vertical === !1 ? i.$slideTrack.animate({left: t}, i.options.speed, i.options.easing, n) : i.$slideTrack.animate({top: t}, i.options.speed, i.options.easing, n) : i.cssTransitions === !1 ? (i.options.rtl === !0 && (i.currentLeft = -i.currentLeft), e({animStart: i.currentLeft}).animate({animStart: t}, {
      duration: i.options.speed,
      easing: i.options.easing,
      step: function (e) {
        e = Math.ceil(e), i.options.vertical === !1 ? (r[i.animType] = "translate(" + e + "px, 0px)", i.$slideTrack.css(r)) : (r[i.animType] = "translate(0px," + e + "px)", i.$slideTrack.css(r))
      },
      complete: function () {
        n && n.call()
      }
    })) : (i.applyTransition(), t = Math.ceil(t), r[i.animType] = i.options.vertical === !1 ? "translate3d(" + t + "px, 0px, 0px)" : "translate3d(0px," + t + "px, 0px)", i.$slideTrack.css(r), n && setTimeout(function () {
      i.disableTransition(), n.call()
    }, i.options.speed))
  }, t.prototype.asNavFor = function (t) {
    var n = this, r = null !== n.options.asNavFor ? e(n.options.asNavFor).slick("getSlick") : null;
    null !== r && r.slideHandler(t, !0)
  }, t.prototype.applyTransition = function (e) {
    var t = this, n = {};
    n[t.transitionType] = t.options.fade === !1 ? t.transformType + " " + t.options.speed + "ms " + t.options.cssEase : "opacity " + t.options.speed + "ms " + t.options.cssEase, t.options.fade === !1 ? t.$slideTrack.css(n) : t.$slides.eq(e).css(n)
  }, t.prototype.autoPlay = function () {
    var e = this;
    e.autoPlayTimer && clearInterval(e.autoPlayTimer), e.slideCount > e.options.slidesToShow && e.paused !== !0 && (e.autoPlayTimer = setInterval(e.autoPlayIterator, e.options.autoplaySpeed))
  }, t.prototype.autoPlayClear = function () {
    var e = this;
    e.autoPlayTimer && clearInterval(e.autoPlayTimer)
  }, t.prototype.autoPlayIterator = function () {
    var e = this;
    e.options.infinite === !1 ? 1 === e.direction ? (e.currentSlide + 1 === e.slideCount - 1 && (e.direction = 0), e.slideHandler(e.currentSlide + e.options.slidesToScroll)) : (0 === e.currentSlide - 1 && (e.direction = 1), e.slideHandler(e.currentSlide - e.options.slidesToScroll)) : e.slideHandler(e.currentSlide + e.options.slidesToScroll)
  }, t.prototype.buildArrows = function () {
    var t = this;
    t.options.arrows === !0 && t.slideCount > t.options.slidesToShow && (t.$prevArrow = e(t.options.prevArrow), t.$nextArrow = e(t.options.nextArrow), t.htmlExpr.test(t.options.prevArrow) && t.$prevArrow.appendTo(t.options.appendArrows), t.htmlExpr.test(t.options.nextArrow) && t.$nextArrow.appendTo(t.options.appendArrows), t.options.infinite !== !0 && t.$prevArrow.addClass("slick-disabled"))
  }, t.prototype.buildDots = function () {
    var t, n, r = this;
    if (r.options.dots === !0 && r.slideCount > r.options.slidesToShow) {
      for (n = '<ul class="' + r.options.dotsClass + '">', t = 0; t <= r.getDotCount(); t += 1) n += "<li>" + r.options.customPaging.call(this, r, t) + "</li>";
      n += "</ul>", r.$dots = e(n).appendTo(r.options.appendDots), r.$dots.find("li").first().addClass("slick-active").attr("aria-hidden", "false")
    }
  }, t.prototype.buildOut = function () {
    var t = this;
    t.$slides = t.$slider.children(":not(.slick-cloned)").addClass("slick-slide"), t.slideCount = t.$slides.length, t.$slides.each(function (t, n) {
      e(n).attr("data-slick-index", t)
    }), t.$slidesCache = t.$slides, t.$slider.addClass("slick-slider"), t.$slideTrack = 0 === t.slideCount ? e('<div class="slick-track"/>').appendTo(t.$slider) : t.$slides.wrapAll('<div class="slick-track"/>').parent(), t.$list = t.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(), t.$slideTrack.css("opacity", 0), (t.options.centerMode === !0 || t.options.swipeToSlide === !0) && (t.options.slidesToScroll = 1), e("img[data-lazy]", t.$slider).not("[src]").addClass("slick-loading"), t.setupInfinite(), t.buildArrows(), t.buildDots(), t.updateDots(), t.options.accessibility === !0 && t.$list.prop("tabIndex", 0), t.setSlideClasses("number" == typeof this.currentSlide ? this.currentSlide : 0), t.options.draggable === !0 && t.$list.addClass("draggable")
  }, t.prototype.buildRows = function () {
    var e, t, n, r, i, s, o, u = this;
    if (r = document.createDocumentFragment(), s = u.$slider.children(), u.options.rows > 1) {
      for (o = u.options.slidesPerRow * u.options.rows, i = Math.ceil(s.length / o), e = 0; i > e; e++) {
        var a = document.createElement("div");
        for (t = 0; t < u.options.rows; t++) {
          var f = document.createElement("div");
          for (n = 0; n < u.options.slidesPerRow; n++) {
            var l = e * o + (t * u.options.slidesPerRow + n);
            s.get(l) && f.appendChild(s.get(l))
          }
          a.appendChild(f)
        }
        r.appendChild(a)
      }
      u.$slider.html(r), u.$slider.children().children().children().width(100 / u.options.slidesPerRow + "%").css({display: "inline-block"})
    }
  }, t.prototype.checkResponsive = function (t) {
    var n, r, i, s = this, o = s.$slider.width(), u = window.innerWidth || e(window).width();
    if ("window" === s.respondTo ? i = u : "slider" === s.respondTo ? i = o : "min" === s.respondTo && (i = Math.min(u, o)), s.originalSettings.responsive && s.originalSettings.responsive.length > -1 && null !== s.originalSettings.responsive) {
      r = null;
      for (n in s.breakpoints) s.breakpoints.hasOwnProperty(n) && (s.originalSettings.mobileFirst === !1 ? i < s.breakpoints[n] && (r = s.breakpoints[n]) : i > s.breakpoints[n] && (r = s.breakpoints[n]));
      null !== r ? null !== s.activeBreakpoint ? r !== s.activeBreakpoint && (s.activeBreakpoint = r, "unslick" === s.breakpointSettings[r] ? s.unslick() : (s.options = e.extend({}, s.originalSettings, s.breakpointSettings[r]), t === !0 && (s.currentSlide = s.options.initialSlide), s.refresh())) : (s.activeBreakpoint = r, "unslick" === s.breakpointSettings[r] ? s.unslick() : (s.options = e.extend({}, s.originalSettings, s.breakpointSettings[r]), t === !0 && (s.currentSlide = s.options.initialSlide), s.refresh())) : null !== s.activeBreakpoint && (s.activeBreakpoint = null, s.options = s.originalSettings, t === !0 && (s.currentSlide = s.options.initialSlide), s.refresh())
    }
  }, t.prototype.changeSlide = function (t, n) {
    var r, i, s, o = this, u = e(t.target);
    switch (u.is("a") && t.preventDefault(), s = 0 !== o.slideCount % o.options.slidesToScroll, r = s ? 0 : (o.slideCount - o.currentSlide) % o.options.slidesToScroll, t.data.message) {
      case"previous":
        i = 0 === r ? o.options.slidesToScroll : o.options.slidesToShow - r, o.slideCount > o.options.slidesToShow && o.slideHandler(o.currentSlide - i, !1, n);
        break;
      case"next":
        i = 0 === r ? o.options.slidesToScroll : r, o.slideCount > o.options.slidesToShow && o.slideHandler(o.currentSlide + i, !1, n);
        break;
      case"index":
        var f = 0 === t.data.index ? 0 : t.data.index || e(t.target).parent().index() * o.options.slidesToScroll;
        o.slideHandler(o.checkNavigable(f), !1, n);
        break;
      default:
        return
    }
  }, t.prototype.checkNavigable = function (e) {
    var t, n, r = this;
    if (t = r.getNavigableIndexes(), n = 0, e > t[t.length - 1]) e = t[t.length - 1]; else for (var i in t) {
      if (e < t[i]) {
        e = n;
        break
      }
      n = t[i]
    }
    return e
  }, t.prototype.cleanUpEvents = function () {
    var t = this;
    t.options.dots === !0 && t.slideCount > t.options.slidesToShow && e("li", t.$dots).off("click.slick", t.changeSlide), t.options.dots === !0 && t.options.pauseOnDotsHover === !0 && t.options.autoplay === !0 && e("li", t.$dots).off("mouseenter.slick", t.setPaused.bind(t, !0)).off("mouseleave.slick", t.setPaused.bind(t, !1)), t.options.arrows === !0 && t.slideCount > t.options.slidesToShow && (t.$prevArrow && t.$prevArrow.off("click.slick", t.changeSlide), t.$nextArrow && t.$nextArrow.off("click.slick", t.changeSlide)), t.$list.off("touchstart.slick mousedown.slick", t.swipeHandler), t.$list.off("touchmove.slick mousemove.slick", t.swipeHandler), t.$list.off("touchend.slick mouseup.slick", t.swipeHandler), t.$list.off("touchcancel.slick mouseleave.slick", t.swipeHandler), t.$list.off("click.slick", t.clickHandler), t.options.autoplay === !0 && e(document).off(t.visibilityChange, t.visibility), t.$list.off("mouseenter.slick", t.setPaused.bind(t, !0)), t.$list.off("mouseleave.slick", t.setPaused.bind(t, !1)), t.options.accessibility === !0 && t.$list.off("keydown.slick", t.keyHandler), t.options.focusOnSelect === !0 && e(t.$slideTrack).children().off("click.slick", t.selectHandler), e(window).off("orientationchange.slick.slick-" + t.instanceUid, t.orientationChange), e(window).off("resize.slick.slick-" + t.instanceUid, t.resize), e("[draggable!=true]", t.$slideTrack).off("dragstart", t.preventDefault), e(window).off("load.slick.slick-" + t.instanceUid, t.setPosition), e(document).off("ready.slick.slick-" + t.instanceUid, t.setPosition)
  }, t.prototype.cleanUpRows = function () {
    var e, t = this;
    t.options.rows > 1 && (e = t.$slides.children().children(), e.removeAttr("style"), t.$slider.html(e))
  }, t.prototype.clickHandler = function (e) {
    var t = this;
    t.shouldClick === !1 && (e.stopImmediatePropagation(), e.stopPropagation(), e.preventDefault())
  }, t.prototype.destroy = function () {
    var t = this;
    t.autoPlayClear(), t.touchObject = {}, t.cleanUpEvents(), e(".slick-cloned", t.$slider).remove(), t.$dots && t.$dots.remove(), t.$prevArrow && "object" != typeof t.options.prevArrow && t.$prevArrow.remove(), t.$nextArrow && "object" != typeof t.options.nextArrow && t.$nextArrow.remove(), t.$slides && (t.$slides.removeClass("slick-slide slick-active slick-center slick-visible").attr("aria-hidden", "true").removeAttr("data-slick-index").css({
      position: "",
      left: "",
      top: "",
      zIndex: "",
      opacity: "",
      width: ""
    }), t.$slider.html(t.$slides)), t.cleanUpRows(), t.$slider.removeClass("slick-slider"), t.$slider.removeClass("slick-initialized")
  }, t.prototype.disableTransition = function (e) {
    var t = this, n = {};
    n[t.transitionType] = "", t.options.fade === !1 ? t.$slideTrack.css(n) : t.$slides.eq(e).css(n)
  }, t.prototype.fadeSlide = function (e, t) {
    var n = this;
    n.cssTransitions === !1 ? (n.$slides.eq(e).css({zIndex: 1e3}), n.$slides.eq(e).animate({opacity: 1}, n.options.speed, n.options.easing, t)) : (n.applyTransition(e), n.$slides.eq(e).css({
      opacity: 1,
      zIndex: 1e3
    }), t && setTimeout(function () {
      n.disableTransition(e), t.call()
    }, n.options.speed))
  }, t.prototype.filterSlides = t.prototype.slickFilter = function (e) {
    var t = this;
    null !== e && (t.unload(), t.$slideTrack.children(this.options.slide).detach(), t.$slidesCache.filter(e).appendTo(t.$slideTrack), t.reinit())
  }, t.prototype.getCurrent = t.prototype.slickCurrentSlide = function () {
    var e = this;
    return e.currentSlide
  }, t.prototype.getDotCount = function () {
    var e = this, t = 0, n = 0, r = 0;
    if (e.options.infinite === !0) r = Math.ceil(e.slideCount / e.options.slidesToScroll); else if (e.options.centerMode === !0) r = e.slideCount; else for (; t < e.slideCount;) ++r, t = n + e.options.slidesToShow, n += e.options.slidesToScroll <= e.options.slidesToShow ? e.options.slidesToScroll : e.options.slidesToShow;
    return r - 1
  }, t.prototype.getLeft = function (e) {
    var t, n, r, i = this, s = 0;
    return i.slideOffset = 0, n = i.$slides.first().outerHeight(), i.options.infinite === !0 ? (i.slideCount > i.options.slidesToShow && (i.slideOffset = -1 * i.slideWidth * i.options.slidesToShow, s = -1 * n * i.options.slidesToShow), 0 !== i.slideCount % i.options.slidesToScroll && e + i.options.slidesToScroll > i.slideCount && i.slideCount > i.options.slidesToShow && (e > i.slideCount ? (i.slideOffset = -1 * (i.options.slidesToShow - (e - i.slideCount)) * i.slideWidth, s = -1 * (i.options.slidesToShow - (e - i.slideCount)) * n) : (i.slideOffset = -1 * i.slideCount % i.options.slidesToScroll * i.slideWidth, s = -1 * i.slideCount % i.options.slidesToScroll * n))) : e + i.options.slidesToShow > i.slideCount && (i.slideOffset = (e + i.options.slidesToShow - i.slideCount) * i.slideWidth, s = (e + i.options.slidesToShow - i.slideCount) * n), i.slideCount <= i.options.slidesToShow && (i.slideOffset = 0, s = 0), i.options.centerMode === !0 && i.options.infinite === !0 ? i.slideOffset += i.slideWidth * Math.floor(i.options.slidesToShow / 2) - i.slideWidth : i.options.centerMode === !0 && (i.slideOffset = 0, i.slideOffset += i.slideWidth * Math.floor(i.options.slidesToShow / 2)), t = i.options.vertical === !1 ? -1 * e * i.slideWidth + i.slideOffset : -1 * e * n + s, i.options.variableWidth === !0 && (r = i.slideCount <= i.options.slidesToShow || i.options.infinite === !1 ? i.$slideTrack.children(".slick-slide").eq(e) : i.$slideTrack.children(".slick-slide").eq(e + i.options.slidesToShow), t = r[0] ? -1 * r[0].offsetLeft : 0, i.options.centerMode === !0 && (r = i.options.infinite === !1 ? i.$slideTrack.children(".slick-slide").eq(e) : i.$slideTrack.children(".slick-slide").eq(e + i.options.slidesToShow + 1), t = r[0] ? -1 * r[0].offsetLeft : 0, t += (i.$list.width() - r.outerWidth()) / 2)), t
  }, t.prototype.getOption = t.prototype.slickGetOption = function (e) {
    var t = this;
    return t.options[e]
  }, t.prototype.getNavigableIndexes = function () {
    var e, t = this, n = 0, r = 0, i = [];
    for (t.options.infinite === !1 ? (e = t.slideCount - t.options.slidesToShow + 1, t.options.centerMode === !0 && (e = t.slideCount)) : (n = -1 * t.options.slidesToScroll, r = -1 * t.options.slidesToScroll, e = 2 * t.slideCount); e > n;) i.push(n), n = r + t.options.slidesToScroll, r += t.options.slidesToScroll <= t.options.slidesToShow ? t.options.slidesToScroll : t.options.slidesToShow;
    return i
  }, t.prototype.getSlick = function () {
    return this
  }, t.prototype.getSlideCount = function () {
    var t, n, r, i = this;
    return r = i.options.centerMode === !0 ? i.slideWidth * Math.floor(i.options.slidesToShow / 2) : 0, i.options.swipeToSlide === !0 ? (i.$slideTrack.find(".slick-slide").each(function (t, s) {
      return s.offsetLeft - r + e(s).outerWidth() / 2 > -1 * i.swipeLeft ? (n = s, !1) : void 0
    }), t = Math.abs(e(n).attr("data-slick-index") - i.currentSlide) || 1) : i.options.slidesToScroll
  }, t.prototype.goTo = t.prototype.slickGoTo = function (e, t) {
    var n = this;
    n.changeSlide({data: {message: "index", index: parseInt(e)}}, t)
  }, t.prototype.init = function () {
    var t = this;
    e(t.$slider).hasClass("slick-initialized") || (e(t.$slider).addClass("slick-initialized"), t.buildRows(), t.buildOut(), t.setProps(), t.startLoad(), t.loadSlider(), t.initializeEvents(), t.updateArrows(), t.updateDots()), t.$slider.trigger("init", [t])
  }, t.prototype.initArrowEvents = function () {
    var e = this;
    e.options.arrows === !0 && e.slideCount > e.options.slidesToShow && (e.$prevArrow.on("click.slick", {message: "previous"}, e.changeSlide), e.$nextArrow.on("click.slick", {message: "next"}, e.changeSlide))
  }, t.prototype.initDotEvents = function () {
    var t = this;
    t.options.dots === !0 && t.slideCount > t.options.slidesToShow && e("li", t.$dots).on("click.slick", {message: "index"}, t.changeSlide), t.options.dots === !0 && t.options.pauseOnDotsHover === !0 && t.options.autoplay === !0 && e("li", t.$dots).on("mouseenter.slick", t.setPaused.bind(t, !0)).on("mouseleave.slick", t.setPaused.bind(t, !1))
  }, t.prototype.initializeEvents = function () {
    var t = this;
    t.initArrowEvents(), t.initDotEvents(), t.$list.on("touchstart.slick mousedown.slick", {action: "start"}, t.swipeHandler), t.$list.on("touchmove.slick mousemove.slick", {action: "move"}, t.swipeHandler), t.$list.on("touchend.slick mouseup.slick", {action: "end"}, t.swipeHandler), t.$list.on("touchcancel.slick mouseleave.slick", {action: "end"}, t.swipeHandler), t.$list.on("click.slick", t.clickHandler), t.options.autoplay === !0 && e(document).on(t.visibilityChange, t.visibility.bind(t)), t.$list.on("mouseenter.slick", t.setPaused.bind(t, !0)), t.$list.on("mouseleave.slick", t.setPaused.bind(t, !1)), t.options.accessibility === !0 && t.$list.on("keydown.slick", t.keyHandler), t.options.focusOnSelect === !0 && e(t.$slideTrack).children().on("click.slick", t.selectHandler), e(window).on("orientationchange.slick.slick-" + t.instanceUid, t.orientationChange.bind(t)), e(window).on("resize.slick.slick-" + t.instanceUid, t.resize.bind(t)), e("[draggable!=true]", t.$slideTrack).on("dragstart", t.preventDefault), e(window).on("load.slick.slick-" + t.instanceUid, t.setPosition), e(document).on("ready.slick.slick-" + t.instanceUid, t.setPosition)
  }, t.prototype.initUI = function () {
    var e = this;
    e.options.arrows === !0 && e.slideCount > e.options.slidesToShow && (e.$prevArrow.show(), e.$nextArrow.show()), e.options.dots === !0 && e.slideCount > e.options.slidesToShow && e.$dots.show(), e.options.autoplay === !0 && e.autoPlay()
  }, t.prototype.keyHandler = function (e) {
    var t = this;
    37 === e.keyCode && t.options.accessibility === !0 ? t.changeSlide({data: {message: "previous"}}) : 39 === e.keyCode && t.options.accessibility === !0 && t.changeSlide({data: {message: "next"}})
  }, t.prototype.lazyLoad = function () {
    function t(t) {
      e("img[data-lazy]", t).each(function () {
        var t = e(this), n = e(this).attr("data-lazy"), r = document.createElement("img");
        r.onload = function () {
          t.animate({opacity: 1}, 200)
        }, r.src = n, t.css({opacity: 0}).attr("src", n).removeAttr("data-lazy").removeClass("slick-loading")
      })
    }

    var n, r, i, s, o = this;
    o.options.centerMode === !0 ? o.options.infinite === !0 ? (i = o.currentSlide + (o.options.slidesToShow / 2 + 1), s = i + o.options.slidesToShow + 2) : (i = Math.max(0, o.currentSlide - (o.options.slidesToShow / 2 + 1)), s = 2 + (o.options.slidesToShow / 2 + 1) + o.currentSlide) : (i = o.options.infinite ? o.options.slidesToShow + o.currentSlide : o.currentSlide, s = i + o.options.slidesToShow, o.options.fade === !0 && (i > 0 && i--, s <= o.slideCount && s++)), n = o.$slider.find(".slick-slide").slice(i, s), t(n), o.slideCount <= o.options.slidesToShow ? (r = o.$slider.find(".slick-slide"), t(r)) : o.currentSlide >= o.slideCount - o.options.slidesToShow ? (r = o.$slider.find(".slick-cloned").slice(0, o.options.slidesToShow), t(r)) : 0 === o.currentSlide && (r = o.$slider.find(".slick-cloned").slice(-1 * o.options.slidesToShow), t(r))
  }, t.prototype.loadSlider = function () {
    var e = this;
    e.setPosition(), e.$slideTrack.css({opacity: 1}), e.$slider.removeClass("slick-loading"), e.initUI(), "progressive" === e.options.lazyLoad && e.progressiveLazyLoad()
  }, t.prototype.next = t.prototype.slickNext = function () {
    var e = this;
    e.changeSlide({data: {message: "next"}})
  }, t.prototype.orientationChange = function () {
    var e = this;
    e.checkResponsive(), e.setPosition()
  }, t.prototype.pause = t.prototype.slickPause = function () {
    var e = this;
    e.autoPlayClear(), e.paused = !0
  }, t.prototype.play = t.prototype.slickPlay = function () {
    var e = this;
    e.paused = !1, e.autoPlay()
  }, t.prototype.postSlide = function (e) {
    var t = this;
    t.$slider.trigger("afterChange", [t, e]), t.animating = !1, t.setPosition(), t.swipeLeft = null, t.options.autoplay === !0 && t.paused === !1 && t.autoPlay()
  }, t.prototype.prev = t.prototype.slickPrev = function () {
    var e = this;
    e.changeSlide({data: {message: "previous"}})
  }, t.prototype.preventDefault = function (e) {
    e.preventDefault()
  }, t.prototype.progressiveLazyLoad = function () {
    var t, n, r = this;
    t = e("img[data-lazy]", r.$slider).length, t > 0 && (n = e("img[data-lazy]", r.$slider).first(), n.attr("src", n.attr("data-lazy")).removeClass("slick-loading").load(function () {
      n.removeAttr("data-lazy"), r.progressiveLazyLoad(), r.options.adaptiveHeight === !0 && r.setPosition()
    }).error(function () {
      n.removeAttr("data-lazy"), r.progressiveLazyLoad()
    }))
  }, t.prototype.refresh = function () {
    var t = this, n = t.currentSlide;
    t.destroy(), e.extend(t, t.initials), t.init(), t.changeSlide({data: {message: "index", index: n}}, !1)
  }, t.prototype.reinit = function () {
    var t = this;
    t.$slides = t.$slideTrack.children(t.options.slide).addClass("slick-slide"), t.slideCount = t.$slides.length, t.currentSlide >= t.slideCount && 0 !== t.currentSlide && (t.currentSlide = t.currentSlide - t.options.slidesToScroll), t.slideCount <= t.options.slidesToShow && (t.currentSlide = 0), t.setProps(), t.setupInfinite(), t.buildArrows(), t.updateArrows(), t.initArrowEvents(), t.buildDots(), t.updateDots(), t.initDotEvents(), t.options.focusOnSelect === !0 && e(t.$slideTrack).children().on("click.slick", t.selectHandler), t.setSlideClasses(0), t.setPosition(), t.$slider.trigger("reInit", [t])
  }, t.prototype.resize = function () {
    var t = this;
    e(window).width() !== t.windowWidth && (clearTimeout(t.windowDelay), t.windowDelay = window.setTimeout(function () {
      t.windowWidth = e(window).width(), t.checkResponsive(), t.setPosition()
    }, 50))
  }, t.prototype.removeSlide = t.prototype.slickRemove = function (e, t, n) {
    var r = this;
    return "boolean" == typeof e ? (t = e, e = t === !0 ? 0 : r.slideCount - 1) : e = t === !0 ? --e : e, r.slideCount < 1 || 0 > e || e > r.slideCount - 1 ? !1 : (r.unload(), n === !0 ? r.$slideTrack.children().remove() : r.$slideTrack.children(this.options.slide).eq(e).remove(), r.$slides = r.$slideTrack.children(this.options.slide), r.$slideTrack.children(this.options.slide).detach(), r.$slideTrack.append(r.$slides), r.$slidesCache = r.$slides, r.reinit(), void 0)
  }, t.prototype.setCSS = function (e) {
    var t, n, r = this, i = {};
    r.options.rtl === !0 && (e = -e), t = "left" == r.positionProp ? Math.ceil(e) + "px" : "0px", n = "top" == r.positionProp ? Math.ceil(e) + "px" : "0px", i[r.positionProp] = e, r.transformsEnabled === !1 ? r.$slideTrack.css(i) : (i = {}, r.cssTransitions === !1 ? (i[r.animType] = "translate(" + t + ", " + n + ")", r.$slideTrack.css(i)) : (i[r.animType] = "translate3d(" + t + ", " + n + ", 0px)", r.$slideTrack.css(i)))
  }, t.prototype.setDimensions = function () {
    var e = this;
    e.options.vertical === !1 ? e.options.centerMode === !0 && e.$list.css({padding: "0px " + e.options.centerPadding}) : (e.$list.height(e.$slides.first().outerHeight(!0) * e.options.slidesToShow), e.options.centerMode === !0 && e.$list.css({padding: e.options.centerPadding + " 0px"})), e.listWidth = e.$list.width(), e.listHeight = e.$list.height(), e.options.vertical === !1 && e.options.variableWidth === !1 ? (e.slideWidth = Math.ceil(e.listWidth / e.options.slidesToShow), e.$slideTrack.width(Math.ceil(e.slideWidth * e.$slideTrack.children(".slick-slide").length))) : e.options.variableWidth === !0 ? e.$slideTrack.width(5e3 * e.slideCount) : (e.slideWidth = Math.ceil(e.listWidth), e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0) * e.$slideTrack.children(".slick-slide").length)));
    var t = e.$slides.first().outerWidth(!0) - e.$slides.first().width();
    e.options.variableWidth === !1 && e.$slideTrack.children(".slick-slide").width(e.slideWidth - t)
  }, t.prototype.setFade = function () {
    var t, n = this;
    n.$slides.each(function (r, i) {
      t = -1 * n.slideWidth * r, n.options.rtl === !0 ? e(i).css({
        position: "relative",
        right: t,
        top: 0,
        zIndex: 800,
        opacity: 0
      }) : e(i).css({position: "relative", left: t, top: 0, zIndex: 800, opacity: 0})
    }), n.$slides.eq(n.currentSlide).css({zIndex: 900, opacity: 1})
  }, t.prototype.setHeight = function () {
    var e = this;
    if (1 === e.options.slidesToShow && e.options.adaptiveHeight === !0 && e.options.vertical === !1) {
      var t = e.$slides.eq(e.currentSlide).outerHeight(!0);
      e.$list.css("height", t)
    }
  }, t.prototype.setOption = t.prototype.slickSetOption = function (e, t, n) {
    var r = this;
    r.options[e] = t, n === !0 && (r.unload(), r.reinit())
  }, t.prototype.setPosition = function () {
    var e = this;
    e.setDimensions(), e.setHeight(), e.options.fade === !1 ? e.setCSS(e.getLeft(e.currentSlide)) : e.setFade(), e.$slider.trigger("setPosition", [e])
  }, t.prototype.setProps = function () {
    var e = this, t = document.body.style;
    e.positionProp = e.options.vertical === !0 ? "top" : "left", "top" === e.positionProp ? e.$slider.addClass("slick-vertical") : e.$slider.removeClass("slick-vertical"), (void 0 !== t.WebkitTransition || void 0 !== t.MozTransition || void 0 !== t.msTransition) && e.options.useCSS === !0 && (e.cssTransitions = !0), void 0 !== t.OTransform && (e.animType = "OTransform", e.transformType = "-o-transform", e.transitionType = "OTransition", void 0 === t.perspectiveProperty && void 0 === t.webkitPerspective && (e.animType = !1)), void 0 !== t.MozTransform && (e.animType = "MozTransform", e.transformType = "-moz-transform", e.transitionType = "MozTransition", void 0 === t.perspectiveProperty && void 0 === t.MozPerspective && (e.animType = !1)), void 0 !== t.webkitTransform && (e.animType = "webkitTransform", e.transformType = "-webkit-transform", e.transitionType = "webkitTransition", void 0 === t.perspectiveProperty && void 0 === t.webkitPerspective && (e.animType = !1)), void 0 !== t.msTransform && (e.animType = "msTransform", e.transformType = "-ms-transform", e.transitionType = "msTransition", void 0 === t.msTransform && (e.animType = !1)), void 0 !== t.transform && e.animType !== !1 && (e.animType = "transform", e.transformType = "transform", e.transitionType = "transition"), e.transformsEnabled = null !== e.animType && e.animType !== !1
  }, t.prototype.setSlideClasses = function (e) {
    var t, n, r, i, s = this;
    s.$slider.find(".slick-slide").removeClass("slick-active").attr("aria-hidden", "true").removeClass("slick-center"), n = s.$slider.find(".slick-slide"), s.options.centerMode === !0 ? (t = Math.floor(s.options.slidesToShow / 2), s.options.infinite === !0 && (e >= t && e <= s.slideCount - 1 - t ? s.$slides.slice(e - t, e + t + 1).addClass("slick-active").attr("aria-hidden", "false") : (r = s.options.slidesToShow + e, n.slice(r - t + 1, r + t + 2).addClass("slick-active").attr("aria-hidden", "false")), 0 === e ? n.eq(n.length - 1 - s.options.slidesToShow).addClass("slick-center") : e === s.slideCount - 1 && n.eq(s.options.slidesToShow).addClass("slick-center")), s.$slides.eq(e).addClass("slick-center")) : e >= 0 && e <= s.slideCount - s.options.slidesToShow ? s.$slides.slice(e, e + s.options.slidesToShow).addClass("slick-active").attr("aria-hidden", "false") : n.length <= s.options.slidesToShow ? n.addClass("slick-active").attr("aria-hidden", "false") : (i = s.slideCount % s.options.slidesToShow, r = s.options.infinite === !0 ? s.options.slidesToShow + e : e, s.options.slidesToShow == s.options.slidesToScroll && s.slideCount - e < s.options.slidesToShow ? n.slice(r - (s.options.slidesToShow - i), r + i).addClass("slick-active").attr("aria-hidden", "false") : n.slice(r, r + s.options.slidesToShow).addClass("slick-active").attr("aria-hidden", "false")), "ondemand" === s.options.lazyLoad && s.lazyLoad()
  }, t.prototype.setupInfinite = function () {
    var t, n, r, i = this;
    if (i.options.fade === !0 && (i.options.centerMode = !1), i.options.infinite === !0 && i.options.fade === !1 && (n = null, i.slideCount > i.options.slidesToShow)) {
      for (r = i.options.centerMode === !0 ? i.options.slidesToShow + 1 : i.options.slidesToShow, t = i.slideCount; t > i.slideCount - r; t -= 1) n = t - 1, e(i.$slides[n]).clone(!0).attr("id", "").attr("data-slick-index", n - i.slideCount).prependTo(i.$slideTrack).addClass("slick-cloned");
      for (t = 0; r > t; t += 1) n = t, e(i.$slides[n]).clone(!0).attr("id", "").attr("data-slick-index", n + i.slideCount).appendTo(i.$slideTrack).addClass("slick-cloned");
      i.$slideTrack.find(".slick-cloned").find("[id]").each(function () {
        e(this).attr("id", "")
      })
    }
  }, t.prototype.setPaused = function (e) {
    var t = this;
    t.options.autoplay === !0 && t.options.pauseOnHover === !0 && (t.paused = e, t.autoPlayClear())
  }, t.prototype.selectHandler = function (t) {
    var n = this, r = e(t.target).is(".slick-slide") ? e(t.target) : e(t.target).parents(".slick-slide"),
      i = parseInt(r.attr("data-slick-index"));
    return i || (i = 0), n.slideCount <= n.options.slidesToShow ? (n.$slider.find(".slick-slide").removeClass("slick-active").attr("aria-hidden", "true"), n.$slides.eq(i).addClass("slick-active").attr("aria-hidden", "false"), n.options.centerMode === !0 && (n.$slider.find(".slick-slide").removeClass("slick-center"), n.$slides.eq(i).addClass("slick-center")), n.asNavFor(i), void 0) : (n.slideHandler(i), void 0)
  }, t.prototype.slideHandler = function (e, t, n) {
    var r, i, s, o, u = null, a = this;
    return t = t || !1, a.animating === !0 && a.options.waitForAnimate === !0 || a.options.fade === !0 && a.currentSlide === e || a.slideCount <= a.options.slidesToShow ? void 0 : (t === !1 && a.asNavFor(e), r = e, u = a.getLeft(r), o = a.getLeft(a.currentSlide), a.currentLeft = null === a.swipeLeft ? o : a.swipeLeft, a.options.infinite === !1 && a.options.centerMode === !1 && (0 > e || e > a.getDotCount() * a.options.slidesToScroll) ? (a.options.fade === !1 && (r = a.currentSlide, n !== !0 ? a.animateSlide(o, function () {
      a.postSlide(r)
    }) : a.postSlide(r)), void 0) : a.options.infinite === !1 && a.options.centerMode === !0 && (0 > e || e > a.slideCount - a.options.slidesToScroll) ? (a.options.fade === !1 && (r = a.currentSlide, n !== !0 ? a.animateSlide(o, function () {
      a.postSlide(r)
    }) : a.postSlide(r)), void 0) : (a.options.autoplay === !0 && clearInterval(a.autoPlayTimer), i = 0 > r ? 0 !== a.slideCount % a.options.slidesToScroll ? a.slideCount - a.slideCount % a.options.slidesToScroll : a.slideCount + r : r >= a.slideCount ? 0 !== a.slideCount % a.options.slidesToScroll ? 0 : r - a.slideCount : r, a.animating = !0, a.$slider.trigger("beforeChange", [a, a.currentSlide, i]), s = a.currentSlide, a.currentSlide = i, a.setSlideClasses(a.currentSlide), a.updateDots(), a.updateArrows(), a.options.fade === !0 ? (n !== !0 ? a.fadeSlide(i, function () {
      a.postSlide(i)
    }) : a.postSlide(i), a.animateHeight(), void 0) : (n !== !0 ? a.animateSlide(u, function () {
      a.postSlide(i)
    }) : a.postSlide(i), void 0)))
  }, t.prototype.startLoad = function () {
    var e = this;
    e.options.arrows === !0 && e.slideCount > e.options.slidesToShow && (e.$prevArrow.hide(), e.$nextArrow.hide()), e.options.dots === !0 && e.slideCount > e.options.slidesToShow && e.$dots.hide(), e.$slider.addClass("slick-loading")
  }, t.prototype.swipeDirection = function () {
    var e, t, n, r, i = this;
    return e = i.touchObject.startX - i.touchObject.curX, t = i.touchObject.startY - i.touchObject.curY, n = Math.atan2(t, e), r = Math.round(180 * n / Math.PI), 0 > r && (r = 360 - Math.abs(r)), 45 >= r && r >= 0 ? i.options.rtl === !1 ? "left" : "right" : 360 >= r && r >= 315 ? i.options.rtl === !1 ? "left" : "right" : r >= 135 && 225 >= r ? i.options.rtl === !1 ? "right" : "left" : i.options.verticalSwiping === !0 ? r >= 35 && 135 >= r ? "left" : "right" : "vertical"
  }, t.prototype.swipeEnd = function () {
    var e, t = this;
    if (t.dragging = !1, t.shouldClick = t.touchObject.swipeLength > 10 ? !1 : !0, void 0 === t.touchObject.curX) return !1;
    if (t.touchObject.edgeHit === !0 && t.$slider.trigger("edge", [t, t.swipeDirection()]), t.touchObject.swipeLength >= t.touchObject.minSwipe) switch (t.swipeDirection()) {
      case"left":
        e = t.options.swipeToSlide ? t.checkNavigable(t.currentSlide + t.getSlideCount()) : t.currentSlide + t.getSlideCount(), t.slideHandler(e), t.currentDirection = 0, t.touchObject = {}, t.$slider.trigger("swipe", [t, "left"]);
        break;
      case"right":
        e = t.options.swipeToSlide ? t.checkNavigable(t.currentSlide - t.getSlideCount()) : t.currentSlide - t.getSlideCount(), t.slideHandler(e), t.currentDirection = 1, t.touchObject = {}, t.$slider.trigger("swipe", [t, "right"])
    } else t.touchObject.startX !== t.touchObject.curX && (t.slideHandler(t.currentSlide), t.touchObject = {})
  }, t.prototype.swipeHandler = function (e) {
    var t = this;
    if (!(t.options.swipe === !1 || "ontouchend" in document && t.options.swipe === !1 || t.options.draggable === !1 && -1 !== e.type.indexOf("mouse"))) switch (t.touchObject.fingerCount = e.originalEvent && void 0 !== e.originalEvent.touches ? e.originalEvent.touches.length : 1, t.touchObject.minSwipe = t.listWidth / t.options.touchThreshold, t.options.verticalSwiping === !0 && (t.touchObject.minSwipe = t.listHeight / t.options.touchThreshold), e.data.action) {
      case"start":
        t.swipeStart(e);
        break;
      case"move":
        t.swipeMove(e);
        break;
      case"end":
        t.swipeEnd(e)
    }
  }, t.prototype.swipeMove = function (e) {
    var t, n, r, i, s, o = this;
    return s = void 0 !== e.originalEvent ? e.originalEvent.touches : null, !o.dragging || s && 1 !== s.length ? !1 : (t = o.getLeft(o.currentSlide), o.touchObject.curX = void 0 !== s ? s[0].pageX : e.clientX, o.touchObject.curY = void 0 !== s ? s[0].pageY : e.clientY, o.touchObject.swipeLength = Math.round(Math.sqrt(Math.pow(o.touchObject.curX - o.touchObject.startX, 2))), o.options.verticalSwiping === !0 && (o.touchObject.swipeLength = Math.round(Math.sqrt(Math.pow(o.touchObject.curY - o.touchObject.startY, 2)))), n = o.swipeDirection(), "vertical" !== n ? (void 0 !== e.originalEvent && o.touchObject.swipeLength > 4 && e.preventDefault(), i = (o.options.rtl === !1 ? 1 : -1) * (o.touchObject.curX > o.touchObject.startX ? 1 : -1), o.options.verticalSwiping === !0 && (i = o.touchObject.curY > o.touchObject.startY ? 1 : -1), r = o.touchObject.swipeLength, o.touchObject.edgeHit = !1, o.options.infinite === !1 && (0 === o.currentSlide && "right" === n || o.currentSlide >= o.getDotCount() && "left" === n) && (r = o.touchObject.swipeLength * o.options.edgeFriction, o.touchObject.edgeHit = !0), o.swipeLeft = o.options.vertical === !1 ? t + r * i : t + r * (o.$list.height() / o.listWidth) * i, o.options.verticalSwiping === !0 && (o.swipeLeft = t + r * i), o.options.fade === !0 || o.options.touchMove === !1 ? !1 : o.animating === !0 ? (o.swipeLeft = null, !1) : (o.setCSS(o.swipeLeft), void 0)) : void 0)
  }, t.prototype.swipeStart = function (e) {
    var t, n = this;
    return 1 !== n.touchObject.fingerCount || n.slideCount <= n.options.slidesToShow ? (n.touchObject = {}, !1) : (void 0 !== e.originalEvent && void 0 !== e.originalEvent.touches && (t = e.originalEvent.touches[0]), n.touchObject.startX = n.touchObject.curX = void 0 !== t ? t.pageX : e.clientX, n.touchObject.startY = n.touchObject.curY = void 0 !== t ? t.pageY : e.clientY, n.dragging = !0, void 0)
  }, t.prototype.unfilterSlides = t.prototype.slickUnfilter = function () {
    var e = this;
    null !== e.$slidesCache && (e.unload(), e.$slideTrack.children(this.options.slide).detach(), e.$slidesCache.appendTo(e.$slideTrack), e.reinit())
  }, t.prototype.unload = function () {
    var t = this;
    e(".slick-cloned", t.$slider).remove(), t.$dots && t.$dots.remove(), t.$prevArrow && "object" != typeof t.options.prevArrow && t.$prevArrow.remove(), t.$nextArrow && "object" != typeof t.options.nextArrow && t.$nextArrow.remove(), t.$slides.removeClass("slick-slide slick-active slick-visible").attr("aria-hidden", "true").css("width", "")
  }, t.prototype.unslick = function () {
    var e = this;
    e.destroy()
  }, t.prototype.updateArrows = function () {
    var e, t = this;
    e = Math.floor(t.options.slidesToShow / 2), t.options.arrows === !0 && t.options.infinite !== !0 && t.slideCount > t.options.slidesToShow && (t.$prevArrow.removeClass("slick-disabled"), t.$nextArrow.removeClass("slick-disabled"), 0 === t.currentSlide ? (t.$prevArrow.addClass("slick-disabled"), t.$nextArrow.removeClass("slick-disabled")) : t.currentSlide >= t.slideCount - t.options.slidesToShow && t.options.centerMode === !1 ? (t.$nextArrow.addClass("slick-disabled"), t.$prevArrow.removeClass("slick-disabled")) : t.currentSlide >= t.slideCount - 1 && t.options.centerMode === !0 && (t.$nextArrow.addClass("slick-disabled"), t.$prevArrow.removeClass("slick-disabled")))
  }, t.prototype.updateDots = function () {
    var e = this;
    null !== e.$dots && (e.$dots.find("li").removeClass("slick-active").attr("aria-hidden", "true"), e.$dots.find("li").eq(Math.floor(e.currentSlide / e.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden", "false"))
  }, t.prototype.visibility = function () {
    var e = this;
    document[e.hidden] ? (e.paused = !0, e.autoPlayClear()) : (e.paused = !1, e.autoPlay())
  }, e.fn.slick = function () {
    var e, n = this, r = arguments[0], i = Array.prototype.slice.call(arguments, 1), s = n.length, o = 0;
    for (o; s > o; o++) if ("object" == typeof r || "undefined" == typeof r ? n[o].slick = new t(n[o], r) : e = n[o].slick[r].apply(n[o].slick, i), "undefined" != typeof e) return e;
    return n
  }
}), define("lp_timeline/views/modules/LPTimelineModuleGalleryView", ["jquery", "underscore", "backbone", "grid-gallery", "slick", "lp_timeline/views/LPTimelineAbstractItemView"], function (e, t, n, r, i, s) {
  var o;
  return o = s.extend({
    LAUNCH_MODAL: "LPTimelineModuleGalleryView.LAUNCH_MODAL",
    events: {click: "onClick"},
    initialize: function (t) {
      var n, r, i, o, u, a = this;
      s.prototype.initialize.call(this), this.model = this.$el.find(".module-data").data();
      if (typeof this.model.images == "string" || this.model.images instanceof String) this.model.images = this.model.images.replace(/'/g, '"').trim(), this.model.images = e.parseJSON(this.model.images);
      o = this.$el.find("img"), u = [];
      for (r = 0, i = o.length; r < i; r++) n = o[r], u.push(e(n).load(function () {
        return e(window).resize()
      }));
      return u
    },
    onClick: function () {
      return this.trigger(this.LAUNCH_MODAL, this)
    }
  })
}), define("lp_timeline/views/modules/LPTimelineModuleImageView", ["jquery", "underscore", "backbone", "lp_timeline/views/LPTimelineAbstractItemView"], function (e, t, n, r) {
  var i;
  return i = r.extend({
    LAUNCH_MODAL: "LPTimelineModuleImageView.LAUNCH_MODAL",
    events: {click: "onClick"},
    initialize: function (t) {
      var n, i = this;
      return r.prototype.initialize.call(this), n = t || {}, this.model = this.$el.find(".module-data").data(), this.$el.find("img").load(function () {
        return e(window).resize()
      })
    },
    onClick: function () {
      return this.trigger(this.LAUNCH_MODAL, this)
    }
  })
}), define("lp_timeline/views/modules/LPTimelineModuleVideoView", ["jquery", "underscore", "backbone", "lp_timeline/views/LPTimelineAbstractItemView"], function (e, t, n, r) {
  var i;
  return i = r.extend({
    LAUNCH_MODAL: "LPTimelineModuleVideoView.LAUNCH_MODAL",
    events: {click: "onClick"},
    initialize: function (t) {
      var n = this;
      return r.prototype.initialize.call(this), this.model = this.$el.find(".module-data").data(), this.$el.find("img").load(function () {
        return e(window).resize()
      })
    },
    onClick: function () {
      return this.trigger(this.LAUNCH_MODAL, this)
    }
  })
}), define("lp_timeline/views/modules/LPTimelineSlideView", ["jquery", "underscore", "backbone", "masonry", "lp_timeline/views/LPTimelineAbstractItemView", "lp_timeline/views/modals/LPTimelineAssetsModalView", "lp_timeline/views/modules/LPTimelineModuleAudioView", "lp_timeline/views/modules/LPTimelineModuleAudioAndImageView", "lp_timeline/views/modules/LPTimelineModuleGalleryView", "lp_timeline/views/modules/LPTimelineModuleImageView", "lp_timeline/views/modules/LPTimelineModuleVideoView"], function (e, t, n, r, i, s, o, u, a, f, l) {
  var c;
  return c = i.extend({
    initialize: function (t) {
      var n;
      return i.prototype.initialize.call(this), this.audio = [], n = t || {}, this.$imgWrapper = this.$el.find(".img-full-wrapper"), this.$sectionContent = this.$el.find(".section-content"), this.$intro = this.$el.find(".intro"), this.$media = this.$el.find(".media"), this.isIntro = this.$intro.length, this.bodyHtml = e("html, body"), this.$siteContainer = e("#container"), this.$allBlur = e(".img-full-wrapper, .section-content"), this.initAudio(), this.initAudioAndImages(), this.initGallery(), this.initImages(), this.initVideo(), this.initMasonry()
    }, initAudio: function () {
      var e = this;
      return this.$el.find(".module-audio").each(function (t, n) {
        var r;
        return r = new o({el: n}), e.audio.push(r)
      })
    }, initAudioAndImages: function () {
      var e = this;
      return this.$el.find(".module-audio-and-image").each(function (t, n) {
        var r;
        return r = new u({el: n}), r.on(r.LAUNCH_MODAL, function (t) {
          return e.loadAssetModal("audioAndImages", t)
        }), e.audio.push(r)
      })
    }, initGallery: function () {
      var e = this;
      return this.$el.find(".module-gallery").each(function (t, n) {
        var r;
        return r = new a({el: n}), r.on(r.LAUNCH_MODAL, function (t) {
          return e.loadAssetModal("gallery", t)
        })
      })
    }, initImages: function () {
      var e = this;
      return this.$el.find(".module-image").each(function (t, n) {
        var r;
        return r = new f({el: n}), r.on(r.LAUNCH_MODAL, function (t) {
          return e.loadAssetModal("image", t)
        })
      })
    }, initVideo: function () {
      var e = this;
      return this.$el.find(".module-video").each(function (t, n) {
        var r;
        return r = new l({el: n}), r.on(r.LAUNCH_MODAL, function (t) {
          return e.loadAssetModal("video", t)
        })
      })
    }, initMasonry: function () {
      var e, t, n;
      n = this, this.destoryMasonry();
      if (this.$media.length) return this.msnry = new r(this.$media.get(0), {
        itemSelector: ".grid-item",
        columnWidth: ".grid-sizer"
      }), t = function () {
        if (n.msnry) return n.msnry.layout()
      }, e = this.$el.find("img"), e[0] && e[0].complete ? t() : e.load(function () {
        return t()
      })
    }, destoryMasonry: function () {
      var e;
      if (this.msnry && this.$media.length) return e = r.data(this.$media.get(0)), e.destroy(), this.msnry = null
    }, loadAssetModal: function (e, t) {
      var n = this;
      return this.destroyModal(), this.isMobile && this.bodyHtml.css({"overflow-y": "hidden"}), this.assetsModalView = new s({
        type: e,
        model: t.model
      }), this.assetsModalView.on(this.assetsModalView.MODAL_CLOSE, function () {
        n.$allBlur.removeClass("blur");
        if (n.isMobile) return n.bodyHtml.css({"overflow-y": "auto"})
      }), this.$siteContainer.append(this.assetsModalView.$el), fastdom.mutate(function () {
        return n.$allBlur.addClass("blur")
      })
    }, loadAudio: function () {
      var e, t, n, r, i;
      if (!this.isMobile) {
        r = this.audio, i = [];
        for (t = 0, n = r.length; t < n; t++) e = r[t], i.push(e.loadAudio());
        return i
      }
    }, turnOffAudio: function () {
      var e, t, n, r, i;
      r = this.audio, i = [];
      for (t = 0, n = r.length; t < n; t++) e = r[t], i.push(e.stop());
      return i
    }, onResize: function (e, t) {
      var n = this;
      return this.height = e, this.width = t, i.prototype.onResize(this.height, this.width), this.assetsModalView && this.assetsModalView.onResize(this.height, this.width), this.isMobile ? fastdom.mutate(function () {
        n.$imgWrapper.height("");
        if (!n.wasMobile) return n.destoryMasonry()
      }) : fastdom.measure(function () {
        var e;
        return e = n.$sectionContent.outerHeight(), fastdom.mutate(function () {
          n.$imgWrapper.height(Math.max(e, n.height));
          if (n.wasMobile) return n.initMasonry()
        })
      }), fastdom.mutate(function () {
        var e, t, r, i, s;
        i = n.audio, s = [];
        for (t = 0, r = i.length; t < r; t++) e = i[t], e.onResize(n.height, n.width), s.push(e.redraw());
        return s
      }), this.wasMobile = this.isMobile
    }, destroyModal: function () {
      var e = this;
      return this.assetsModalView && (this.assetsModalView.destroy(), this.assetsModalView = null), fastdom.mutate(function () {
        return e.$imgWrapper.removeClass("blur"), e.$sectionContent.removeClass("blur")
      })
    }
  })
}), define("lp_timeline/views/modules/LPTimelineCoverFlowView", ["jquery", "underscore", "backbone", "lp_timeline/views/LPTimelineAbstractItemView"], function (e, t, n, r) {
  var i;
  return i = r.extend({
    OFFSET: 100, ROTATION: 45, BASE_ZINDEX: 10, MAX_ZINDEX: 42, initialize: function (t) {
      var n;
      return n = this, this.index = 0, this.thumbs = [], this.transformName = Modernizr.prefixed("transform"), this.thumbs = this.$el.find(".chapter-thumb"), this.thumbs.click(function () {
        var t, r;
        return t = e(this), t.hasClass("active") ? (r = t.data().anchorid, app.eventBus.trigger("CHAPTER_CLICK", r)) : (n.index = n.thumbs.index(t), n.render())
      }), this.render()
    }, render: function () {
      var t, n, r, i, s, o;
      n = 0, o = [];
      while (n < this.thumbs.length) r = 1 - Math.abs(this.index - n) * .25, r = Math.max(r, .25), i = this.thumbs[n], t = e(i), s = this.OFFSET * (n - this.index) + 50, n < this.index && t.removeClass("active").css({"z-index": this.BASE_ZINDEX + n}), n > this.index && t.removeClass("active").css({"z-index": this.BASE_ZINDEX + this.thumbs.length - n}), n === this.index ? (t.addClass("active").css({"z-index": this.MAX_ZINDEX}), i.style[this.transformName] = "translateY( 50% )  scale3d( 1, 1, 1 )") : i.style[this.transformName] = "translateY( " + s + "% )  scale3d( " + r + ", " + r + ", " + r + " )", o.push(n++);
      return o
    }
  })
}), define("lp_timeline/views/layouts/LPTimelineHomepageLayoutView", ["underscore", "backbone", "jquery", "fullpage", "fastdom", "lazy", "lp_timeline/views/LPTimelineAbstractLayoutView", "lp_timeline/views/modules/LPTimelineSlideView", "lp_timeline/views/modules/LPTimelineCoverFlowView"], function (e, t, n, r, i, s, o, u, a) {
  var f;
  return f = o.extend({
    currentIndex: 0, slideIndex: 0, slides: [], events: {
      "click .chapter-dot": function () {
        return n.fn.fullpage.moveTo("goToPage")
      }
    }, initialize: function () {
      var e, t, r, i, s, a, f, l = this;
      o.prototype.initialize.call(this), i = this, t = n(window), this.$vertical = this.$el.find(".vertical-breadcrumb"), this.$imgFull = this.$el.find(".img-full"), this.$thumbsWrapper = this.$el.find(".chapter-thumbs-wrapper"), this.$scrollToBegin = this.$el.find(".scroll-to-begin"), this.$el.find(".section").each(function (e, t) {
        var n;
        return n = new u({el: t}), i.slides.push(n)
      }), lazySizes.init(), this.insertEndScroll(), this.resetPlugin(), this.onResize(t.height(), t.width()), f = this.$imgFull;
      for (s = 0, a = f.length; s < a; s++) r = f[s], n(r).one("load", function () {
        return n(this).addClass("onload"), i.onResize(t.height(), t.width())
      });
      return e = n("div[data-anchor='timeline-intro'], div.lorg-landing").find(".chapter-thumb"), e.click(function () {
        var e;
        return e = n(this).data().anchorid, i.moveToSlide(e)
      }), t.resize(function () {
        return l.onResize(t.height(), t.width())
      }), n("body").addClass("onload"), app.eventBus.on("CHAPTER_CLICK", function (e) {
        return l.moveToSlide(e)
      })
    }, insertEndScroll: function () {
      var e, t;
      return t = " \n<div class='scroll-to-begin'>\n	<div class='up-arrow-icon'></div>\n	<span class='scroll-cta-txt'>Scroll to Top</span> \n</div>", e = n(t), this.$el.find(".section").last().append(e), e.click(function () {
        return window.location.hash = "timeline-intro"
      })
    }, resetPlugin: function (e) {
      var t, r, i, s;
      return i = /constructor/i.test(window.HTMLElement) || function (e) {
        return e.toString() === "[object SafariRemoteNotification]"
      }(!window.safari || safari.pushNotification), r = !!window.chrome && !!window.chrome.webstore, s = this, e && n.fn.fullpage.destroy("all"), t = n("#fullpage").fullpage({
        scrollBar: !1,
        css3: i,
        verticalCentered: !1,
        resize: !1,
        autoScrolling: !0,
        responsiveWidth: app.appConfig.sizing.mobile + 1,
        onLeave: function (e, t, r) {
          var i;
          return app.eventBus.trigger("CHAPTER_NEXT", t - 1), n(".sliding").removeClass("sliding"), n(".previous").removeClass("previous"), n(".next").removeClass("next"), i = s.slides[t - 1], i.loadAudio(), i.$el.prev().addClass("previous"), i.$el.next().addClass("next"), s.destroyModalsAndAudio()
        },
        afterLoad: function (e, t) {
          var r, i;
          this.currentIndex = t, r = n(this);
          if (r.data("src")) return i = r.data("src"), r.attr("style", "background-image:url(" + i + ");"), r.removeAttr("data-src")
        },
        afterRender: function () {
          return n("#fullpage").addClass("onload")
        },
        afterResize: function () {
          return console.log("afterResize")
        },
        afterSlideLoad: function (e, t, n, r) {
          return console.log("afterSlideLoad", e, t, n, r)
        },
        onSlideLeave: function (e, t, n, r, i) {
          return console.log("onSlideLeave", e, t, n, r, i)
        }
      })
    }, moveToSlide: function (e) {
      return n.fn.fullpage.moveTo(e)
    }, onResize: function (e, t) {
      var r, s, o, u, a, f, l, c, h, p, d, v = this;
      this.isPhone = Modernizr.mq("(max-width: " + app.appConfig.sizing.phone + "px)"), this.isMobile = Modernizr.mq("(max-width: " + app.appConfig.sizing.mobile + "px)"), h = this.$thumbsWrapper, u = function (t) {
        return i.measure(function () {
          var n, r, s, o, u;
          return o = v.isMobile ? 230 : 125, n = t.parent().find(".intro-header-wrapper").outerHeight(), r = t.parent().find(".intro-paragraph").outerHeight(), u = t.parent().find(".scroll-to-begin").height(), s = e - (n + r + u + o), i.mutate(function () {
            return t.height(s)
          })
        })
      };
      for (a = 0, l = h.length; a < l; a++) o = h[a], r = n(o), u(r);
      p = this.slides, d = [];
      for (f = 0, c = p.length; f < c; f++) s = p[f], d.push(s.onResize(e, t));
      return d
    }, destroyModalsAndAudio: function () {
      var e, t, n, r, i;
      r = this.slides, i = [];
      for (t = 0, n = r.length; t < n; t++) e = r[t], e.destroyModal(), i.push(e.turnOffAudio());
      return i
    }, destroy: function () {
      return o.prototype.destroy.call(this)
    }
  })
}), define("lp_timeline/views/modules/LPTimelineShareSaveView", ["jquery", "underscore", "backbone", "lp_timeline/views/LPTimelineAbstractItemView"], function (e, t, n, r) {
  var i;
  return i = r.extend({
    MAX_CHARS: 300,
    EMAIL_URL: "/content/share-page",
    FACEBOOK_SHARE_URL: "https://www.facebook.com/sharer/sharer.php",
    TWITTER_SHARE_URL: "https://twitter.com/share",
    GOOGLEPLUS_SHARE_URL: "https://plus.google.com/share",
    events: {
      "click .sharing-item.facebook": "onFacebookClick",
      "click .footer-icon.facebook-icon": "onFacebookClick",
      "click .sharing-item.twitter": "onTwitterClick",
      "click .footer-icon.twitter-icon": "onTwitterClick",
      "click .sharing-item.email": "onEmailClick",
      "click .footer-icon.mail-icon": "onEmailClick",
      "click .sharing-item.googleplus": "onGoogleClick",
      "click .footer-icon.google-icon": "onGoogleClick"
    },
    getContents: function () {
      return this._contents
    },
    setContents: function (t) {
      return t = t || {}, t.url = t.url || window.location, t.caption = t.title || "", t.title = e("meta[property='og:title']").attr("content") || "", t.image = t.image || e("meta[property='og:image']").attr("content") || "", t.description = t.description || e("meta[property='og:description']").attr("content") || "", t.description.length > this.MAX_CHARS && (t.description = t.description.substr(0, this.MAX_CHARS) + "..."), this._contents = t
    },
    initialize: function (e) {
      var t = this;
      return r.prototype.initialize.call(this), console.log("LPTimelineShareSaveView"), e = e || {}, this.$shareIcon = this.$el.find(".top-nav-share-icon"), this.$list = this.$el.find(".sharing-list").removeClass("is-invisible").hide(), this.$list.on("mouseleave", function () {
        return t.$list.hide()
      }), this.setContents(e.contents)
    },
    onResize: function (e, t) {
      var n = this;
      return this.height = e, this.width = t, r.prototype.initialize.call(this, this.height, this.width), this.$shareIcon.off(), this.isMobile ? this.$shareIcon.click(function () {
        return n.$list.toggle()
      }) : this.$shareIcon.on("mouseover", function () {
        return n.$list.show()
      })
    },
    onFacebookClick: function () {
      return this.getFacebookSharer(this.getContents(), {appId: "286058441531272"})
    },
    onTwitterClick: function () {
      return this.getTwitterSharer(this.getContents())
    },
    onGoogleClick: function () {
      return this.getGooglePlusSharer(this.getContents())
    },
    onEmailClick: function () {
      var e, t;
      return t = encodeURIComponent("mySubject"), e = encodeURIComponent("myBody"), window.location.href = "mailto:?subject=" + t + "&body=" + e
    },
    getTwitterSharer: function (e, t) {
      var n;
      return e == null && (e = {}), t == null && (t = {}), n = {}, n.url = t.apiUrl || this.TWITTER_SHARE_URL, n.url += "?url=" + encodeURIComponent(e.url || window.location), this.getSharer(n)
    },
    getFacebookSharer: function (e, t) {
      var n;
      return e == null && (e = {}), t == null && (t = {}), n = {}, n.url = this.FACEBOOK_SHARE_URL, n.url += "?u=" + encodeURIComponent(e.url || window.location), e.title && (n.url += "&name=" + encodeURIComponent(e.title.replace(/<[^>]*>/gi, ""))), e.description && (n.url += "&description=" + encodeURIComponent(e.description.replace(/<[^>]*>/gi, ""))), e.image && (n.url += "&picture=" + encodeURIComponent(e.image)), e.caption && (n.url += "&caption=" + encodeURIComponent(e.caption.replace(/<[^>]*>/gi, ""))), this.getSharer(n)
    },
    getGooglePlusSharer: function (e, t) {
      var n;
      return e == null && (e = {}), t == null && (t = {}), n = {}, n.url = t.apiUrl || this.GOOGLEPLUS_SHARE_URL, n.url += "?url=" + encodeURIComponent(e.url || window.location), this.getSharer(n)
    },
    getSharer: function (e) {
      var t;
      return e == null && (e = {}), t = "location=no,menubar=no,status=no,titlebar=no,toolbar=no", t += ",width=" + (e.width || 980), t += ",height=" + (e.height || 610), t += ",top=" + (e.top || 10), t += ",left=" + (e.left || 10), window.open(e.url, "_blank", t)
    },
    destroy: function () {
      return this.$el.off("mouseover").off("mouseleave").find("a").off("click"), this.remove()
    }
  })
}), define("lp-timeline-app-view", ["jquery", "underscore", "backbone", "marionette", "fastdom", "lp_timeline/views/LPTimelineAbstractLayoutView", "lp_timeline/views/navigation/LPTimelineOverlayNavView", "lp_timeline/views/navigation/LPTimelineMobileNavView", "lp_timeline/views/navigation/LPTimelineFooterView", "lp_timeline/views/layouts/LPTimelineHomepageLayoutView", "lp_timeline/views/modules/LPTimelineShareSaveView"], function (e, t, n, r, i, s, o, u, a, f, l) {
  var c;
  return c = r.Application.extend({
    isInitLoad: !0,
    isLoading: !1,
    isCollapsed: !1,
    isHeaderFixed: !1,
    $topNavEl: null,
    EVENT_DATA_LOADED: "LPTimelineAppView.EVENT_DATA_LOADED",
    EVENT_TEMPLATE_LOADED: "LPTimelineAppView.EVENT_TEMPLATE_LOADED",
    regions: {
      navigationRegion: "#header",
      mainRegion: "#content",
      footerRegion: "#footer",
      fullpageRegion: "#fullpage"
    },
    initialize: function (t) {
      var n, r, i, s = this;
      return this.$window = e(window), this.$body = e("body"), this.$contentWrap = e(".site-content-wrap"), n = e(".overlay"), i = e(".top-nav-mobile"), r = e(".top-nav-desktop-right"), this.shareView = new l({el: r}), this.shareMobileView = new l({el: n}), this.overlayNavView = new o({el: n}), this.mobileNavView = new u({el: i}), this.mobileNavView.on(this.mobileNavView.HAMBURGER_CLICK, function () {
        return s.overlayNavView.toggleActive()
      }), this.$contentWrap.on("scroll", function () {
        return s.onScroll()
      }), this.onScroll(), this.$window.on("resize", function () {
        return s.onResize()
      }), this.onResize(), e(".error").length && this.setErrorPage(), app.utils.delay(100, function () {
        return s.trigger(s.EVENT_DATA_LOADED)
      })
    },
    onResize: function () {
      var e = this;
      return this.resizeDebounce && clearTimeout(this.resizeDebounce), this.resizeDebounce = app.utils.delay(100, function () {
        return i.measure(function () {
          var t, n;
          t = e.$window.height(), n = e.$window.width(), e.overlayNavView.onResize(t, n), e.shareView.onResize(t, n), e.shareMobileView.onResize(t, n);
          if (app.views.currentView) return app.views.currentView.onResize(t, n)
        })
      })
    },
    onScroll: function () {
      var e = this;
      return this.scrollDebounce && clearTimeout(this.scrollDebounce), this.scrollDebounce = app.utils.delay(100, function () {
        if (e.$topNavEl != null && e.isHeaderFixed === !1) if (e.$contentWrap.scrollTop() > 100) {
          if (e.isCollapsed === !1) return i.mutate(function () {
            return e.$topNavEl.addClass("collapsed")
          }), e.isCollapsed = !0
        } else if (e.isCollapsed) return i.mutate(function () {
          return e.$topNavEl.removeClass("collapsed")
        }), e.isCollapsed = !1
      })
    },
    onPathChanged: function (t, n, r) {
      var i, s, o = this;
      console.log("onPathChanged > ", t, n, r);
      if (t === app.appStatus.currentPage && n === app.appStatus.currentSubPage && r === app.appStatus.currentSubSubPage) return;
      return app.appStatus.previousPage = app.appStatus.currentPage, app.appStatus.previousSubPage = app.appStatus.currentSubPage, app.appStatus.currentPage = t, app.appStatus.currentSubPage = n, app.appStatus.currentSubSubPage = r, s = "/" + t, n && (s += "/" + n), r && (s += "/" + r), this.isInitLoad ? (e(".error").length ? this.setCurrentView(app.appConfig.routes.ERROR) : this.setCurrentView(t, n, r, !0), this.isInitLoad = !1) : (app.views.navView.onCloseClick(), i = e("<div class='content-fadeout'/>").append(this.mainRegion.$el.children()), i.find("*").removeAttr("id"), this.mainRegion.$el.append(i), i.fadeOut(function () {
        return o.mainRegion.$el.addClass("transition"), i.remove(), o.$get && o.$get.abort(), o.$get = e.ajax({
          url: s,
          dataType: "text",
          success: function (i) {
            var s, u, a;
            return s = e("<div class='content-fadein'/>"), s.append(e(i).find("#content").children()).hide(), o.mainRegion.$el.append(s), u = i.match(/<title>(.*?)<\/title>/), a = u[1], a && a !== "" && (window.document.title = a), app.utils.delay(10, function () {
              return s.fadeIn()
            }), app.utils.delay(20, function () {
              return s.find(".error").length ? o.setCurrentView(app.appConfig.routes.ERROR) : o.setCurrentView(t, n, r)
            }), app.utils.delay(100, function () {
              return o.mainRegion.$el.removeClass("transition")
            })
          }
        })
      }))
    },
    setCurrentView: function (e, t, n, r) {
      var i, o;
      e == null && (e = null), t == null && (t = null), n == null && (n = null), r == null && (r = !1), console.log("setCurrentView >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> ", e, t, n), app.views.currentView && app.views.currentView.destroy(), o = "all";
      switch (e) {
        case app.appConfig.routes.DEFAULT:
          app.views.currentView = new f({el: this.fullpageRegion.$el}), i = !1;
          break;
        default:
          app.views.currentView = new s
      }
      return this.setNavigationActive(o), this.onResize()
    },
    setNavigationActive: function (e) {
    },
    setErrorPage: function () {
      var t;
      return e(".search-icon-wrapper").click(function () {
        return t()
      }), e(".results-search input").keyup(function (e) {
        if (e.keyCode === 13 || e.which === 13) return t()
      }), t = function () {
        var t;
        t = e(".results-search input").val().trim();
        if (t !== "" && t.length >= 3) return window.location.href = "/search/results?term=" + escape(t)
      }
    }
  })
}), define("lp-timeline-router", ["jquery", "underscore", "backbone"], function (e, t, n) {
  var r;
  return r = n.Router.extend({
    EVENT_HASH_CHANGED: "EVENT_HASH_CHANGED",
    DIRECTORY_DEEPLINK: "DIRECTORY_DEEPLINK",
    MAP_DEEPLINK: "MAP_DEEPLINK",
    currentPage: "",
    routes: {
      ":id": "pathChange",
      "/:id": "pathChange",
      ":id/": "pathChange",
      "/:id/": "pathChange",
      ":id/:subid": "pathChange",
      "/:id/:subid": "pathChange",
      ":id/:subid/": "pathChange",
      "/:id/:subid/": "pathChange",
      ":id/:subid/:subsubid": "pathChange",
      "/:id/:subid/:subsubid": "pathChange",
      ":id/:subid/:subsubid/": "pathChange",
      "/:id/:subid/:subsubid/": "pathChange",
      ":id/:subid/:subsubid/*actions": "pathChange",
      "/:id/:subid/:subsubid/*actions": "pathChange",
      "*actions": "default"
    },
    pathChange: function (e, t, n) {
      var r;
      console.log("pathChange", e, t, n, app.appConfig);
      if (app.utils.valueInObject(e, app.appConfig.routes)) {
        r = "/" + e, t && (r += "/" + t), n && (r += "/" + n);
        if (r !== this.currentPage) return this.currentPage = r, typeof ga != "undefined" && ga !== null && ga("send", "pageview", {page: r}), this.trigger(this.EVENT_HASH_CHANGED, e, t, n)
      }
    },
    "default": function (e) {
      return this.pathChange(app.appConfig.routes.DEFAULT)
    },
    navigateTo: function (e) {
      return Modernizr.history ? this.navigate(e, {trigger: !0}) : window.location.pathname = e
    }
  })
}), define("router", ["jquery", "underscore", "backbone", "lp-timeline-router"], function (e, t, n, r) {
  var i;
  return i = r.extend()
}), define("lp-timeline-app-config", {
  sizing: {mobile: 1024, phone: 480, below_tablet: 768},
  routes: {DEFAULT: ""}
}), define("app-config", ["jquery", "lp-timeline-app-config"], function (e, t) {
  var n, r;
  return r = {routes: {DEFAULT: "legacy"}}, n = e.extend(t, r), n
}), define("lp-timeline-app-utils", ["underscore", "backbone", "jquery"], function (e, t, n) {
  var r;
  return r = t.Model.extend({
    tmplCache: [], renderTemplate: function (t, r, i) {
      var s, o;
      return i == null && (i = !1), this.tmplCache[t] || (o = i ? t : "static/templates/" + t + ".html", s = void 0, n.ajax({
        url: o,
        method: "GET",
        async: !1,
        success: function (e) {
          return s = e
        },
        error: function (e, t) {
          return console.warn(e, t)
        }
      }), typeof s != "string" && (s = "<span class='center'><h1>MISSING HTML</h1></span>"), this.tmplCache[t] = s), e.template(this.tmplCache[t], r)
    }, delay: function (e, t) {
      return setTimeout(t, e)
    }, randomID: function () {
      return Math.random().toString(36).substring(7)
    }, getVideoPlayer: function (e, t, n) {
      var r, i, s, o, u;
      if (!e) return "";
      if (!t > 0 || !n > 0) t = 840, n = 420;
      return i = "", e.indexOf("vimeo") !== -1 ? (u = e.split("/"), r = u[u.length - 1], i += '<iframe src="//player.vimeo.com/video/' + r.trim() + '" width="' + t + 'px" height="' + n + 'px" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>') : e.indexOf("youtube") !== -1 && (r = "", o = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/, s = e.match(o), s && s[2].length === 11 ? r = s[2] : console.log("Youtube link incorrect: " + e), i += '<iframe src="//www.youtube.com/embed/' + r.trim() + '" width="' + t + '" height="' + n + '" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'), i
    }, objIsEmpty: function (e) {
      return Object.keys(e).length === 0
    }, slugify: function (e, t) {
      var n;
      t == null && (t = !1);
      try {
        return t ? e.toLowerCase().replace(RegExp(" ", "g"), "").replace(/[^\w-]+/g, "") : e.toLowerCase().replace(RegExp(" ", "g"), "-").replace(/[^\w-]+/g, "")
      } catch (r) {
        return n = r, console.log("slugify", e, n)
      }
    }, unslugify: function (e) {
      var t, n, r, i, s, o;
      try {
        i = e.split("-"), n = [];
        for (s = 0, o = i.length; s < o; s++) r = i[s], n.push(r.charAt(0).toUpperCase() + r.slice(1));
        return n.join(" ")
      } catch (u) {
        return t = u, console.log("slugify", e, t)
      }
    }, validateEmail: function (e) {
      var t;
      return t = /^([\w.-]+)@([\w.-]+)\.([a-zA-Z.]{2,6})$/i, e.match(t)
    }, valueInObject: function (e, t) {
      var n;
      for (n in t) {
        if (!t.hasOwnProperty(n)) continue;
        if (t[n] === e) return !0
      }
      return !1
    }, printUrl: function (e) {
      var t, r;
      return r = n("<iframe width='1' height='1'/>"), t = n("body"), t.append(r), r.attr("src", "/"), r.load(function () {
        r.get(0).contentWindow.location = e;
        if (!r) {
          alert("Error: Can't find");
          return
        }
        return t.on("PAGE_RENDERED", function () {
          var e;
          return t.off("PAGE_RENDERED"), e = r.get(0).contentWindow, e.focus(), e.print()
        })
      })
    }, millisecondsToTime: function (e) {
      var t, n, r, i;
      return n = e % 1e3, i = Math.floor(e / 1e3 % 60), r = Math.floor(e / 6e4 % 60), i = i < 10 ? "0" + i : i, t = r + ":" + i, t
    }, getRandomInRange: function (e, t) {
      return Math.floor(Math.random() * (t - e + 1)) + e
    }, getParameterByName: function (e) {
      var t, n;
      return e = e.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]"), t = new RegExp("[\\?&]" + e + "=([^&#]*)"), n = t.exec(location.search), n === null ? "" : decodeURIComponent(n[1].replace(/\+/g, " "))
    }, arrayMatches: function (e, t) {
      var n, r, i;
      i = [], r = 0;
      while (r < e.length) {
        n = 0;
        while (n < t.length) e[r] === t[n] && i.push(e[r]), n++;
        r++
      }
      return i
    }, clone: function (e) {
      var t, n, r;
      if (e == null || typeof e != "object") return e;
      if (e instanceof Date) return new Date(e.getTime());
      if (e instanceof RegExp) return t = "", e.global != null && (t += "g"), e.ignoreCase != null && (t += "i"), e.multiline != null && (t += "m"), e.sticky != null && (t += "y"), new RegExp(e.source, t);
      r = new e.constructor;
      for (n in e) r[n] = this.clone(e[n]);
      return r
    }
  })
}), define("app-utils", ["underscore", "backbone", "jquery", "lp-timeline-app-utils"], function (e, t, n, r) {
  var i;
  return i = r.extend()
}), !function () {
  "use strict";
  if ("objectFit" in document.documentElement.style != 0) return void (window.objectFitPolyfill = function () {
    return !1
  });
  var e = function (e) {
    var t = window.getComputedStyle(e, null), n = t.getPropertyValue("position"), r = t.getPropertyValue("overflow"),
      i = t.getPropertyValue("display");
    n && "static" !== n || (e.style.position = "relative"), "hidden" !== r && (e.style.overflow = "hidden"), i && "inline" !== i || (e.style.display = "block"), 0 === e.clientHeight && (e.style.height = "100%"), -1 === e.className.indexOf("object-fit-polyfill") && (e.className = e.className + " object-fit-polyfill")
  }, t = function (e) {
    var t = window.getComputedStyle(e, null),
      n = {"max-width": "none", "max-height": "none", "min-width": "0px", "min-height": "0px"};
    for (var r in n) t.getPropertyValue(r) !== n[r] && (e.style[r] = n[r])
  }, n = function (e, t, n) {
    n = n.split(" ");
    var r, i, s, o, u;
    if ("x" === e) r = n[0], i = n[1], s = "left", o = "right", u = t.clientWidth; else {
      if ("y" !== e) return;
      r = n[1], i = n[0], s = "top", o = "bottom", u = t.clientHeight
    }
    return r === s || i === s ? void (t.style[s] = "0") : r === o || i === o ? void (t.style[o] = "0") : "center" === r || "50%" === r ? (t.style[s] = "50%", void (t.style["margin-" + s] = u / -2 + "px")) : r.indexOf("%") >= 0 ? (r = parseInt(r), void (r < 50 ? (t.style[s] = r + "%", t.style["margin-" + s] = u * (r / -100) + "px") : (r = 100 - r, t.style[o] = r + "%", t.style["margin-" + o] = u * (r / -100) + "px"))) : void (t.style[s] = r)
  }, r = function (r) {
    var i = r.dataset ? r.dataset.objectFit : r.getAttribute("data-object-fit"),
      s = r.dataset ? r.dataset.objectPosition : r.getAttribute("data-object-position");
    i = i || "cover", s = s || "50% 50%";
    var o = r.parentNode;
    e(o), t(r), r.style.position = "absolute", r.style.height = "100%", r.style.width = "auto", "scale-down" === i && (r.style.height = "auto", r.clientWidth < o.clientWidth && r.clientHeight < o.clientHeight ? (n("x", r, s), n("y", r, s)) : (i = "contain", r.style.height = "100%")), "none" === i ? (r.style.width = "auto", r.style.height = "auto", n("x", r, s), n("y", r, s)) : "cover" === i && r.clientWidth > o.clientWidth || "contain" === i && r.clientWidth < o.clientWidth ? (r.style.top = "0", r.style.marginTop = "0", n("x", r, s)) : "scale-down" !== i && (r.style.width = "100%", r.style.height = "auto", r.style.left = "0", r.style.marginLeft = "0", n("y", r, s))
  }, i = function () {
    for (var e = document.querySelectorAll("[data-object-fit]"), t = 0; t < e.length; t++) {
      var n = e[t].nodeName.toLowerCase();
      "img" === n ? e[t].complete ? r(e[t]) : e[t].addEventListener("load", function () {
        r(this)
      }) : "video" === n && (e[t].readyState > 0 ? r(e[t]) : e[t].addEventListener("loadedmetadata", function () {
        r(this)
      }))
    }
    return !0
  };
  document.addEventListener("DOMContentLoaded", function () {
    i()
  }), window.addEventListener("resize", function () {
    i()
  }), window.objectFitPolyfill = i
}(), define("objectfit", function () {
}), function () {
  return window.onerror = function (e, t, n, r, i) {
    var s;
    return s = {
      errorMsg: e,
      file: t,
      lineNumber: n,
      agent: navigator.userAgent,
      webpage: window.location.href,
      screensize: window.innerWidth + " x " + window.innerHeight
    }, s.column = r || "no column", s.stack = i.stack || "no stack", s.raw = JSON.stringify(s), $.ajax({
      url: "/api/logs",
      method: "POST",
      data: s,
      beforeSend: function (e) {
        return e.setRequestHeader("X-CSRF-Token", csrf_token)
      }
    })
  }
}(), define("app-error", function () {
});
if (typeof console == "undefined" || window.location.hostname.lastIndexOf("eisenhowermemorial.gov") > -1 && window.location.hostname.lastIndexOf("dev") === -1) window.console = {
  log: function () {
  }, debug: function () {
  }, info: function () {
  }, warn: function () {
  }, error: function () {
  }
};
Array.prototype.forEach || (Array.prototype.forEach = function (e, t) {
  var n, r, i;
  n = 0, r = this.length, i = [];
  while (n < r) e.call(t, this[n], n, this), i.push(++n);
  return i
}), ["log", "warn"].forEach(function (e) {
  var t;
  return t = console[e], console[e] = function () {
    var e, n, r;
    try {
      return r = (new Error).stack.split(/\n/), r[0].indexOf("Error") === 0 && (r = r.slice(1)), e = [].slice.apply(arguments).concat([r[1].trim()]), t.apply(console, e)
    } catch (i) {
      n = i
    }
  }
}), window.storedHash = window.location.hash, window.location.hash = "", window.requestAnimFrame = function () {
  return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function (e) {
    window.setTimeout(e, 1e3 / 60)
  }
}(), require.config({
  paths: {
    "app-view": "views/AppView",
    router: "router/AppRouter",
    "app-config": "config/AppConfig",
    "app-utils": "utils/AppUtils",
    "app-error": "utils/AppErrorReport",
    "lp-timeline-app-view": "lp_timeline/views/LPTimelineAppView",
    "lp-timeline-abstract-view": "lp_timeline/views/LPTimelineAbstractView",
    "lp-timeline-abstract-layout": "lp_timeline/views/LPTimelineAbstractLayoutView",
    "lp-timeline-abstract-modal": "lp_timeline/views/LPTimelineAbstractModalView",
    "lp-timeline-abstract-item-view": "lp_timeline/views/LPTimelineAbstractItemView",
    "lp-timeline-share-save": "lp_timeline/views/modules/LPTimelineShareSaveView",
    "lp-timeline-router": "lp_timeline/router/LPTimelineAppRouter",
    "lp-timeline-app-utils": "lp_timeline/utils/LPTimelineUtils",
    "lp-timeline-app-config": "lp_timeline/config/LPTimelineAppConfig",
    unslider: "libs/unslider/unslider.min",
    jqueryUI: "libs/jquery/jquery-ui.min",
    accordion: "libs/jquery/jquery.accordion",
    fullpage: "libs/fullpage/jquery.fullPage",
    wavesurfer: "libs/wavesurfer/wavesurfer.min",
    "grid-gallery": "libs/cbpGridGallery",
    slick: "libs/slick/slick.min",
    videojs: "libs/video",
    migrate: "https://cdnjs.cloudflare.com/ajax/libs/jquery-migrate/1.2.1/jquery-migrate.min",
    slimscroll: "https://cdnjs.cloudflare.com/ajax/libs/jQuery-slimScroll/1.3.6/jquery.slimscroll.min",
    text: "libs/require/text",
    jquery: "libs-bower/jquery/dist/jquery.min",
    underscore: "libs-bower/underscore/underscore",
    backbone: "libs-bower/backbone/backbone",
    marionette: "libs-bower/backbone.marionette/lib/backbone.marionette",
    hammer: "libs-bower/hammerjs/hammer",
    imagesloaded: "libs-bower/imagesloaded/imagesloaded.pkgd",
    dotdotdot: "libs-bower/jQuery.dotdotdot/src/js/jquery.dotdotdot",
    lazy: "libs-bower/lazysizes/lazysizes",
    masonry: "libs-bower/masonry/dist/masonry.pkgd",
    transit: "libs-bower/jquery.transit/jquery.transit",
    objectfit: "libs-bower/objectFitPolyfill/dist/objectFitPolyfill.min",
    fastdom: "libs-bower/fastdom/fastdom"
  },
  shim: {
    underscore: {exports: "_"},
    backbone: {deps: ["underscore", "jquery"], exports: "Backbone"},
    accordion: {deps: ["jquery"]},
    dotdotdot: {deps: ["jquery"]},
    hammer: {deps: ["jquery"]},
    transit: {deps: ["jquery"]},
    masonry: {deps: ["jquery"]},
    migrate: {deps: ["jquery"]},
    slimscroll: {deps: ["jquery"]},
    unslider: {deps: ["jquery", "hammer", "imagesloaded"]}
  }
}), require(["jquery", "underscore", "backbone", "lp-timeline-app-view", "router", "app-config", "app-utils", "migrate", "lazy", "slimscroll", "objectfit", "fastdom", "app-error"], function (e, t, n, r, i, s, o, u, a, f, l, c, h) {
  return e(document).ready(function () {
    return window.app = window.app || {}, app.controllers = {}, app.collections = {}, app.models = {}, app.views = {}, app.appStatus = {}, app.eventBus = t.extend({}, n.Events), app.appConfig = s, app.utils = new o, app.views.AppView = new r, app.views.AppView.on(app.views.AppView.EVENT_DATA_LOADED, function () {
      var e, t, r, s;
      return app.appRouter = new i, app.appRouter.on(app.appRouter.EVENT_HASH_CHANGED, app.views.AppView.onPathChanged, app.views.AppView), t = Modernizr.history, n.history.start({
        pushState: t,
        root: "/",
        silent: !0
      }), t ? n.history.loadUrl(n.history.getFragment()) : (s = n.history.options.root.length, e = window.location.pathname.substr(s), e.trim() === "" ? app.appRouter["default"]() : (r = e.split("/"), app.appRouter.pathChange(r[0], r[1], r[2]))), window.location.hash = window.storedHash
    }), navigator.userAgent.toLowerCase().lastIndexOf("msie") > -1 && e("html").addClass("ie"), window.location.toString().lastIndexOf("debug") > -1 && e("body").addClass("debug").append(e("<div id='debug-grid'></div>")), function (e, t, n) {
      var r, i, s;
      return s = "backgroundCover", i = {fadeIn: !1}, r = function () {
        function n(t, n) {
          this.element = t, this.settings = e.extend({}, i, n), this._defaults = i, this._name = s, this.init()
        }

        return n.prototype.init = function () {
          var n = this;
          return this.$element = e(this.element), this.$parent = this.$element.parent(), this.window = e(t), this.window.resize(function () {
            return n.onResize()
          }), this.onResize(), app.utils.delay(50, function () {
            return n.$element.prop("complete") ? n.onResize() : n.$element.load(function () {
              return n.onResize()
            })
          })
        }, n.prototype.onResize = function () {
          var e = this;
          return this.$element.attr("style", ""), c.measure(function () {
            debugger;
            var t, n, r, i, s;
            return n = e.$parent.width(), t = e.$parent.height(), s = e.$element.width(), i = e.$element.height(), r = e.calculateAspectRatioFit(s, i, n, t), c.mutate(function () {
              debugger;
              e.$element.width(Math.ceil(r.width + 2)), e.$element.height(Math.ceil(r.height + 2));
              if (!e.$element.hasClass("is-visible")) return e.$element.addClass("is-visible")
            })
          })
        }, n.prototype.calculateAspectRatioFit = function (e, t, n, r) {
          var i;
          return i = Math.max(n / e, r / t), {width: e * i, height: t * i}
        }, n
      }(), e.fn[s] = function (t) {
        return this.each(function () {
          if (!e.data(this, "plugin_" + s)) return e.data(this, "plugin_" + s, new r(this, t))
        })
      }
    }(jQuery, window, document)
  })
}), define("AppMain", function () {
});
